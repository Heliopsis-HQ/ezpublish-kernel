<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>eZ\Publish\SPI\Persistence\User\Handler | eZ Publish 5 API</title>
                    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../../../../../classes.html">Classes</a></li>
                            <li><a href="../../../../../namespaces.html">Namespaces</a></li>
                        <li><a href="../../../../../interfaces.html">Interfaces</a></li>
            <li><a href="../../../../../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">eZ Publish 5 API</div>

            <div class="type">Interface</div>
    <h1><a href="../../../../../eZ/Publish/SPI/Persistence/User.html">eZ\Publish\SPI\Persistence\User</a>\Handler</h1>
    </div>
        <div class="content">
                <p>interface    <strong>Handler</strong></p>

            <div class="description">
            <p>Storage Engine handler for user module</p>
            <p></p>
        </div>
    
    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_create">create</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a> $user)
                    <p>Create a user</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_load">load</a>(mixed $userId)
                    <p>Loads user with user ID.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadByLogin">loadByLogin</a>(string $login, boolean $alsoMatchEmail = false)
                    <p>Loads user(s) with user login / email.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_update">update</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a> $user)
                    <p>Update the user information specified by the user struct</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_delete">delete</a>(mixed $userId)
                    <p>Delete user with the given ID.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_createRole">createRole</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a> $role)
                    <p>Create new role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_loadRole">loadRole</a>(mixed $roleId)
                    <p>Loads a specified role by $roleId</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_loadRoleByIdentifier">loadRoleByIdentifier</a>(string $identifier)
                    <p>Loads a specified role by $identifier</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadRoles">loadRoles</a>()
                    <p>Loads all roles</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadRolesByGroupId">loadRolesByGroupId</a>(mixed $groupId)
                    <p>Loads roles assigned to a user/group (not including inherited roles)</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadRoleAssignmentsByRoleId">loadRoleAssignmentsByRoleId</a>(mixed $roleId)
                    <p>Loads roles assignments Role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadRoleAssignmentsByGroupId">loadRoleAssignmentsByGroupId</a>(mixed $groupId, boolean $inherit = false)
                    <p>Loads roles assignments to a user/group</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_updateRole">updateRole</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleUpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleUpdateStruct">RoleUpdateStruct</abbr></a> $role)
                    <p>Update role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_deleteRole">deleteRole</a>(mixed $roleId)
                    <p>Delete the specified role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_addPolicy">addPolicy</a>(mixed $roleId, <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a> $policy)
                    <p>Adds a policy to a role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_updatePolicy">updatePolicy</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a> $policy)
                    <p>Update a policy</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_removePolicy">removePolicy</a>(mixed $roleId, mixed $policyId)
                    <p>Removes a policy from a role</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_loadPoliciesByUserId">loadPoliciesByUserId</a>(mixed $userId)
                    <p>Returns the user policies associated with the user (including inherited policies from user groups)</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_assignRole">assignRole</a>(mixed $contentId, mixed $roleId, array $limitation = null)
                    <p>Assigns role to a user or user group with given limitations</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_unAssignRole">unAssignRole</a>(mixed $contentId, mixed $roleId)
                    <p>Un-assign a role</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method_create">
        <div class="location">at line 33</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>
    <strong>create</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a> $user)</code>
    </h3>
    <div class="details">
        <p>Create a user</p>
        <p>The User struct used to create the user will contain an ID which is used<br />
 to reference the user.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a></td>
                <td>$user</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_load">
        <div class="location">at line 44</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>
    <strong>load</strong>(mixed $userId)</code>
    </h3>
    <div class="details">
        <p>Loads user with user ID.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$userId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/API/Repository/Exceptions/NotFoundException.html"><abbr title="eZ\Publish\API\Repository\Exceptions\NotFoundException">NotFoundException</abbr></a></td>
                <td>If user is not found</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_loadByLogin">
        <div class="location">at line 56</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>[]
    <strong>loadByLogin</strong>(string $login, boolean $alsoMatchEmail = false)</code>
    </h3>
    <div class="details">
        <p>Loads user(s) with user login / email.</p>
        <p>Optimized for login use (hence the possibility to match email and return several users).</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$login</td>
                <td></td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$alsoMatchEmail</td>
                <td>Also match user email, caller must verify that $login is a valid email address.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_update">
        <div class="location">at line 63</div>
        <code>            public            
    <strong>update</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a> $user)</code>
    </h3>
    <div class="details">
        <p>Update the user information specified by the user struct</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User.html"><abbr title="eZ\Publish\SPI\Persistence\User">User</abbr></a></td>
                <td>$user</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_delete">
        <div class="location">at line 72</div>
        <code>            public            
    <strong>delete</strong>(mixed $userId)</code>
    </h3>
    <div class="details">
        <p>Delete user with the given ID.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$userId</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_createRole">
        <div class="location">at line 81</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
    <strong>createRole</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a> $role)</code>
    </h3>
    <div class="details">
        <p>Create new role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a></td>
                <td>$role</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadRole">
        <div class="location">at line 92</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
    <strong>loadRole</strong>(mixed $roleId)</code>
    </h3>
    <div class="details">
        <p>Loads a specified role by $roleId</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/API/Repository/Exceptions/NotFoundException.html"><abbr title="eZ\Publish\API\Repository\Exceptions\NotFoundException">NotFoundException</abbr></a></td>
                <td>If role is not found</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_loadRoleByIdentifier">
        <div class="location">at line 103</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>
    <strong>loadRoleByIdentifier</strong>(string $identifier)</code>
    </h3>
    <div class="details">
        <p>Loads a specified role by $identifier</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$identifier</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/API/Repository/Exceptions/NotFoundException.html"><abbr title="eZ\Publish\API\Repository\Exceptions\NotFoundException">NotFoundException</abbr></a></td>
                <td>If role is not found</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_loadRoles">
        <div class="location">at line 110</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]
    <strong>loadRoles</strong>()</code>
    </h3>
    <div class="details">
        <p>Loads all roles</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadRolesByGroupId">
        <div class="location">at line 120</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]
    <strong>loadRolesByGroupId</strong>(mixed $groupId)</code>
    </h3>
    <div class="details">
        <p>Loads roles assigned to a user/group (not including inherited roles)</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$groupId</td>
                <td>In legacy storage engine this is the content object id a role is assigned to. By the nature of legacy storage engine, it is therefor possible to use $userId as well here.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Role.html"><abbr title="eZ\Publish\SPI\Persistence\User\Role">Role</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadRoleAssignmentsByRoleId">
        <div class="location">at line 131</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]
    <strong>loadRoleAssignmentsByRoleId</strong>(mixed $roleId)</code>
    </h3>
    <div class="details">
        <p>Loads roles assignments Role</p>
        <p>Role Assignments with same roleId and limitationIdentifier will be merged together into one.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadRoleAssignmentsByGroupId">
        <div class="location">at line 144</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]
    <strong>loadRoleAssignmentsByGroupId</strong>(mixed $groupId, boolean $inherit = false)</code>
    </h3>
    <div class="details">
        <p>Loads roles assignments to a user/group</p>
        <p>Role Assignments with same roleId and limitationIdentifier will be merged together into one.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$groupId</td>
                <td>In legacy storage engine this is the content object id roles are assigned to in ezuser_role. By the nature of legacy this can currently also be used to get by $userId.</td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$inherit</td>
                <td>If true also return inherited role assigments from user groups.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleAssignment.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleAssignment">RoleAssignment</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_updateRole">
        <div class="location">at line 151</div>
        <code>            public            
    <strong>updateRole</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleUpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleUpdateStruct">RoleUpdateStruct</abbr></a> $role)</code>
    </h3>
    <div class="details">
        <p>Update role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/RoleUpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\User\RoleUpdateStruct">RoleUpdateStruct</abbr></a></td>
                <td>$role</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_deleteRole">
        <div class="location">at line 158</div>
        <code>            public            
    <strong>deleteRole</strong>(mixed $roleId)</code>
    </h3>
    <div class="details">
        <p>Delete the specified role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_addPolicy">
        <div class="location">at line 170</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a>
    <strong>addPolicy</strong>(mixed $roleId, <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a> $policy)</code>
    </h3>
    <div class="details">
        <p>Adds a policy to a role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a></td>
                <td>$policy</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/API/Repository/Exceptions/InvalidArgumentException.html"><abbr title="eZ\Publish\API\Repository\Exceptions\InvalidArgumentException">InvalidArgumentException</abbr></a></td>
                <td>If $policy-&gt;limitation is empty (null, empty string/array..)</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_updatePolicy">
        <div class="location">at line 181</div>
        <code>            public            
    <strong>updatePolicy</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a> $policy)</code>
    </h3>
    <div class="details">
        <p>Update a policy</p>
        <p>Replaces limitations values with new values.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a></td>
                <td>$policy</td>
                <td></td>
            </tr>
            </table>

            
            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/API/Repository/Exceptions/InvalidArgumentException.html"><abbr title="eZ\Publish\API\Repository\Exceptions\InvalidArgumentException">InvalidArgumentException</abbr></a></td>
                <td>If $policy-&gt;limitation is empty (null, empty string/array..)</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_removePolicy">
        <div class="location">at line 193</div>
        <code>            public            void
    <strong>removePolicy</strong>(mixed $roleId, mixed $policyId)</code>
    </h3>
    <div class="details">
        <p>Removes a policy from a role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$policyId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadPoliciesByUserId">
        <div class="location">at line 202</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a>[]
    <strong>loadPoliciesByUserId</strong>(mixed $userId)</code>
    </h3>
    <div class="details">
        <p>Returns the user policies associated with the user (including inherited policies from user groups)</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$userId</td>
                <td>In legacy storage engine this is the content object id roles are assigned to in ezuser_role.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/User/Policy.html"><abbr title="eZ\Publish\SPI\Persistence\User\Policy">Policy</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_assignRole">
        <div class="location">at line 226</div>
        <code>            public            
    <strong>assignRole</strong>(mixed $contentId, mixed $roleId, array $limitation = null)</code>
    </h3>
    <div class="details">
        <p>Assigns role to a user or user group with given limitations</p>
        <p>The limitation array looks like:<br />
 &lt;code&gt;<br />
  array(<br />
      &#039;Subtree&#039; =&gt; array(<br />
          &#039;/1/2/&#039;,<br />
          &#039;/1/4/&#039;,<br />
      ),<br />
      &#039;Foo&#039; =&gt; array( &#039;Bar&#039; ),<br />
      …<br />
  )<br />
 &lt;/code&gt;<br />
<br />
 Where the keys are the limitation identifiers, and the respective values<br />
 are an array of limitation values. The limitation parameter is optional.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td>The groupId or userId to assign the role to.</td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$limitation</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_unAssignRole">
        <div class="location">at line 234</div>
        <code>            public            
    <strong>unAssignRole</strong>(mixed $contentId, mixed $roleId)</code>
    </h3>
    <div class="details">
        <p>Un-assign a role</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td>The user or user group Id to un-assign the role from.</td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$roleId</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
