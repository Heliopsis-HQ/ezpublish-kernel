<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>eZ\Publish\Core\FieldType\Image\ImageStorage | eZ Publish 5 API</title>
                    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../../../../../classes.html">Classes</a></li>
                            <li><a href="../../../../../namespaces.html">Namespaces</a></li>
                        <li><a href="../../../../../interfaces.html">Interfaces</a></li>
            <li><a href="../../../../../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">eZ Publish 5 API</div>

            <div class="type">Class</div>
    <h1><a href="../../../../../eZ/Publish/Core/FieldType/Image.html">eZ\Publish\Core\FieldType\Image</a>\ImageStorage</h1>
    </div>
        <div class="content">
                <p>class    <strong>ImageStorage</strong>        extends <a href="../../../../../eZ/Publish/Core/FieldType/GatewayBasedStorage.html"><abbr title="eZ\Publish\Core\FieldType\GatewayBasedStorage">GatewayBasedStorage</abbr></a></p>

            <div class="description">
            <p>Converter for Image field type external storage</p>
            <p>The keyword storage ships a list (array) of keywords in<br />
 $field-&gt;value-&gt;externalData. $field-&gt;value-&gt;data is simply empty, because no<br />
 internal data is store.</p>
        </div>
    
    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method___construct">__construct</a>(array $gateways, <a href="../../../../../eZ/Publish/Core/FieldType/FileService.html"><abbr title="eZ\Publish\Core\FieldType\FileService">FileService</abbr></a> $fileService, <a href="../../../../../eZ/Publish/Core/FieldType/Image/PathGenerator.html"><abbr title="eZ\Publish\Core\FieldType\Image\PathGenerator">PathGenerator</abbr></a> $pathGenerator)
                    <p>Construct from gateways</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_addGateway">addGateway</a>(string $identifier, <a href="../../../../../eZ/Publish/Core/FieldType/StorageGateway.html"><abbr title="eZ\Publish\Core\FieldType\StorageGateway">StorageGateway</abbr></a> $gateway)
                    <p>Adds a storage $gateway assigned to the given $identifier</p>
                </td>
                <td><small>from&nbsp;<a href="../../../../../eZ/Publish/Core/FieldType/GatewayBasedStorage.html#method_addGateway"><abbr title="eZ\Publish\Core\FieldType\GatewayBasedStorage">GatewayBasedStorage</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<abbr title="eZ\Publish\SPI\FieldType\true">true</abbr>
                </td>
                <td class="last">
                    <a href="#method_storeFieldData">storeFieldData</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)
                    <p>Allows custom field types to store data in an external source (e.g.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_getFieldData">getFieldData</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)
                    <p>Populates $field value property based on the external data.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_deleteFieldData">deleteFieldData</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, array $fieldIds, array $context)
                    <p>Deletes field data for all $fieldIds in the version identified by $versionInfo.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_hasFieldData">hasFieldData</a>()
                    <p>Checks if field type has external data to deal with</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Search/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Search\Field">Field</abbr></a>[]
                </td>
                <td class="last">
                    <a href="#method_getIndexData">getIndexData</a>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)
                    <p>Get index data for external data for search backend</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method___construct">
        <div class="location">at line 47</div>
        <code>            public            
    <strong>__construct</strong>(array $gateways, <a href="../../../../../eZ/Publish/Core/FieldType/FileService.html"><abbr title="eZ\Publish\Core\FieldType\FileService">FileService</abbr></a> $fileService, <a href="../../../../../eZ/Publish/Core/FieldType/Image/PathGenerator.html"><abbr title="eZ\Publish\Core\FieldType\Image\PathGenerator">PathGenerator</abbr></a> $pathGenerator)</code>
    </h3>
    <div class="details">
        <p>Construct from gateways</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>array</td>
                <td>$gateways</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/Core/FieldType/FileService.html"><abbr title="eZ\Publish\Core\FieldType\FileService">FileService</abbr></a></td>
                <td>$fileService</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/Core/FieldType/Image/PathGenerator.html"><abbr title="eZ\Publish\Core\FieldType\Image\PathGenerator">PathGenerator</abbr></a></td>
                <td>$pathGenerator</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_addGateway">
        <div class="location">in <a href="../../../../../eZ/Publish/Core/FieldType/GatewayBasedStorage.html#method_addGateway"><abbr title="eZ\Publish\Core\FieldType\GatewayBasedStorage">GatewayBasedStorage</abbr></a> at line 58</div>
        <code>            public            void
    <strong>addGateway</strong>(string $identifier, <a href="../../../../../eZ/Publish/Core/FieldType/StorageGateway.html"><abbr title="eZ\Publish\Core\FieldType\StorageGateway">StorageGateway</abbr></a> $gateway)</code>
    </h3>
    <div class="details">
        <p>Adds a storage $gateway assigned to the given $identifier</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$identifier</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/Core/FieldType/StorageGateway.html"><abbr title="eZ\Publish\Core\FieldType\StorageGateway">StorageGateway</abbr></a></td>
                <td>$gateway</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_storeFieldData">
        <div class="location">at line 57</div>
        <code>            public            null|<abbr title="eZ\Publish\SPI\FieldType\true">true</abbr>
    <strong>storeFieldData</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)</code>
    </h3>
    <div class="details">
        <p>Allows custom field types to store data in an external source (e.g.</p>
        <p>another DB table).<br />
<br />
 Stores value for $field in an external data source.<br />
 The whole {@link eZ\Publish\SPI\Persistence\Content\Field} object is passed and its value<br />
 is accessible through the {@link eZ\Publish\SPI\Persistence\Content\FieldValue} &#039;value&#039; property.<br />
 This value holds the data filled by the user as a {@link eZ\Publish\Core\FieldType\Value} based object,<br />
 according to the field type (e.g. for TextLine, it will be a {@link eZ\Publish\Core\FieldType\TextLine\Value} object).<br />
<br />
 $field-&gt;id = unique ID from the attribute tables (needs to be generated by<br />
 database back end on create, before the external data source may be<br />
 called from storing).<br />
<br />
 The context array provides some context for the field handler about the<br />
 currently used storage engine.<br />
 The array should at least define 2 keys :<br />
   - identifier (connection identifier)<br />
   - connection (the connection handler)<br />
 For example, using Legacy storage engine, $context will be:<br />
   - identifier = &#039;LegacyStorage&#039;<br />
   - connection = {@link \eZ\Publish\Core\Persistence\Legacy\EzcDbHandler} object handler (for DB connection),<br />
                  to be used accordingly to<br />
                  {@link http://incubator.apache.org/zetacomponents/documentation/trunk/Database/tutorial.html ezcDatabase} usage<br />
<br />
 This method might return true if $field needs to be updated after storage done here (to store a PK for instance).<br />
 In any other case, this method must not return anything (null).</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a></td>
                <td>$versionInfo</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a></td>
                <td>$field</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$context</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<abbr title="eZ\Publish\SPI\FieldType\true">true</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                            <h4>See also</h4>

                    <table>
                    <tr>
                <td>\eZ\Publish\SPI\FieldType\FieldStorage</td>
                <td></td>
            </tr>
            </table>

                    </div>
    </div>

                <h3 id="method_getFieldData">
        <div class="location">at line 145</div>
        <code>            public            void
    <strong>getFieldData</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)</code>
    </h3>
    <div class="details">
        <p>Populates $field value property based on the external data.</p>
        <p>$field-&gt;value is a {@link eZ\Publish\SPI\Persistence\Content\FieldValue} object.<br />
 This value holds the data as a {@link eZ\Publish\Core\FieldType\Value} based object,<br />
 according to the field type (e.g. for TextLine, it will be a {@link eZ\Publish\Core\FieldType\TextLine\Value} object).</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a></td>
                <td>$versionInfo</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a></td>
                <td>$field</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$context</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_deleteFieldData">
        <div class="location">at line 159</div>
        <code>            public            boolean
    <strong>deleteFieldData</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, array $fieldIds, array $context)</code>
    </h3>
    <div class="details">
        <p>Deletes field data for all $fieldIds in the version identified by $versionInfo.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a></td>
                <td>$versionInfo</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$fieldIds</td>
                <td>Array of field IDs</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$context</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_hasFieldData">
        <div class="location">at line 213</div>
        <code>            public            boolean
    <strong>hasFieldData</strong>()</code>
    </h3>
    <div class="details">
        <p>Checks if field type has external data to deal with</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getIndexData">
        <div class="location">at line 222</div>
        <code>            public            <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Search/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Search\Field">Field</abbr></a>[]
    <strong>getIndexData</strong>(<a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a> $versionInfo, <a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a> $field, array $context)</code>
    </h3>
    <div class="details">
        <p>Get index data for external data for search backend</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/VersionInfo.html"><abbr title="eZ\Publish\SPI\Persistence\Content\VersionInfo">VersionInfo</abbr></a></td>
                <td>$versionInfo</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Field">Field</abbr></a></td>
                <td>$field</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$context</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../eZ/Publish/SPI/Persistence/Content/Search/Field.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Search\Field">Field</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
