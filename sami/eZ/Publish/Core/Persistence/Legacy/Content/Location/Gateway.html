<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway | eZ Publish 5 API</title>
                    <link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../../../../../../../classes.html">Classes</a></li>
                            <li><a href="../../../../../../../namespaces.html">Namespaces</a></li>
                        <li><a href="../../../../../../../interfaces.html">Interfaces</a></li>
            <li><a href="../../../../../../../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">eZ Publish 5 API</div>

            <div class="type">Class</div>
    <h1><a href="../../../../../../../eZ/Publish/Core/Persistence/Legacy/Content/Location.html">eZ\Publish\Core\Persistence\Legacy\Content\Location</a>\Gateway</h1>
    </div>
        <div class="content">
                <p>abstract class    <strong>Gateway</strong></p>

            <div class="description">
            <p>Base class for location gateways.</p>
            <p></p>
        </div>
    
            <h2>Constants</h2>

            <table>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_NOP</td>
                <td class="last">
                    <p><em>Constants for node assignment op codes</em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_EXECUTE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_CREATE_NOP</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_CREATE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_MOVE_NOP</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_MOVE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_REMOVE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_SET_NOP</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NODE_ASSIGNMENT_OP_CODE_SET</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getBasicNodeData">getBasicNodeData</a>(mixed $nodeId)
                    <p>Returns an array with basic node data</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getBasicNodeDataByRemoteId">getBasicNodeDataByRemoteId</a>(mixed $remoteId)
                    <p>Returns an array with basic node data for the node with $remoteId</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_loadLocationDataByContent">loadLocationDataByContent</a>(int $contentId, int $rootLocationId = null)
                    <p>Loads data for all Locations for $contentId, optionally only in the subtree starting at $rootLocationId</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getSubtreeContent">getSubtreeContent</a>(mixed $sourceId)
                    <p>Find all content in the given subtree</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getChildren">getChildren</a>(mixed $locationId)
                    <p>Returns data for the first level children of the location identified by given $locationId</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_moveSubtreeNodes">moveSubtreeNodes</a>(string $fromPathString, string $toPathString)
                    <p>Update path strings to move nodes in the ezcontentobject_tree table</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_updateSubtreeModificationTime">updateSubtreeModificationTime</a>(string $pathString, int|null $timestamp = null)
                    <p>Updated subtree modification time for all nodes on path</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_updateNodeAssignment">updateNodeAssignment</a>(int $contentObjectId, int $oldParent, int $newParent, int $opcode)
                    <p>Update node assignment table</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_createLocationsFromNodeAssignments">createLocationsFromNodeAssignments</a>(mixed $contentId, mixed $versionNo)
                    <p>Create locations from node assignments</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_updateLocationsContentVersionNo">updateLocationsContentVersionNo</a>(mixed $contentId, mixed $versionNo)
                    <p>Updates all Locations of content identified with $contentId with $versionNo</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_hideSubtree">hideSubtree</a>(string $pathString)
                    <p>Sets a location to be hidden, and it self + all children to invisible.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_unHideSubtree">unHideSubtree</a>(string $pathString)
                    <p>Sets a location to be unhidden, and self + children to visible unless a parent is hidding the tree.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_swap">swap</a>(mixed $locationId1, mixed $locationId2)
                    <p>Swaps the content object being pointed to by a location object.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_create">create</a>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a> $createStruct, array $parentNode)
                    <p>Creates a new location in given $parentNode</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_createNodeAssignment">createNodeAssignment</a>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a> $createStruct, mixed $parentNodeId, int $type = self::NODE_ASSIGNMENT_OP_CODE_CREATE_NOP)
                    <p>Create an entry in the node assignment table</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_deleteNodeAssignment">deleteNodeAssignment</a>(int $contentId, int $versionNo = null)
                    <p>Deletes node assignment for given $contentId and $versionNo</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_update">update</a>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/UpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\UpdateStruct">UpdateStruct</abbr></a> $location, int $locationId)
                    <p>Updates an existing location.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_updatePathIdentificationString">updatePathIdentificationString</a>(mixed $locationId, mixed $parentLocationId, string $text)
                    <p>Updates path identification string for given $locationId.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_removeLocation">removeLocation</a>(mixed $locationId)
                    <p>Deletes ezcontentobject_tree row for given $locationId (node_id)</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getFallbackMainNodeData">getFallbackMainNodeData</a>(mixed $contentId, mixed $locationId)
                    <p>Returns id of the next in line node to be set as a new main node</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_trashLocation">trashLocation</a>(mixed $locationId)
                    <p>Sends a single location identified by given $locationId to the trash.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_untrashLocation">untrashLocation</a>(mixed $locationId, mixed $newParentId = null)
                    <p>Returns a trashed location to normal state.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_loadTrashByLocation">loadTrashByLocation</a>(mixed $locationId)
                    <p>Loads trash data specified by location ID</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_cleanupTrash">cleanupTrash</a>()
                    <p>Removes every entries in the trash.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_listTrashed">listTrashed</a>(int $offset, int $limit, array $sort = null)
                    <p>Lists trashed items.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_removeElementFromTrash">removeElementFromTrash</a>(int $id)
                    <p>Removes trashed element identified by $id from trash.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    boolean
                </td>
                <td class="last">
                    <a href="#method_setSectionForSubtree">setSectionForSubtree</a>(mixed $pathString, mixed $sectionId)
                    <p>Set section on all content objects in the subtree</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    int
                </td>
                <td class="last">
                    <a href="#method_countLocationsByContentId">countLocationsByContentId</a>(int $contentId)
                    <p>Returns how many locations given content object identified by $contentId has</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_changeMainLocation">changeMainLocation</a>(mixed $contentId, mixed $locationId, mixed $versionNo, mixed $parentLocationId)
                    <p>Changes main location of content identified by given $contentId to location identified by given $locationId</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method_getBasicNodeData">
        <div class="location">at line 45</div>
        <code>    abstract        public            array
    <strong>getBasicNodeData</strong>(mixed $nodeId)</code>
    </h3>
    <div class="details">
        <p>Returns an array with basic node data</p>
        <p>We might want to cache this, since this method is used by about every<br />
 method in the location handler.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$nodeId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getBasicNodeDataByRemoteId">
        <div class="location">at line 55</div>
        <code>    abstract        public            array
    <strong>getBasicNodeDataByRemoteId</strong>(mixed $remoteId)</code>
    </h3>
    <div class="details">
        <p>Returns an array with basic node data for the node with $remoteId</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$remoteId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadLocationDataByContent">
        <div class="location">at line 66</div>
        <code>    abstract        public            array
    <strong>loadLocationDataByContent</strong>(int $contentId, int $rootLocationId = null)</code>
    </h3>
    <div class="details">
        <p>Loads data for all Locations for $contentId, optionally only in the subtree starting at $rootLocationId</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$rootLocationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getSubtreeContent">
        <div class="location">at line 75</div>
        <code>    abstract        public            array
    <strong>getSubtreeContent</strong>(mixed $sourceId)</code>
    </h3>
    <div class="details">
        <p>Find all content in the given subtree</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$sourceId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getChildren">
        <div class="location">at line 84</div>
        <code>    abstract        public            array
    <strong>getChildren</strong>(mixed $locationId)</code>
    </h3>
    <div class="details">
        <p>Returns data for the first level children of the location identified by given $locationId</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_moveSubtreeNodes">
        <div class="location">at line 98</div>
        <code>    abstract        public            void
    <strong>moveSubtreeNodes</strong>(string $fromPathString, string $toPathString)</code>
    </h3>
    <div class="details">
        <p>Update path strings to move nodes in the ezcontentobject_tree table</p>
        <p>This query can likely be optimized to use some more advanced string<br />
 operations, which then depend on the respective database.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$fromPathString</td>
                <td></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$toPathString</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_updateSubtreeModificationTime">
        <div class="location">at line 108</div>
        <code>    abstract        public            void
    <strong>updateSubtreeModificationTime</strong>(string $pathString, int|null $timestamp = null)</code>
    </h3>
    <div class="details">
        <p>Updated subtree modification time for all nodes on path</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$pathString</td>
                <td></td>
            </tr>
                    <tr>
                <td>int|null</td>
                <td>$timestamp</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_updateNodeAssignment">
        <div class="location">at line 120</div>
        <code>    abstract        public            void
    <strong>updateNodeAssignment</strong>(int $contentObjectId, int $oldParent, int $newParent, int $opcode)</code>
    </h3>
    <div class="details">
        <p>Update node assignment table</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$contentObjectId</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$oldParent</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$newParent</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$opcode</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_createLocationsFromNodeAssignments">
        <div class="location">at line 132</div>
        <code>    abstract        public            void
    <strong>createLocationsFromNodeAssignments</strong>(mixed $contentId, mixed $versionNo)</code>
    </h3>
    <div class="details">
        <p>Create locations from node assignments</p>
        <p>Convert existing node assignments into real locations.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$versionNo</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_updateLocationsContentVersionNo">
        <div class="location">at line 142</div>
        <code>    abstract        public            void
    <strong>updateLocationsContentVersionNo</strong>(mixed $contentId, mixed $versionNo)</code>
    </h3>
    <div class="details">
        <p>Updates all Locations of content identified with $contentId with $versionNo</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$versionNo</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_hideSubtree">
        <div class="location">at line 149</div>
        <code>    abstract        public            
    <strong>hideSubtree</strong>(string $pathString)</code>
    </h3>
    <div class="details">
        <p>Sets a location to be hidden, and it self + all children to invisible.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$pathString</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_unHideSubtree">
        <div class="location">at line 157</div>
        <code>    abstract        public            
    <strong>unHideSubtree</strong>(string $pathString)</code>
    </h3>
    <div class="details">
        <p>Sets a location to be unhidden, and self + children to visible unless a parent is hidding the tree.</p>
        <p>If not make sure only children down to first hidden node is marked visible.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$pathString</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_swap">
        <div class="location">at line 170</div>
        <code>    abstract        public            boolean
    <strong>swap</strong>(mixed $locationId1, mixed $locationId2)</code>
    </h3>
    <div class="details">
        <p>Swaps the content object being pointed to by a location object.</p>
        <p>Make the location identified by $locationId1 refer to the Content<br />
 referred to by $locationId2 and vice versa.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId1</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$locationId2</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_create">
        <div class="location">at line 180</div>
        <code>    abstract        public            <a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a>
    <strong>create</strong>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a> $createStruct, array $parentNode)</code>
    </h3>
    <div class="details">
        <p>Creates a new location in given $parentNode</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a></td>
                <td>$createStruct</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$parentNode</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_createNodeAssignment">
        <div class="location">at line 191</div>
        <code>    abstract        public            void
    <strong>createNodeAssignment</strong>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a> $createStruct, mixed $parentNodeId, int $type = self::NODE_ASSIGNMENT_OP_CODE_CREATE_NOP)</code>
    </h3>
    <div class="details">
        <p>Create an entry in the node assignment table</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/CreateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\CreateStruct">CreateStruct</abbr></a></td>
                <td>$createStruct</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$parentNodeId</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$type</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_deleteNodeAssignment">
        <div class="location">at line 201</div>
        <code>    abstract        public            void
    <strong>deleteNodeAssignment</strong>(int $contentId, int $versionNo = null)</code>
    </h3>
    <div class="details">
        <p>Deletes node assignment for given $contentId and $versionNo</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$versionNo</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_update">
        <div class="location">at line 211</div>
        <code>    abstract        public            boolean
    <strong>update</strong>(<a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/UpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\UpdateStruct">UpdateStruct</abbr></a> $location, int $locationId)</code>
    </h3>
    <div class="details">
        <p>Updates an existing location.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location/UpdateStruct.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location\UpdateStruct">UpdateStruct</abbr></a></td>
                <td>$location</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_updatePathIdentificationString">
        <div class="location">at line 222</div>
        <code>    abstract        public            void
    <strong>updatePathIdentificationString</strong>(mixed $locationId, mixed $parentLocationId, string $text)</code>
    </h3>
    <div class="details">
        <p>Updates path identification string for given $locationId.</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$parentLocationId</td>
                <td></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$text</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_removeLocation">
        <div class="location">at line 229</div>
        <code>    abstract        public            
    <strong>removeLocation</strong>(mixed $locationId)</code>
    </h3>
    <div class="details">
        <p>Deletes ezcontentobject_tree row for given $locationId (node_id)</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_getFallbackMainNodeData">
        <div class="location">at line 243</div>
        <code>    abstract        public            array
    <strong>getFallbackMainNodeData</strong>(mixed $contentId, mixed $locationId)</code>
    </h3>
    <div class="details">
        <p>Returns id of the next in line node to be set as a new main node</p>
        <p>This returns lowest node id for content identified by $contentId, and not of<br />
 the node identified by given $locationId (current main node).<br />
 Assumes that content has more than one location.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_trashLocation">
        <div class="location">at line 254</div>
        <code>    abstract        public            boolean
    <strong>trashLocation</strong>(mixed $locationId)</code>
    </h3>
    <div class="details">
        <p>Sends a single location identified by given $locationId to the trash.</p>
        <p>The associated content object is left untouched.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_untrashLocation">
        <div class="location">at line 269</div>
        <code>    abstract        public            <a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a>
    <strong>untrashLocation</strong>(mixed $locationId, mixed $newParentId = null)</code>
    </h3>
    <div class="details">
        <p>Returns a trashed location to normal state.</p>
        <p>Recreates the originally trashed location in the new position. If no new<br />
 position has been specified, it will be tried to re-create the location<br />
 at the old position. If this is not possible ( because the old location<br />
 does not exist any more) and exception is thrown.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$newParentId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../../../../../eZ/Publish/SPI/Persistence/Content/Location.html"><abbr title="eZ\Publish\SPI\Persistence\Content\Location">Location</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_loadTrashByLocation">
        <div class="location">at line 278</div>
        <code>    abstract        public            array
    <strong>loadTrashByLocation</strong>(mixed $locationId)</code>
    </h3>
    <div class="details">
        <p>Loads trash data specified by location ID</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_cleanupTrash">
        <div class="location">at line 288</div>
        <code>    abstract        public            void
    <strong>cleanupTrash</strong>()</code>
    </h3>
    <div class="details">
        <p>Removes every entries in the trash.</p>
        <p>Will NOT remove associated content objects nor attributes.<br />
<br />
 Basically truncates ezcontentobject_trash table.</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_listTrashed">
        <div class="location">at line 300</div>
        <code>    abstract        public            array
    <strong>listTrashed</strong>(int $offset, int $limit, array $sort = null)</code>
    </h3>
    <div class="details">
        <p>Lists trashed items.</p>
        <p>Returns entries from ezcontentobject_trash.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$offset</td>
                <td></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$limit</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$sort</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_removeElementFromTrash">
        <div class="location">at line 310</div>
        <code>    abstract        public            void
    <strong>removeElementFromTrash</strong>(int $id)</code>
    </h3>
    <div class="details">
        <p>Removes trashed element identified by $id from trash.</p>
        <p>Will NOT remove associated content object nor attributes.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$id</td>
                <td>The trashed location Id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_setSectionForSubtree">
        <div class="location">at line 320</div>
        <code>    abstract        public            boolean
    <strong>setSectionForSubtree</strong>(mixed $pathString, mixed $sectionId)</code>
    </h3>
    <div class="details">
        <p>Set section on all content objects in the subtree</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$pathString</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$sectionId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_countLocationsByContentId">
        <div class="location">at line 329</div>
        <code>    abstract        public            int
    <strong>countLocationsByContentId</strong>(int $contentId)</code>
    </h3>
    <div class="details">
        <p>Returns how many locations given content object identified by $contentId has</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$contentId</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>int</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_changeMainLocation">
        <div class="location">at line 345</div>
        <code>    abstract        public            void
    <strong>changeMainLocation</strong>(mixed $contentId, mixed $locationId, mixed $versionNo, mixed $parentLocationId)</code>
    </h3>
    <div class="details">
        <p>Changes main location of content identified by given $contentId to location identified by given $locationId</p>
        <p>Updates ezcontentobject_tree table for the given $contentId and eznode_assignment table for the given<br />
 $contentId, $parentLocationId and $versionNo</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>mixed</td>
                <td>$contentId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$locationId</td>
                <td></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$versionNo</td>
                <td>version number, needed to update eznode_assignment table</td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$parentLocationId</td>
                <td>parent location of location identified by $locationId, needed to update eznode_assignment table</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
