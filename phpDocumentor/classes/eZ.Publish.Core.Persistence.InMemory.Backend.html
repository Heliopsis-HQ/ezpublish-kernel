<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \eZ\Publish\Core\Persistence\InMemory\Backend</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/eZ.html"><i class="icon-th"></i> eZ</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/FieldTypeProviderInterface.html"><i class="icon-folder-open"></i> FieldTypeProviderInterface</a></li>
<li><a href="../packages/eZ.html"><i class="icon-folder-open"></i> eZ</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">1641</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">178</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">10</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct :: Construct backend and assign data"><span class="description">Construct backend and assign data</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_beginTransaction" title="beginTransaction :: Begin transaction"><span class="description">Begin transaction</span><pre>beginTransaction()</pre></a></li>
<li class="method public "><a href="#method_commit" title="commit :: Commit transaction"><span class="description">Commit transaction</span><pre>commit()</pre></a></li>
<li class="method public "><a href="#method_count" title="count :: Find count of objects of a given type matching a simple $match (empty array will match all)"><span class="description">Find count of objects of a given type matching a simple $match (empty array will match all)</span><pre>count()</pre></a></li>
<li class="method public "><a href="#method_create" title="create :: Creates data in in memory store"><span class="description">Creates data in in memory store</span><pre>create()</pre></a></li>
<li class="method public "><a href="#method_delete" title="delete :: Deletes data in in memory store"><span class="description">Deletes data in in memory store</span><pre>delete()</pre></a></li>
<li class="method public "><a href="#method_deleteByMatch" title="deleteByMatch :: Deletes data in in memory store"><span class="description">Deletes data in in memory store</span><pre>deleteByMatch()</pre></a></li>
<li class="method public "><a href="#method_find" title="find :: Find data from in memory store for a specific type that matches $match (empty array will match all)"><span class="description">Find data from in memory store for a specific type that matches $match (empty array will match all)</span><pre>find()</pre></a></li>
<li class="method public "><a href="#method_load" title="load :: Reads data from in memory store"><span class="description">Reads data from in memory store</span><pre>load()</pre></a></li>
<li class="method public "><a href="#method_rollback" title="rollback :: Rollback transaction"><span class="description">Rollback transaction</span><pre>rollback()</pre></a></li>
<li class="method public "><a href="#method_update" title="update :: Updates data in in memory store"><span class="description">Updates data in in memory store</span><pre>update()</pre></a></li>
<li class="method public "><a href="#method_updateByMatch" title="updateByMatch :: Updates data in in memory store by match"><span class="description">Updates data in in memory store by match</span><pre>updateByMatch()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected "><a href="#method_getFieldTypeNamespace" title="getFieldTypeNamespace :: "><span class="description">getFieldTypeNamespace()
        </span><pre>getFieldTypeNamespace()</pre></a></li>
<li class="method protected "><a href="#method_rawFind" title="rawFind :: Find data from in memory store for a specific type that matches $match (empty array will match all)"><span class="description">Find data from in memory store for a specific type that matches $match (empty array will match all)</span><pre>rawFind()</pre></a></li>
<li class="method protected "><a href="#method_toValue" title="toValue :: Creates Value object based on array value from Backend."><span class="description">Creates Value object based on array value from Backend.</span><pre>toValue()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private "><a href="#method_getNextId" title="getNextId :: Finds the max id number and that +1"><span class="description">Finds the max id number and that +1</span><pre>getNextId()</pre></a></li>
<li class="method private "><a href="#method_joinToValue" title="joinToValue :: Creates value objects on join properties"><span class="description">Creates value objects on join properties</span><pre>joinToValue()</pre></a></li>
<li class="method private "><a href="#method_match" title="match :: Checks if a $item (a raw VO item) matches $match recursively"><span class="description">Checks if a $item (a raw VO item) matches $match recursively</span><pre>match()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="property protected "><a href="#property_data" title="$data :: "><span class="description"></span><pre>$data</pre></a></li>
<li class="property protected "><a href="#property_transactionDataStack" title="$transactionDataStack :: Stack of data for transactions"><span class="description"></span><pre>$transactionDataStack</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul><li class="property private "><a href="#property_tempFieldTypeMapping" title="$tempFieldTypeMapping :: "><span class="description"></span><pre>$tempFieldTypeMapping</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\eZ\Publish\Core\Persistence\InMemory\Backend"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/eZ.html">eZ</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/eZ.Publish.html">Publish</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/eZ.Publish.Core.html">Core</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/eZ.Publish.Core.Persistence.html">Persistence</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/eZ.Publish.Core.Persistence.InMemory.html">InMemory</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/eZ.Publish.Core.Persistence.InMemory.Backend.html">Backend</a>
</li>
</ul>
<div class="element class">
<p class="short_description">The Storage Engine backend for in memory storage
Reads input from js files in provided directory and fills in memory db store.</p>
<div class="details">
<div class="long_description"><p>The in memory db store and also json representation have a one to one mapping to defined value objects.
But only their plain properties, associations are not handled and all data is stored in separate "buckets" similar
to how it would be in a RDBMS servers.</p></div>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
<h2>Construct backend and assign data</h2>
<pre>__construct(array $data) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Use:
    new Backend( json_decode( file_get_contents( <strong>DIR</strong> . '/data.json' ), true ) );</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>Data where key is type like "Content" or "Content\Type" which then have to map to
                   Value objects in eZ\Publish\SPI\Persistence*, data is an array of hash values with same structure as
                   the corresponding value object.
                   Foreign keys: In some cases value objects does not contain these as they are internal, so this
                                 needs to be handled in InMemory handlers by assigning keys like "_typeId" on
                                 Type\FieldDefintion hash values for instance. These will be stored and can be
                                 matched with find(), but will not be returned as part of VO so purely internal.</p>
</div>
</div></div>
</div>
<a id="method_beginTransaction"></a><div class="element clickable method public method_beginTransaction" data-toggle="collapse" data-target=".method_beginTransaction .collapse">
<h2>Begin transaction</h2>
<pre>beginTransaction() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>Begins an transaction, make sure you'll call commit or rollback when done,
otherwise work will be lost.</p></div></div></div>
</div>
<a id="method_commit"></a><div class="element clickable method public method_commit" data-toggle="collapse" data-target=".method_commit .collapse">
<h2>Commit transaction</h2>
<pre>commit() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Commit transaction, or throw exceptions if no transactions has been started.</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></code></th>
<td>If no transaction has been started</td>
</tr></table>
</div></div>
</div>
<a id="method_count"></a><div class="element clickable method public method_count" data-toggle="collapse" data-target=".method_count .collapse">
<h2>Find count of objects of a given type matching a simple $match (empty array will match all)</h2>
<pre>count(string $type, array $match, array $joinInfo) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Note does not support joins, so only properties on $type is matched.</p></div>
<table class="table table-bordered"><tr>
<th>uses</th>
<td>\eZ\Publish\Core\Persistence\InMemory\rawFind()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code><p>A flat array with property => value to match against</p>
</div>
<div class="subelement argument">
<h4>$joinInfo</h4>
<code>array</code><p>See {@link find()}</p>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a id="method_create"></a><div class="element clickable method public method_create" data-toggle="collapse" data-target=".method_create .collapse">
<h2>Creates data in in memory store</h2>
<pre>create(string $type, array $data, boolean $autoIncrement, string $idColumn) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$autoIncrement</h4>
<code>boolean</code>
</div>
<div class="subelement argument">
<h4>$idColumn</h4>
<code>string</code><p>By default, id column is 'id', but this can be customized here (e.g. for 'contentId')</p>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.InvalidArgumentValue.html">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentValue</a></code></th>
<td>On invalid $type</td>
</tr>
<tr>
<th><code><a href="http://php.net/manual/en/class.logicexception.php">\LogicException</a></code></th>
<td>If $autoIncrement is false but $data does not include an id</td>
</tr>
<tr>
<th><code><a href="http://php.net/manual/en/class.logicexception.php">\LogicException</a></code></th>
<td>If provided id already exists (and if defined, data contain same status property value)</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code>object</code></div>
</div></div>
</div>
<a id="method_delete"></a><div class="element clickable method public method_delete" data-toggle="collapse" data-target=".method_delete .collapse">
<h2>Deletes data in in memory store</h2>
<pre>delete(string $type, int | string $id, $idColumn) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>uses</th>
<td>\eZ\Publish\Core\Persistence\InMemory\deleteByMatch()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$id</h4>
<code>int</code><code>string</code>
</div>
<div class="subelement argument"><h4>$idColumn</h4></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.NotFoundException.html">\eZ\Publish\API\Repository\Exceptions\NotFoundException</a></code></th>
<td>If data does not exist</td>
</tr></table>
</div></div>
</div>
<a id="method_deleteByMatch"></a><div class="element clickable method public method_deleteByMatch" data-toggle="collapse" data-target=".method_deleteByMatch .collapse">
<h2>Deletes data in in memory store</h2>
<pre>deleteByMatch(string $type, array $match) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Useful in cases where a specific state of an object should be updated,
Type with version=0 for instance.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code><p>A flat array with property => value to match against</p>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.InvalidArgumentValue.html">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentValue</a></code></th>
<td>On invalid $type</td>
</tr>
<tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.NotFoundException.html">\eZ\Publish\API\Repository\Exceptions\NotFoundException</a></code></th>
<td>If no data to delete have been found</td>
</tr>
</table>
</div></div>
</div>
<a id="method_find"></a><div class="element clickable method public method_find" data-toggle="collapse" data-target=".method_find .collapse">
<h2>Find data from in memory store for a specific type that matches $match (empty array will match all)</h2>
<pre>find(string $type, array $match, array $joinInfo) : object[]</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Note does not support joins, so only properties on $type is matched.</p></div>
<table class="table table-bordered"><tr>
<th>uses</th>
<td>\eZ\Publish\Core\Persistence\InMemory\rawFind()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code><p>A multi level array with property => value to match against</p>
</div>
<div class="subelement argument">
<h4>$joinInfo</h4>
<code>array</code><p>Optional info on how to join in other objects to become part of a
                       aggregate where $type is root.
                       Format:
                           array( '<property>' => array(
                               'type' => '<foreign-type>',
                               'match' => array( '<foreign-key-property>' => '<key-property>' ) ),
                               ['sub' => <$joinInfo>]
                           )
                       Example (joining Location when finding Content):
                           array( 'locations' => array(
                               'type' => 'Content\Location',
                               'match' => array( 'contentId' => 'id' ) )
                           )
                       Value of 'sub' follows exactly same format as $joinInfo allowing recursive joining.</p>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>object[]</code></div>
</div></div>
</div>
<a id="method_load"></a><div class="element clickable method public method_load" data-toggle="collapse" data-target=".method_load .collapse">
<h2>Reads data from in memory store</h2>
<pre>load(string $type, int | string $id, string $idColumn) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$id</h4>
<code>int</code><code>string</code>
</div>
<div class="subelement argument">
<h4>$idColumn</h4>
<code>string</code>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.InvalidArgumentValue.html">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentValue</a></code></th>
<td>On invalid $type</td>
</tr>
<tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.NotFoundException.html">\eZ\Publish\API\Repository\Exceptions\NotFoundException</a></code></th>
<td>If data does not exist</td>
</tr>
<tr>
<th><code><a href="http://php.net/manual/en/class.logicexception.php">\LogicException</a></code></th>
<td>If several items exists with same id</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code>object</code></div>
</div></div>
</div>
<a id="method_rollback"></a><div class="element clickable method public method_rollback" data-toggle="collapse" data-target=".method_rollback .collapse">
<h2>Rollback transaction</h2>
<pre>rollback() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Rollback transaction, or throw exceptions if no transactions has been started.</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></code></th>
<td>If no transaction has been started</td>
</tr></table>
</div></div>
</div>
<a id="method_update"></a><div class="element clickable method public method_update" data-toggle="collapse" data-target=".method_update .collapse">
<h2>Updates data in in memory store</h2>
<pre>update(string $type, int | string $id, array $data, boolean $union, $idColumn) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>uses</th>
<td>\eZ\Publish\Core\Persistence\InMemory\updateByMatch()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$id</h4>
<code>int</code><code>string</code>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$union</h4>
<code>boolean</code><p>Specifies if data should be merged with existing data or not</p></div>
<div class="subelement argument"><h4>$idColumn</h4></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>False if data does not exist and can not be updated</div>
</div></div>
</div>
<a id="method_updateByMatch"></a><div class="element clickable method public method_updateByMatch" data-toggle="collapse" data-target=".method_updateByMatch .collapse">
<h2>Updates data in in memory store by match</h2>
<pre>updateByMatch(string $type, array $match, array $data, boolean $union, $idColumn) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Useful in cases where a specific state of an object should be updated,
Type with version=0 for instance.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code><p>A flat array with property => value to match against</p>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$union</h4>
<code>boolean</code><p>Specifies if data should be merged with existing data or not</p></div>
<div class="subelement argument"><h4>$idColumn</h4></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.InvalidArgumentValue.html">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentValue</a></code></th>
<td>On invalid $type</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>False if data does not exist and can not be updated</div>
</div></div>
</div>
<a id="method_getFieldTypeNamespace"></a><div class="element clickable method protected method_getFieldTypeNamespace" data-toggle="collapse" data-target=".method_getFieldTypeNamespace .collapse">
<h2>getFieldTypeNamespace()
        </h2>
<pre>getFieldTypeNamespace(<a href="../classes/eZ.Publish.SPI.Persistence.ValueObject.html">\eZ\Publish\SPI\Persistence\ValueObject</a> $obj) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$obj</h4>
<code><a href="../classes/eZ.Publish.SPI.Persistence.ValueObject.html">\eZ\Publish\SPI\Persistence\ValueObject</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_rawFind"></a><div class="element clickable method protected method_rawFind" data-toggle="collapse" data-target=".method_rawFind .collapse">
<h2>Find data from in memory store for a specific type that matches $match (empty array will match all)</h2>
<pre>rawFind(string $type, array $match, array $joinInfo) : array[]</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Note does not support joins, so only properties on $type is matched.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code><p>A multi level array with property => value to match against</p>
</div>
<div class="subelement argument">
<h4>$joinInfo</h4>
<code>array</code><p>See {@link find()}</p>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.InvalidArgumentValue.html">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentValue</a></code></th>
<td>On invalid $type</td>
</tr>
<tr>
<th><code><a href="http://php.net/manual/en/class.logicexception.php">\LogicException</a></code></th>
<td>When there is a collision between match rules in $joinInfo and $match</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code>array[]</code></div>
</div></div>
</div>
<a id="method_toValue"></a><div class="element clickable method protected method_toValue" data-toggle="collapse" data-target=".method_toValue .collapse">
<h2>Creates Value object based on array value from Backend.</h2>
<pre>toValue(string $type, array $data, array $joinInfo) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$joinInfo</h4>
<code>array</code><p>See {@link find()}</p>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>object</code></div>
</div></div>
</div>
<a id="method_getNextId"></a><div class="element clickable method private method_getNextId" data-toggle="collapse" data-target=".method_getNextId .collapse">
<h2>Finds the max id number and that +1</h2>
<pre>getNextId(string $type, $idColumn) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Makes sure no id conflicts occur if data for some reason contains gaps in id numbers.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code>
</div>
<div class="subelement argument"><h4>$idColumn</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a id="method_joinToValue"></a><div class="element clickable method private method_joinToValue" data-toggle="collapse" data-target=".method_joinToValue .collapse">
<h2>Creates value objects on join properties</h2>
<pre>joinToValue(\eZ\Publish\SPI\Persistence\ValueObject $item, array $joinInfo) : <a href="../classes/eZ.Publish.SPI.Persistence.ValueObject.html">\eZ\Publish\SPI\Persistence\ValueObject</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$item</h4>
<code><a href="../classes/eZ.Publish.SPI.Persistence.ValueObject.html">\eZ\Publish\SPI\Persistence\ValueObject</a></code>
</div>
<div class="subelement argument">
<h4>$joinInfo</h4>
<code>array</code><p>See {@link find()}</p>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.ValueObject.html">\eZ\Publish\SPI\Persistence\ValueObject</a></code></div>
</div></div>
</div>
<a id="method_match"></a><div class="element clickable method private method_match" data-toggle="collapse" data-target=".method_match .collapse">
<h2>Checks if a $item (a raw VO item) matches $match recursively</h2>
<pre>match(array $item, array $match) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$item</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_data"> </a><div class="element clickable property protected property_data" data-toggle="collapse" data-target=".property_data .collapse">
<h2></h2>
<pre>$data : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_transactionDataStack"> </a><div class="element clickable property protected property_transactionDataStack" data-toggle="collapse" data-target=".property_transactionDataStack .collapse">
<h2></h2>
<pre>$transactionDataStack : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>Current data is always kept in $data, this is for rollbacks and transaction count.</p></div></div></div>
</div>
<a id="property_tempFieldTypeMapping"> </a><div class="element clickable property private property_tempFieldTypeMapping" data-toggle="collapse" data-target=".property_tempFieldTypeMapping .collapse">
<h2></h2>
<pre>$tempFieldTypeMapping : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2012-12-03T13:42:19Z.<br></footer></div>
</div>
</body>
</html>
