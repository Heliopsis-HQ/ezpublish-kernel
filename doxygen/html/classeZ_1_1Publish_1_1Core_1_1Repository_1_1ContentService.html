<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ezp-next: eZ\Publish\Core\Repository\ContentService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ezp-next
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eZ\Publish\Core\Repository\ContentService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for eZ\Publish\Core\Repository\ContentService:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService__inherit__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CRepository_0CContentService_inherit__map" alt="Inheritance graph"/></div>
<map name="eZ_0CPublish_0CCore_0CRepository_0CContentService_inherit__map" id="eZ_0CPublish_0CCore_0CRepository_0CContentService_inherit__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html" title="eZ\\Publish\\API\\Repository\l\\ContentService" alt="" coords="11,6,192,53"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for eZ\Publish\Core\Repository\ContentService:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService__coll__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CRepository_0CContentService_coll__map" alt="Collaboration graph"/></div>
<map name="eZ_0CPublish_0CCore_0CRepository_0CContentService_coll__map" id="eZ_0CPublish_0CCore_0CRepository_0CContentService_coll__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html" title="eZ\\Publish\\API\\Repository\l\\ContentService" alt="" coords="11,6,192,53"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cd5a21f8374a392a3d71ad38dce0e9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3cd5a21f8374a392a3d71ad38dce0e9a">__construct</a> (RepositoryInterface $repository, <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html">Handler</a> $handler, array $settings=array())</td></tr>
<tr class="memitem:ab89df555b6d042b5b8192de6a91cb9b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1">loadContentInfo</a> ($contentId)</td></tr>
<tr class="memitem:a0657088a1be09d2644cd20cf660999e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9">internalLoadContentInfo</a> ($contentId)</td></tr>
<tr class="memitem:aa727b69aab7f5239d677027a54d1eb5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa727b69aab7f5239d677027a54d1eb5f">loadContentInfoByRemoteId</a> ($remoteId)</td></tr>
<tr class="memitem:a4114cfc2db3f924be7c94aefdd585419"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419">loadVersionInfo</a> (APIContentInfo $contentInfo, $versionNo=null)</td></tr>
<tr class="memitem:a166a660112d8d49a63d633d33881bd4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e">loadVersionInfoById</a> ($contentId, $versionNo=null)</td></tr>
<tr class="memitem:a01797e18b1bc2951b0e611602ba9b744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744">loadContentByContentInfo</a> (APIContentInfo $contentInfo, array $languages=null, $versionNo=null)</td></tr>
<tr class="memitem:a1af8719cf320d3d5a9038785c284d1ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab">loadContentByVersionInfo</a> (APIVersionInfo $versionInfo, array $languages=null)</td></tr>
<tr class="memitem:aca7d9f693a3b0e3af6d7dbe4e4fdd25e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a> ($contentId, array $languages=null, $versionNo=null)</td></tr>
<tr class="memitem:a1b7e339dc6e930ef5e120a86af244522"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522">internalLoadContent</a> ($contentId, array $languages=null, $versionNo=null)</td></tr>
<tr class="memitem:a534f07869acd5170a06a18652b3a1e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39">loadContentByRemoteId</a> ($remoteId, array $languages=null, $versionNo=null)</td></tr>
<tr class="memitem:a79c4c76e2a0f4b8655c002901af24970"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970">updateContentMetadata</a> (APIContentInfo $contentInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentMetadataUpdateStruct.html">ContentMetadataUpdateStruct</a> $contentMetadataUpdateStruct)</td></tr>
<tr class="memitem:a5da789f48892cd449aa09255c1d0b112"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a5da789f48892cd449aa09255c1d0b112">deleteContent</a> (APIContentInfo $contentInfo)</td></tr>
<tr class="memitem:a72fa7c75d855693b2f7452466b18cd2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e">createContentDraft</a> (APIContentInfo $contentInfo, APIVersionInfo $versionInfo=null, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:a54df43d0faa8292da6ced10bed07722e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a54df43d0faa8292da6ced10bed07722e">loadContentDrafts</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:ae1624605d6f295eb57b4fb4dab4ab6cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1624605d6f295eb57b4fb4dab4ab6cf">translateVersion</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationInfo.html">TranslationInfo</a> $translationInfo, APITranslationValues $translationValues, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:a780c43e317053423be9372a9de2cf6ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac">publishVersion</a> (APIVersionInfo $versionInfo)</td></tr>
<tr class="memitem:a4575d81c7b0e87122701cce7da343b63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4575d81c7b0e87122701cce7da343b63">deleteVersion</a> (APIVersionInfo $versionInfo)</td></tr>
<tr class="memitem:acd04ea045c037caffd38cdc77922446a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#acd04ea045c037caffd38cdc77922446a">loadVersions</a> (APIContentInfo $contentInfo)</td></tr>
<tr class="memitem:a36dd74adf5e1a23a90fe5d16bc10b6ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee">copyContent</a> (APIContentInfo $contentInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1LocationCreateStruct.html">LocationCreateStruct</a> $destinationLocationCreateStruct, APIVersionInfo $versionInfo=null)</td></tr>
<tr class="memitem:a2ce45f779d3182230568c41d14d2f799"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799">loadRelations</a> (APIVersionInfo $versionInfo)</td></tr>
<tr class="memitem:afcff642a2adb8c2e58824f5f44a621f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#afcff642a2adb8c2e58824f5f44a621f5">loadReverseRelations</a> (APIContentInfo $contentInfo)</td></tr>
<tr class="memitem:a3adbd1f96357f0e932afd873fa286900"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900">addRelation</a> (APIVersionInfo $sourceVersion, APIContentInfo $destinationContent)</td></tr>
<tr class="memitem:ac13f17a68842e8f4eea4b77045e2a208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208">deleteRelation</a> (APIVersionInfo $sourceVersion, APIContentInfo $destinationContent)</td></tr>
<tr class="memitem:aa1135b97c2f59a3064b774547a3fd2e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa1135b97c2f59a3064b774547a3fd2e6">addTranslationInfo</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationInfo.html">TranslationInfo</a> $translationInfo)</td></tr>
<tr class="memitem:a0a398b2e527fcc2d474538216d68508a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0a398b2e527fcc2d474538216d68508a">loadTranslationInfos</a> (APIContentInfo $contentInfo, array $filter=array())</td></tr>
<tr class="memitem:a296ffa99577b9e9c73c5c7bf0cf1bcbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a296ffa99577b9e9c73c5c7bf0cf1bcbf">newContentCreateStruct</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType, $mainLanguageCode)</td></tr>
<tr class="memitem:a288db416b5e75024fed4d10c5eae3923"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a288db416b5e75024fed4d10c5eae3923">newContentMetadataUpdateStruct</a> ()</td></tr>
<tr class="memitem:a53f06d04c5d486e5242aa696dda8854d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a53f06d04c5d486e5242aa696dda8854d">newContentUpdateStruct</a> ()</td></tr>
<tr class="memitem:a6ca41b33ef54db5068dc500b449c3ccc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6ca41b33ef54db5068dc500b449c3ccc">newTranslationInfo</a> ()</td></tr>
<tr class="memitem:a36cfa677a1246daef718714ced01f7e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36cfa677a1246daef718714ced01f7e5">newTranslationValues</a> ()</td></tr>
<tr class="memitem:aaf222581c108dcaf7fd4660b6209d9e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0">buildContentDomainObject</a> (SPIContent $spiContent)</td></tr>
<tr class="memitem:a319644201c7f55ab059522587bbc1b2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c">buildContentInfoDomainObject</a> (SPIContentInfo $spiContentInfo)</td></tr>
<tr class="inherit_header pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html">eZ\Publish\API\Repository\ContentService</a></td></tr>
<tr class="memitem:a30d94849262422756a5db6129db34b37 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a30d94849262422756a5db6129db34b37">loadVersionInfo</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, $versionNo=null)</td></tr>
<tr class="memitem:aa3317afe503a7803b2539bff92c84f32 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#aa3317afe503a7803b2539bff92c84f32">loadContentByContentInfo</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, array $languages=null, $versionNo=null)</td></tr>
<tr class="memitem:ab4a982ebe2028467d2689f401f86fa72 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#ab4a982ebe2028467d2689f401f86fa72">loadContentByVersionInfo</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo, array $languages=null)</td></tr>
<tr class="memitem:ab375019e40856e9cbc9bf9b4e66eb152 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#ab375019e40856e9cbc9bf9b4e66eb152">createContent</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentCreateStruct.html">ContentCreateStruct</a> $contentCreateStruct, array $locationCreateStructs=array())</td></tr>
<tr class="memitem:a59a1f6a2305deb082d1b9b60d400c267 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a59a1f6a2305deb082d1b9b60d400c267">updateContentMetadata</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentMetadataUpdateStruct.html">ContentMetadataUpdateStruct</a> $contentMetadataUpdateStruct)</td></tr>
<tr class="memitem:a0b59841d3e0231264b9fc7e727391956 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a0b59841d3e0231264b9fc7e727391956">deleteContent</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo)</td></tr>
<tr class="memitem:adba23db408a6ede947f57e2c73687abd inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#adba23db408a6ede947f57e2c73687abd">createContentDraft</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo=null, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:a7eadba6e449cb073a6d35e4edfa3201a inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a7eadba6e449cb073a6d35e4edfa3201a">translateVersion</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationInfo.html">TranslationInfo</a> $translationInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationValues.html">TranslationValues</a> $translationValues, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:a5c4a6e58f1869dd9ee0f75989adc168a inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a5c4a6e58f1869dd9ee0f75989adc168a">updateContent</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentUpdateStruct.html">ContentUpdateStruct</a> $contentUpdateStruct)</td></tr>
<tr class="memitem:a69f47ebd69e20bb07e29b21ba51b6a0e inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a69f47ebd69e20bb07e29b21ba51b6a0e">publishVersion</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo)</td></tr>
<tr class="memitem:a9bea68b47d3890f87edb27adeffb9939 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a9bea68b47d3890f87edb27adeffb9939">deleteVersion</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo)</td></tr>
<tr class="memitem:af3ccd53608b02a4682f94f1fc24b11f0 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#af3ccd53608b02a4682f94f1fc24b11f0">loadVersions</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo)</td></tr>
<tr class="memitem:a721a1a93686fd6f5eb16b51bb7293bc3 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a721a1a93686fd6f5eb16b51bb7293bc3">copyContent</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1LocationCreateStruct.html">LocationCreateStruct</a> $destinationLocationCreateStruct, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo=null)</td></tr>
<tr class="memitem:a2a0bb9ffc1fe9384281b8083e835fde9 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a2a0bb9ffc1fe9384281b8083e835fde9">loadRelations</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo)</td></tr>
<tr class="memitem:a9423db3f35740376337654a3be72583c inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a9423db3f35740376337654a3be72583c">loadReverseRelations</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo)</td></tr>
<tr class="memitem:a88be2e0958f4afb19eec5132de94973f inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a88be2e0958f4afb19eec5132de94973f">addRelation</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $sourceVersion, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $destinationContent)</td></tr>
<tr class="memitem:aea31ecfe91afa76ed2630200c9df92ff inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#aea31ecfe91afa76ed2630200c9df92ff">deleteRelation</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html">VersionInfo</a> $sourceVersion, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $destinationContent)</td></tr>
<tr class="memitem:a2856cca5337748abadbb1bec7111bbfd inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a2856cca5337748abadbb1bec7111bbfd">loadTranslationInfos</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentInfo.html">ContentInfo</a> $contentInfo, array $filter=array())</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a682d8a7926082be95d3819189e686807"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a682d8a7926082be95d3819189e686807">buildSPILocationCreateStructs</a> (array $locationCreateStructs)</td></tr>
<tr class="memitem:a4522ab79ca7f19503f7e28b4af210a43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43">publishUrlAliasesForContent</a> (APIContent $content, $onlyMain=false)</td></tr>
<tr class="memitem:aa966d633afabfc647c14c2b85400422d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d">internalPublishVersion</a> (APIVersionInfo $versionInfo, $publicationDate=null)</td></tr>
<tr class="memitem:a2d69f985d4b36ea1bec2ee9ab6413b88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88">internalLoadRelations</a> (APIVersionInfo $versionInfo)</td></tr>
<tr class="memitem:adfb745e849efbc2452f8c178c055646a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a">buildDomainFields</a> (array $spiFields)</td></tr>
<tr class="memitem:ae1862650c03f09aeac896fb57586a6d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a> (SPIVersionInfo $spiVersionInfo)</td></tr>
<tr class="memitem:a6840fbe3680e9830e2be66d11f811b77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77">getDomainVersionStatus</a> ($spiStatus)</td></tr>
<tr class="memitem:a0dccfad219d6b6c6541994d95700c55d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d">getDateTime</a> ($timestamp)</td></tr>
<tr class="memitem:a8a32a546d23a36d5cf9e035613c9ea59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59">buildRelationDomainObject</a> (SPIRelation $spiRelation, APIContentInfo $sourceContentInfo=null, APIContentInfo $destinationContentInfo=null)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a584737e3238da4a67dcaa74131574560"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a584737e3238da4a67dcaa74131574560">$repository</a></td></tr>
<tr class="memitem:a02e12f0efa160c24da1e57ae43630765"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a02e12f0efa160c24da1e57ae43630765">$persistenceHandler</a></td></tr>
<tr class="memitem:a01c80b97d4a84e3c873204fc8afc52a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01c80b97d4a84e3c873204fc8afc52a7">$settings</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00065">65</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3cd5a21f8374a392a3d71ad38dce0e9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::__construct </td>
          <td>(</td>
          <td class="paramtype">RepositoryInterface&#160;</td>
          <td class="paramname"><em>$repository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html">Handler</a>&#160;</td>
          <td class="paramname"><em>$handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$settings</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setups service with reference to repository object that created it &amp; corresponding handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Repository</td><td class="paramname">$repository</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Handler</td><td class="paramname">$handler</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$settings</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00089">89</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00070">eZ\Publish\Core\Repository\ContentService\$repository</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00080">eZ\Publish\Core\Repository\ContentService\$settings</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $this-&gt;repository = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a584737e3238da4a67dcaa74131574560">$repository</a>;</div>
<div class="line">        $this-&gt;persistenceHandler = $handler;</div>
<div class="line">        <span class="comment">// Union makes sure default settings are ignored if provided in argument</span></div>
<div class="line">        $this-&gt;settings = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01c80b97d4a84e3c873204fc8afc52a7">$settings</a> + array(</div>
<div class="line">            <span class="comment">//&#39;defaultSetting&#39; =&gt; array(),</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a3adbd1f96357f0e932afd873fa286900"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::addRelation </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$sourceVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$destinationContent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a relation of type common.</p>
<p>The source of the relation is the content and version referenced by $versionInfo.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to edit this version </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>if the version is not a draft</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$sourceVersion</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$destinationContent</td><td>the destination of the relation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly created relation </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01548">1548</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01917">eZ\Publish\Core\Repository\ContentService\buildRelationDomainObject()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00203">eZ\Publish\Core\Repository\ContentService\loadVersionInfoById()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $sourceVersion = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e">loadVersionInfoById</a>(</div>
<div class="line">            $sourceVersion-&gt;contentInfo-&gt;id,</div>
<div class="line">            $sourceVersion-&gt;versionNo</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $sourceVersion-&gt;status !== APIVersionInfo::STATUS_DRAFT )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$sourceVersion&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Relations of type common can only be added to versions of status draft&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, $sourceVersion ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $sourceContentInfo = $sourceVersion-&gt;getContentInfo();</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiRelation = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;addRelation(</div>
<div class="line">                <span class="keyword">new</span> SPIRelationCreateStruct(</div>
<div class="line">                    array(</div>
<div class="line">                        <span class="stringliteral">&#39;sourceContentId&#39;</span> =&gt; $sourceContentInfo-&gt;id,</div>
<div class="line">                        <span class="stringliteral">&#39;sourceContentVersionNo&#39;</span> =&gt; $sourceVersion-&gt;versionNo,</div>
<div class="line">                        <span class="stringliteral">&#39;sourceFieldDefinitionId&#39;</span> =&gt; null,</div>
<div class="line">                        <span class="stringliteral">&#39;destinationContentId&#39;</span> =&gt; $destinationContent-&gt;id,</div>
<div class="line">                        <span class="stringliteral">&#39;type&#39;</span> =&gt; APIRelation::COMMON</div>
<div class="line">                    )</div>
<div class="line">                )</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59">buildRelationDomainObject</a>( $spiRelation, $sourceContentInfo, $destinationContent );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a3adbd1f96357f0e932afd873fa286900_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a3adbd1f96357f0e932afd873fa286900_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a3adbd1f96357f0e932afd873fa286900_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a3adbd1f96357f0e932afd873fa286900_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="557,5,816,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="257,93,508,139"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="865,74,1145,121"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1203,69,1435,133"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1491,113,1701,159"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="572,93,801,139"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="892,144,1119,208"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1196,208,1441,272"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1135b97c2f59a3064b774547a3fd2e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::addTranslationInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationInfo.html">TranslationInfo</a>&#160;</td>
          <td class="paramname"><em>$translationInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a369f1d1b7482f30d40e9f416bd91faf2">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01668">1668</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line"></div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf222581c108dcaf7fd4660b6209d9e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildContentDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIContent&#160;</td>
          <td class="paramname"><em>$spiContent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a Content domain object from value object returned from persistence</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000091">Todo:</a></b></dt><dd>: Made public, since the search service also needs access to this method. Should be refactored into its own class together with the other build* methods.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content</td><td class="paramname">$spiContent</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01759">1759</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01778">eZ\Publish\Core\Repository\ContentService\buildDomainFields()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">eZ\Publish\Core\Repository\ContentService\buildVersionInfoDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $versionInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a>( $spiContent-&gt;versionInfo );</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> Content(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;internalFields&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a">buildDomainFields</a>( $spiContent-&gt;fields ),</div>
<div class="line">                <span class="stringliteral">&quot;versionInfo&quot;</span> =&gt; $versionInfo,</div>
<div class="line">                <span class="stringliteral">&quot;relations&quot;</span> =&gt; $this-&gt;internalLoadRelations( $versionInfo ),</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="312,5,555,51"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="320,75,547,139"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="899,93,1109,139"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="604,75,849,139"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="611,163,843,227"/></map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aaf222581c108dcaf7fd4660b6209d9e0_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="312,99,571,146"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="316,169,567,215"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="331,239,552,303"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="657,78,863,125"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="619,147,901,194"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="949,5,1245,51"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="952,74,1243,121"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="955,143,1240,190"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="988,213,1207,259"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="656,273,864,319"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a319644201c7f55ab059522587bbc1b2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildContentInfoDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIContentInfo&#160;</td>
          <td class="paramname"><em>$spiContentInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a ContentInfo domain object from value object returned from persistence</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000092">Todo:</a></b></dt><dd>: Made public, since the search service also needs access to this method. Should be refactored into its own class together with the other build* methods.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\ContentInfo</td><td class="paramname">$spiContentInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01813">1813</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01901">eZ\Publish\Core\Repository\ContentService\getDateTime()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentInfo(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiContentInfo-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;name&quot;</span> =&gt; $spiContentInfo-&gt;name,</div>
<div class="line">                <span class="stringliteral">&quot;sectionId&quot;</span> =&gt; $spiContentInfo-&gt;sectionId,</div>
<div class="line">                <span class="stringliteral">&quot;currentVersionNo&quot;</span> =&gt; $spiContentInfo-&gt;currentVersionNo,</div>
<div class="line">                <span class="stringliteral">&quot;published&quot;</span> =&gt; $spiContentInfo-&gt;isPublished,</div>
<div class="line">                <span class="stringliteral">&quot;ownerId&quot;</span> =&gt; $spiContentInfo-&gt;ownerId,</div>
<div class="line">                <span class="stringliteral">&quot;modificationDate&quot;</span> =&gt; $spiContentInfo-&gt;modificationDate == 0 ?</div>
<div class="line">                    null :</div>
<div class="line">                    $this-&gt;getDateTime( $spiContentInfo-&gt;modificationDate ),</div>
<div class="line">                <span class="stringliteral">&quot;publishedDate&quot;</span> =&gt; $spiContentInfo-&gt;publicationDate == 0 ?</div>
<div class="line">                    null :</div>
<div class="line">                    $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d">getDateTime</a>( $spiContentInfo-&gt;publicationDate ),</div>
<div class="line">                <span class="stringliteral">&quot;alwaysAvailable&quot;</span> =&gt; $spiContentInfo-&gt;alwaysAvailable,</div>
<div class="line">                <span class="stringliteral">&quot;remoteId&quot;</span> =&gt; $spiContentInfo-&gt;remoteId,</div>
<div class="line">                <span class="stringliteral">&quot;mainLanguageCode&quot;</span> =&gt; $spiContentInfo-&gt;mainLanguageCode,</div>
<div class="line">                <span class="stringliteral">&quot;mainLocationId&quot;</span> =&gt; $spiContentInfo-&gt;mainLocationId,</div>
<div class="line">                <span class="stringliteral">&quot;contentType&quot;</span> =&gt; $this-&gt;repository-&gt;getContentTypeService()-&gt;loadContentType(</div>
<div class="line">                    $spiContentInfo-&gt;contentTypeId</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="285,14,496,61"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a319644201c7f55ab059522587bbc1b2c_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="287,278,567,325"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="313,433,540,497"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="631,278,860,325"/><area shape="rect" id="node20" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="616,96,875,160"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="929,282,1180,329"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="1251,387,1501,434"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="1571,239,1856,286"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="1264,249,1488,295"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="1275,129,1477,175"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="1267,318,1485,365"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadRelations" alt="" coords="923,5,1187,51"/><area shape="rect" id="node26" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#afcff642a2adb8c2e58824f5f44a621f5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadReverseRelations" alt="" coords="924,74,1185,121"/><area shape="rect" id="node24" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadRelations" alt="" coords="1271,5,1481,51"/><area shape="rect" id="node32" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a54df43d0faa8292da6ced10bed07722e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentDrafts" alt="" coords="623,347,868,394"/><area shape="rect" id="node34" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#acd04ea045c037caffd38cdc77922446a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersions" alt="" coords="641,555,849,602"/><area shape="rect" id="node36" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="1272,646,1480,693"/><area shape="rect" id="node38" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="616,468,875,532"/><area shape="rect" id="node40" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="925,477,1184,523"/><area shape="rect" id="node54" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="944,568,1165,632"/><area shape="rect" id="node42" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="1273,457,1479,503"/><area shape="rect" id="node51" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="1235,526,1517,573"/><area shape="rect" id="node44" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="1565,473,1861,519"/><area shape="rect" id="node46" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="1568,403,1859,450"/><area shape="rect" id="node49" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="1604,571,1823,618"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adfb745e849efbc2452f8c178c055646a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildDomainFields </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$spiFields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns an array of domain fields created from given array of <a class="el" href="namespaceeZ_1_1Publish_1_1SPI.html">SPI</a> fields</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">\eZ\Publish\SPI\Persistence\Content\Field[]</td><td>$spiFields</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01778">1778</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="API_2Repository_2Values_2ContentType_2ContentType_8php_source.html#l00040">eZ\Publish\API\Repository\Values\ContentType\ContentType\STATUS_DEFINED</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $fields = array();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiFields as $spiField )</div>
<div class="line">        {</div>
<div class="line">            $fields[] = <span class="keyword">new</span> Field(</div>
<div class="line">                array(</div>
<div class="line">                    <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiField-&gt;id,</div>
<div class="line">                    <span class="stringliteral">&quot;value&quot;</span> =&gt; $this-&gt;repository-&gt;getFieldTypeService()-&gt;buildFieldType(</div>
<div class="line">                        $spiField-&gt;type</div>
<div class="line">                    )-&gt;fromPersistenceValue( $spiField-&gt;value ),</div>
<div class="line">                    <span class="stringliteral">&quot;languageCode&quot;</span> =&gt; $spiField-&gt;languageCode,</div>
<div class="line">                    <span class="stringliteral">&quot;fieldDefIdentifier&quot;</span> =&gt; $this-&gt;persistenceHandler-&gt;contentTypeHandler()-&gt;getFieldDefinition(</div>
<div class="line">                        $spiField-&gt;fieldDefinitionId,</div>
<div class="line">                        <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html#ab4e767cb3964e8a7b85cd004622e7a4e">ContentType::STATUS_DEFINED</a></div>
<div class="line">                    )-&gt;identifier</div>
<div class="line">                )</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $fields;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_adfb745e849efbc2452f8c178c055646a_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_adfb745e849efbc2452f8c178c055646a_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_adfb745e849efbc2452f8c178c055646a_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_adfb745e849efbc2452f8c178c055646a_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="296,160,555,224"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="603,99,861,146"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="607,169,857,215"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="621,239,843,303"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="948,78,1153,125"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="909,147,1192,194"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="1240,5,1536,51"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="1243,74,1533,121"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="1245,143,1531,190"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="1279,213,1497,259"/><area shape="rect" id="node24" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="947,273,1155,319"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a32a546d23a36d5cf9e035613c9ea59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildRelationDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIRelation&#160;</td>
          <td class="paramname"><em>$spiRelation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$sourceContentInfo</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$destinationContentInfo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds <a class="el" href="namespaceeZ_1_1Publish_1_1API.html">API</a> Relation object from provided <a class="el" href="namespaceeZ_1_1Publish_1_1SPI.html">SPI</a> Relation object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\Relation</td><td class="paramname">$spiRelation</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo&#160;|&#160;null</td><td class="paramname">$sourceContentInfo</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo&#160;|&#160;null</td><td class="paramname">$destinationContentInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01917">1917</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00132">eZ\Publish\Core\Repository\ContentService\internalLoadContentInfo()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="comment">// @todo Should relations really be loaded w/o checking permissions just because User needs to be accessible??</span></div>
<div class="line">        <span class="keywordflow">if</span> ( $sourceContentInfo === null )</div>
<div class="line">            $sourceContentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9">internalLoadContentInfo</a>( $spiRelation-&gt;sourceContentId );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $destinationContentInfo === null )</div>
<div class="line">            $destinationContentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9">internalLoadContentInfo</a>( $spiRelation-&gt;destinationContentId );</div>
<div class="line"></div>
<div class="line">        $sourceFieldDefinition = null;</div>
<div class="line">        <span class="keywordflow">if</span> ( $spiRelation-&gt;sourceFieldDefinitionId !== null )</div>
<div class="line">        {</div>
<div class="line">            $sourceFieldDefinition = $sourceContentInfo-&gt;getContentType()-&gt;getFieldDefinitionById(</div>
<div class="line">                $spiRelation-&gt;sourceFieldDefinitionId</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> Relation(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiRelation-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;sourceFieldDefinitionIdentifier&quot;</span> =&gt; $sourceFieldDefinition !== null ? $sourceFieldDefinition-&gt;identifier : null,</div>
<div class="line">                <span class="stringliteral">&quot;type&quot;</span> =&gt; $spiRelation-&gt;type,</div>
<div class="line">                <span class="stringliteral">&quot;sourceContentInfo&quot;</span> =&gt; $sourceContentInfo,</div>
<div class="line">                <span class="stringliteral">&quot;destinationContentInfo&quot;</span> =&gt; $destinationContentInfo</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="313,14,593,61"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="643,5,875,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="923,14,1133,61"/></map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a8a32a546d23a36d5cf9e035613c9ea59_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadRelations" alt="" coords="312,5,576,51"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#afcff642a2adb8c2e58824f5f44a621f5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadReverseRelations" alt="" coords="313,74,575,121"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="343,143,545,190"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadRelations" alt="" coords="625,5,836,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a682d8a7926082be95d3819189e686807"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildSPILocationCreateStructs </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$locationCreateStructs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an array of <a class="el" href="namespaceeZ_1_1Publish_1_1SPI.html">SPI</a> location create structs from given array of <a class="el" href="namespaceeZ_1_1Publish_1_1API.html">API</a> location create structs</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\Core\Base\Exceptions\InvalidArgumentException</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Values\Content\LocationCreateStruct[]</td><td>$locationCreateStructs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00628">628</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $spiLocationCreateStructs = array();</div>
<div class="line"></div>
<div class="line">        $parentLocationIdCache = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $locationCreateStructs as $index =&gt; $locationCreateStruct )</div>
<div class="line">        {</div>
<div class="line">            $parentLocation = $this-&gt;repository-&gt;getLocationService()-&gt;loadLocation( $locationCreateStruct-&gt;parentLocationId );</div>
<div class="line">            <span class="keywordflow">if</span> ( in_array( $parentLocation-&gt;id, $parentLocationIdCache ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$locationCreateStructs&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Multiple LocationCreateStructs with parent Location &#39;{$parentLocation-&gt;id}&#39; exist&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            $parentLocationIdCache[] = $parentLocation-&gt;id;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( $locationCreateStruct-&gt;priority !== null &amp;&amp; !is_numeric( $locationCreateStruct-&gt;priority ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&quot;priority&quot;</span>, $locationCreateStruct-&gt;priority, <span class="stringliteral">&quot;LocationCreateStruct&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( !is_bool( $locationCreateStruct-&gt;hidden ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&quot;hidden&quot;</span>, $locationCreateStruct-&gt;hidden, <span class="stringliteral">&quot;LocationCreateStruct&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( $locationCreateStruct-&gt;remoteId !== null &amp;&amp; ( !is_string( $locationCreateStruct-&gt;remoteId ) || empty( $locationCreateStruct-&gt;remoteId ) ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&quot;remoteId&quot;</span>, $locationCreateStruct-&gt;remoteId, <span class="stringliteral">&quot;LocationCreateStruct&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( $locationCreateStruct-&gt;sortField !== null &amp;&amp; !is_numeric( $locationCreateStruct-&gt;sortField ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&quot;sortField&quot;</span>, $locationCreateStruct-&gt;sortField, <span class="stringliteral">&quot;LocationCreateStruct&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( $locationCreateStruct-&gt;sortOrder !== null &amp;&amp; !is_numeric( $locationCreateStruct-&gt;sortOrder ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&quot;sortOrder&quot;</span>, $locationCreateStruct-&gt;sortOrder, <span class="stringliteral">&quot;LocationCreateStruct&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( null === $locationCreateStruct-&gt;remoteId )</div>
<div class="line">            {</div>
<div class="line">                $locationCreateStruct-&gt;remoteId = md5( uniqid( get_class( $locationCreateStruct ), <span class="keyword">true</span> ) );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    $this-&gt;repository-&gt;getLocationService()-&gt;loadLocationByRemoteId( $locationCreateStruct-&gt;remoteId );</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                        <span class="stringliteral">&quot;\$locationCreateStructs&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;Another Location with remoteId &#39;{$locationCreateStruct-&gt;remoteId}&#39; exists&quot;</span></div>
<div class="line">                    );</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Do nothing</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $spiLocationCreateStructs[] = <span class="keyword">new</span> SPILocationCreateStruct(</div>
<div class="line">                array(</div>
<div class="line">                    <span class="stringliteral">&quot;priority&quot;</span> =&gt; $locationCreateStruct-&gt;priority,</div>
<div class="line">                    <span class="stringliteral">&quot;hidden&quot;</span> =&gt; $locationCreateStruct-&gt;hidden,</div>
<div class="line">                    <span class="stringliteral">&quot;invisible&quot;</span> =&gt; ( $locationCreateStruct-&gt;hidden === <span class="keyword">true</span> || $parentLocation-&gt;hidden || $parentLocation-&gt;invisible ),</div>
<div class="line">                    <span class="stringliteral">&quot;remoteId&quot;</span> =&gt; $locationCreateStruct-&gt;remoteId,</div>
<div class="line">                    <span class="comment">// contentId and contentVersion are set in ContentHandler upon draft creation</span></div>
<div class="line">                    <span class="stringliteral">&quot;contentId&quot;</span> =&gt; null,</div>
<div class="line">                    <span class="stringliteral">&quot;contentVersion&quot;</span> =&gt; null,</div>
<div class="line">                    <span class="stringliteral">&quot;pathIdentificationString&quot;</span> =&gt; null,</div>
<div class="line">                    <span class="stringliteral">&quot;mainLocationId&quot;</span> =&gt; ( $index === 0 ),</div>
<div class="line">                    <span class="stringliteral">&quot;sortField&quot;</span> =&gt; $locationCreateStruct-&gt;sortField,</div>
<div class="line">                    <span class="stringliteral">&quot;sortOrder&quot;</span> =&gt; $locationCreateStruct-&gt;sortOrder,</div>
<div class="line">                    <span class="stringliteral">&quot;parentId&quot;</span> =&gt; $locationCreateStruct-&gt;parentLocationId</div>
<div class="line">                )</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $spiLocationCreateStructs;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1862650c03f09aeac896fb57586a6d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::buildVersionInfoDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIVersionInfo&#160;</td>
          <td class="paramname"><em>$spiVersionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds a VersionInfo domain object from value object returned from persistence</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\VersionInfo</td><td class="paramname">$spiVersionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VersionInfo </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">1847</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01813">eZ\Publish\Core\Repository\ContentService\buildContentInfoDomainObject()</a>, <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01901">eZ\Publish\Core\Repository\ContentService\getDateTime()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01878">eZ\Publish\Core\Repository\ContentService\getDomainVersionStatus()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $languageCodes = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiVersionInfo-&gt;languageIds as $languageId )</div>
<div class="line">        {</div>
<div class="line">            $languageCodes[] = $this-&gt;persistenceHandler-&gt;contentLanguageHandler()-&gt;load(</div>
<div class="line">                $languageId</div>
<div class="line">            )-&gt;languageCode;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> VersionInfo(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiVersionInfo-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;versionNo&quot;</span> =&gt; $spiVersionInfo-&gt;versionNo,</div>
<div class="line">                <span class="stringliteral">&quot;modificationDate&quot;</span> =&gt; $this-&gt;getDateTime( $spiVersionInfo-&gt;modificationDate ),</div>
<div class="line">                <span class="stringliteral">&quot;creatorId&quot;</span> =&gt; $spiVersionInfo-&gt;creatorId,</div>
<div class="line">                <span class="stringliteral">&quot;creationDate&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d">getDateTime</a>( $spiVersionInfo-&gt;creationDate ),</div>
<div class="line">                <span class="stringliteral">&quot;status&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77">getDomainVersionStatus</a>( $spiVersionInfo-&gt;status ),</div>
<div class="line">                <span class="stringliteral">&quot;initialLanguageCode&quot;</span> =&gt; $spiVersionInfo-&gt;initialLanguageCode,</div>
<div class="line">                <span class="stringliteral">&quot;languageCodes&quot;</span> =&gt; $languageCodes,</div>
<div class="line">                <span class="stringliteral">&quot;names&quot;</span> =&gt; $spiVersionInfo-&gt;names,</div>
<div class="line">                <span class="stringliteral">&quot;contentInfo&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c">buildContentInfoDomainObject</a>( $spiVersionInfo-&gt;contentInfo )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="291,5,523,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="579,49,789,95"/><area shape="rect" id="node8" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="284,144,529,208"/></map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ae1862650c03f09aeac896fb57586a6d5_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="287,430,537,477"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a54df43d0faa8292da6ced10bed07722e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentDrafts" alt="" coords="289,619,535,666"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#acd04ea045c037caffd38cdc77922446a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersions" alt="" coords="308,689,516,735"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="933,415,1141,462"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="283,244,541,308"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="607,361,831,407"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="593,291,844,338"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="617,430,820,477"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="609,499,828,546"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="589,134,848,181"/><area shape="rect" id="node36" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="608,204,829,268"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="935,78,1140,125"/><area shape="rect" id="node33" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="896,147,1179,194"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="1227,5,1523,51"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="1229,74,1520,121"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="1232,143,1517,190"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="1265,213,1484,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36dd74adf5e1a23a90fe5d16bc10b6ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::copyContent </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1LocationCreateStruct.html">LocationCreateStruct</a>&#160;</td>
          <td class="paramname"><em>$destinationLocationCreateStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies the content to a new location. If no version is given, all versions are copied, otherwise only the given version.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to copy the content to the given location</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\LocationCreateStruct</td><td class="paramname">$destinationLocationCreateStruct</td><td>the target location where the content is copied to </td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01389">1389</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">eZ\Publish\Core\Repository\ContentService\buildVersionInfoDomainObject()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01279">eZ\Publish\Core\Repository\ContentService\internalPublishVersion()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $destinationLocationCreateStruct-&gt;remoteId !== null )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $this-&gt;repository-&gt;getLocationService()-&gt;loadLocationByRemoteId(</div>
<div class="line">                    $destinationLocationCreateStruct-&gt;remoteId</div>
<div class="line">                );</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$destinationLocationCreateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Location with remoteId &#39;{$destinationLocationCreateStruct-&gt;remoteId}&#39; already exists&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Do nothing</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $destinationLocationCreateStruct-&gt;remoteId = md5( uniqid( get_class( $this ), <span class="keyword">true</span> ) );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;create&#39;</span>, $contentInfo, $destinationLocationCreateStruct ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContent = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;copy(</div>
<div class="line">                $contentInfo-&gt;id,</div>
<div class="line">                $versionInfo ? $versionInfo-&gt;versionNo : null</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d">internalPublishVersion</a>(</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a>( $spiContent-&gt;versionInfo ),</div>
<div class="line">                $spiContent-&gt;versionInfo-&gt;creationDate</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            $this-&gt;repository-&gt;getLocationService()-&gt;createLocation(</div>
<div class="line">                $content-&gt;getVersionInfo()-&gt;getContentInfo(),</div>
<div class="line">                $destinationLocationCreateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a36dd74adf5e1a23a90fe5d16bc10b6ee_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a36dd74adf5e1a23a90fe5d16bc10b6ee_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a36dd74adf5e1a23a90fe5d16bc10b6ee_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a36dd74adf5e1a23a90fe5d16bc10b6ee_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="848,75,1075,139"/><area shape="rect" id="node12" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="264,144,485,208"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1139,5,1371,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1427,49,1637,95"/><area shape="rect" id="node10" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1132,144,1377,208"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="533,144,792,208"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishUrlAliases\lForContent" alt="" coords="545,232,780,296"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="840,162,1083,209"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72fa7c75d855693b2f7452466b18cd2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::createContentDraft </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a>&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a draft from a published or archived version.</p>
<p>If no version is given, the current published version is used. 4.x: The draft is created with the initialLanguage code of the source version or if not present with the main language. It can be changed on updating the version.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to create the draft</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\User\User</td><td class="paramname">$user</td><td>if set given user is used to create the draft - otherwise the current user is used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the newly created content draft </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00905">905</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01759">eZ\Publish\Core\Repository\ContentService\buildContentDomainObject()</a>, <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00111">eZ\Publish\Core\Repository\ContentService\loadContentInfo()</a>, <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00203">eZ\Publish\Core\Repository\ContentService\loadVersionInfoById()</a>, <a class="el" href="API_2Repository_2Values_2Content_2VersionInfo_8php_source.html#l00032">eZ\Publish\API\Repository\Values\Content\VersionInfo\STATUS_ARCHIVED</a>, and <a class="el" href="API_2Repository_2Values_2Content_2VersionInfo_8php_source.html#l00031">eZ\Publish\API\Repository\Values\Content\VersionInfo\STATUS_PUBLISHED</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $contentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1">loadContentInfo</a>( $contentInfo-&gt;id );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $versionInfo !== null )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Check that given $contentInfo and $versionInfo belong to the same content</span></div>
<div class="line">            <span class="keywordflow">if</span> ( $versionInfo-&gt;getContentInfo()-&gt;id != $contentInfo-&gt;id )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$versionInfo&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;VersionInfo does not belong to the same content as given ContentInfo&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $versionInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e">loadVersionInfoById</a>( $contentInfo-&gt;id, $versionInfo-&gt;versionNo );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">switch</span> ( $versionInfo-&gt;status )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html#a3acf9508f6a9c233932aa24deda64b3f">VersionInfo::STATUS_PUBLISHED</a>:</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html#aaf94cb63e5e9e1fc36ac946455f8c860">VersionInfo::STATUS_ARCHIVED</a>:</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    <span class="comment">// @todo: throw an exception here, to be defined</span></div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                        <span class="stringliteral">&quot;\$versionInfo&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;Draft can not be created from a draft version&quot;</span></div>
<div class="line">                    );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $versionNo = $versionInfo-&gt;versionNo;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( $contentInfo-&gt;published )</div>
<div class="line">        {</div>
<div class="line">            $versionNo = $contentInfo-&gt;currentVersionNo;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// @todo: throw an exception here, to be defined</span></div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentInfo&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Content is not published, draft can be created only from published or archived version&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $user === null )</div>
<div class="line">        {</div>
<div class="line">            $user = $this-&gt;repository-&gt;getCurrentUser();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $user = $this-&gt;repository-&gt;getUserService()-&gt;loadUser( $user-&gt;id );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, $contentInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, array( <span class="stringliteral">&#39;name&#39;</span> =&gt; $contentInfo-&gt;name ) );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContent = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;createDraftFromVersion(</div>
<div class="line">                $contentInfo-&gt;id,</div>
<div class="line">                $versionNo,</div>
<div class="line">                $user-&gt;id</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0">buildContentDomainObject</a>( $spiContent );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a72fa7c75d855693b2f7452466b18cd2e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a72fa7c75d855693b2f7452466b18cd2e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a72fa7c75d855693b2f7452466b18cd2e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a72fa7c75d855693b2f7452466b18cd2e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="307,15,565,79"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="620,162,849,209"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="311,102,561,149"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="613,5,856,51"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="621,75,848,139"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1235,59,1467,123"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1515,33,1725,79"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="923,109,1168,173"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="905,197,1185,243"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5da789f48892cd449aa09255c1d0b112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::deleteContent </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes a content object including all its versions and locations including their subtrees.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to delete the content (in one of the locations of the given content object)</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00872">872</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;remove&#39;</span>, $contentInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;remove&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;deleteContent( $contentInfo-&gt;id );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac13f17a68842e8f4eea4b77045e2a208"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::deleteRelation </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$sourceVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$destinationContent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a relation of type COMMON from a draft.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed edit this version </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>if the version is not a draft </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>if there is no relation of type COMMON for the given destination</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$sourceVersion</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$destinationContent</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01603">1603</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00203">eZ\Publish\Core\Repository\ContentService\loadVersionInfoById()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $sourceVersion = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e">loadVersionInfoById</a>(</div>
<div class="line">            $sourceVersion-&gt;contentInfo-&gt;id,</div>
<div class="line">            $sourceVersion-&gt;versionNo</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $sourceVersion-&gt;status !== APIVersionInfo::STATUS_DRAFT )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$sourceVersion&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Relations of type common can only be removed from versions of status draft&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, $sourceVersion ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiRelations = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadRelations(</div>
<div class="line">            $sourceVersion-&gt;getContentInfo()-&gt;id,</div>
<div class="line">            $sourceVersion-&gt;versionNo,</div>
<div class="line">            APIRelation::COMMON</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $spiRelations ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$sourceVersion&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;There are no relations of type COMMON for the given destination&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// there should be only one relation of type COMMON for each destination,</span></div>
<div class="line">        <span class="comment">// but in case there were ever more then one, we will remove them all</span></div>
<div class="line">        <span class="comment">// @todo: alternatively, throw BadStateException?</span></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">foreach</span> ( $spiRelations as $spiRelation )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( $spiRelation-&gt;destinationContentId == $destinationContent-&gt;id )</div>
<div class="line">                {</div>
<div class="line">                    $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;removeRelation( $spiRelation-&gt;id );</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ac13f17a68842e8f4eea4b77045e2a208_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ac13f17a68842e8f4eea4b77045e2a208_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ac13f17a68842e8f4eea4b77045e2a208_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ac13f17a68842e8f4eea4b77045e2a208_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="273,47,524,94"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="573,15,803,62"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="879,80,1105,144"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="852,10,1132,57"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1189,5,1421,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1477,49,1688,95"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1183,144,1428,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4575d81c7b0e87122701cce7da343b63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::deleteVersion </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>removes the given version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>if the version is in state published </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to remove this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01310">1310</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $versionInfo-&gt;status === APIVersionInfo::STATUS_PUBLISHED )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$versionInfo&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Version is published and can not be removed&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;remove&#39;</span>, $versionInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;remove&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;deleteVersion(</div>
<div class="line">                $versionInfo-&gt;getContentInfo()-&gt;id,</div>
<div class="line">                $versionInfo-&gt;versionNo</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0dccfad219d6b6c6541994d95700c55d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::getDateTime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>|null </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01901">1901</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $dateTime = <span class="keyword">new</span> DateTime();</div>
<div class="line">        $dateTime-&gt;setTimestamp( $timestamp );</div>
<div class="line">        <span class="keywordflow">return</span> $dateTime;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0dccfad219d6b6c6541994d95700c55d_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0dccfad219d6b6c6541994d95700c55d_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0dccfad219d6b6c6541994d95700c55d_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0dccfad219d6b6c6541994d95700c55d_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="264,364,496,428"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="572,433,799,497"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="545,278,825,325"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="889,278,1119,325"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="875,96,1133,160"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="1188,282,1439,329"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="1509,387,1760,434"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="1829,239,2115,286"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="1523,249,1747,295"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="1533,129,1736,175"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="1525,318,1744,365"/><area shape="rect" id="node24" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadRelations" alt="" coords="1181,5,1445,51"/><area shape="rect" id="node28" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#afcff642a2adb8c2e58824f5f44a621f5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadReverseRelations" alt="" coords="1183,74,1444,121"/><area shape="rect" id="node26" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadRelations" alt="" coords="1529,5,1740,51"/><area shape="rect" id="node34" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a54df43d0faa8292da6ced10bed07722e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentDrafts" alt="" coords="881,347,1127,394"/><area shape="rect" id="node36" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#acd04ea045c037caffd38cdc77922446a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersions" alt="" coords="900,555,1108,602"/><area shape="rect" id="node38" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="1531,646,1739,693"/><area shape="rect" id="node40" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="875,468,1133,532"/><area shape="rect" id="node42" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="1184,477,1443,523"/><area shape="rect" id="node56" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="1203,568,1424,632"/><area shape="rect" id="node44" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="1532,457,1737,503"/><area shape="rect" id="node53" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="1493,526,1776,573"/><area shape="rect" id="node46" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="1824,473,2120,519"/><area shape="rect" id="node48" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="1827,403,2117,450"/><area shape="rect" id="node51" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="1863,571,2081,618"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6840fbe3680e9830e2be66d11f811b77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::getDomainVersionStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$spiStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$spiStatus</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int|null </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01878">1878</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="API_2Repository_2Values_2Content_2VersionInfo_8php_source.html#l00032">eZ\Publish\API\Repository\Values\Content\VersionInfo\STATUS_ARCHIVED</a>, <a class="el" href="API_2Repository_2Values_2Content_2VersionInfo_8php_source.html#l00030">eZ\Publish\API\Repository\Values\Content\VersionInfo\STATUS_DRAFT</a>, and <a class="el" href="API_2Repository_2Values_2Content_2VersionInfo_8php_source.html#l00031">eZ\Publish\API\Repository\Values\Content\VersionInfo\STATUS_PUBLISHED</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $status = null;</div>
<div class="line">        <span class="keywordflow">switch</span> ( $spiStatus )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> SPIVersionInfo::STATUS_DRAFT:</div>
<div class="line">                $status = <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html#a117955b8018667adc5230d2a8f0a2428">VersionInfo::STATUS_DRAFT</a>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> SPIVersionInfo::STATUS_PUBLISHED:</div>
<div class="line">                $status = <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html#a3acf9508f6a9c233932aa24deda64b3f">VersionInfo::STATUS_PUBLISHED</a>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> SPIVersionInfo::STATUS_ARCHIVED:</div>
<div class="line">                $status = <a class="code" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1VersionInfo.html#aaf94cb63e5e9e1fc36ac946455f8c860">VersionInfo::STATUS_ARCHIVED</a>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $status;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a6840fbe3680e9830e2be66d11f811b77_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a6840fbe3680e9830e2be66d11f811b77_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a6840fbe3680e9830e2be66d11f811b77_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a6840fbe3680e9830e2be66d11f811b77_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="303,551,529,615"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="583,430,833,477"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a54df43d0faa8292da6ced10bed07722e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentDrafts" alt="" coords="585,619,831,666"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#acd04ea045c037caffd38cdc77922446a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersions" alt="" coords="604,689,812,735"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="1229,415,1437,462"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="579,244,837,308"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="903,361,1127,407"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="889,291,1140,338"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="913,430,1116,477"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="905,499,1124,546"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="885,134,1144,181"/><area shape="rect" id="node38" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="904,204,1125,268"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="1231,78,1436,125"/><area shape="rect" id="node35" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="1192,147,1475,194"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="1523,5,1819,51"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="1525,74,1816,121"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="1528,143,1813,190"/><area shape="rect" id="node33" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="1561,213,1780,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1b7e339dc6e930ef5e120a86af244522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::internalLoadContent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$languages</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads content in a version of the given content object.</p>
<p>If no version number is given, the method returns the current version</p>
<p>private This is only available to services that needs access to Content w/o permissions checks </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>if the content or version with the given id and languages does not exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentId</td><td></td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$languages</td><td>A language filter for fields. If not given all languages are returned </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00316">316</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01759">eZ\Publish\Core\Repository\ContentService\buildContentDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( $versionNo === null )</div>
<div class="line">            {</div>
<div class="line">                $versionNo = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadContentInfo(</div>
<div class="line">                    $contentId</div>
<div class="line">                )-&gt;currentVersionNo;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $spiContent = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;load(</div>
<div class="line">                $contentId,</div>
<div class="line">                $versionNo,</div>
<div class="line">                $languages</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException(</div>
<div class="line">                <span class="stringliteral">&quot;Content&quot;</span>,</div>
<div class="line">                array(</div>
<div class="line">                    <span class="stringliteral">&quot;id&quot;</span> =&gt; $contentId,</div>
<div class="line">                    <span class="stringliteral">&quot;languages&quot;</span> =&gt; $languages,</div>
<div class="line">                    <span class="stringliteral">&quot;versionNo&quot;</span> =&gt; $versionNo</div>
<div class="line">                ),</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !empty( $languages ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">foreach</span> ( $languages as $languageCode )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (</div>
<div class="line">                    !in_array(</div>
<div class="line">                        $this-&gt;persistenceHandler-&gt;contentLanguageHandler()-&gt;loadByLanguageCode( $languageCode )-&gt;id,</div>
<div class="line">                        $spiContent-&gt;versionInfo-&gt;languageIds</div>
<div class="line">                    )</div>
<div class="line">                )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException(</div>
<div class="line">                        <span class="stringliteral">&quot;Content&quot;</span>,</div>
<div class="line">                        array(</div>
<div class="line">                            <span class="stringliteral">&quot;id&quot;</span> =&gt; $contentId,</div>
<div class="line">                            <span class="stringliteral">&quot;languages&quot;</span> =&gt; $languages,</div>
<div class="line">                            <span class="stringliteral">&quot;versionNo&quot;</span> =&gt; $versionNo</div>
<div class="line">                        )</div>
<div class="line">                    );</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0">buildContentDomainObject</a>( $spiContent );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="312,36,571,100"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="619,5,861,51"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="627,75,853,139"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="917,5,1149,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1205,49,1416,95"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="911,144,1156,208"/></map>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1b7e339dc6e930ef5e120a86af244522_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="351,109,556,155"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a534f07869acd5170a06a18652b3a1e39" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByRemoteId" alt="" coords="312,178,595,225"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="643,5,939,51"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="645,74,936,121"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="648,143,933,190"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="681,213,900,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0657088a1be09d2644cd20cf660999e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::internalLoadContentInfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a content info object.</p>
<p>To load fields use loadContent</p>
<p>private This is only available to services that needs access to Content w/o permissions checks </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the content with the given id does not exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00132">132</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01813">eZ\Publish\Core\Repository\ContentService\buildContentInfoDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContentInfo = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadContentInfo( $contentId );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException(</div>
<div class="line">                <span class="stringliteral">&quot;Content&quot;</span>,</div>
<div class="line">                $contentId,</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c">buildContentInfoDomainObject</a>( $spiContentInfo );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="336,5,568,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="616,14,827,61"/></map>
</div>
</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a0657088a1be09d2644cd20cf660999e9_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="351,113,580,159"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="336,235,595,299"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="660,78,911,125"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="977,5,1228,51"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="643,147,928,194"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="991,74,1215,121"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="1001,213,1204,259"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="993,143,1212,190"/><area shape="rect" id="node20" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadRelations" alt="" coords="653,273,917,319"/><area shape="rect" id="node24" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#afcff642a2adb8c2e58824f5f44a621f5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadReverseRelations" alt="" coords="655,342,916,389"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadRelations" alt="" coords="997,282,1208,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d69f985d4b36ea1bec2ee9ab6413b88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::internalLoadRelations </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads all outgoing relations for the given version</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01476">1476</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01917">eZ\Publish\Core\Repository\ContentService\buildRelationDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $contentInfo = $versionInfo-&gt;getContentInfo();</div>
<div class="line"></div>
<div class="line">        $spiRelations = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadRelations(</div>
<div class="line">            $contentInfo-&gt;id,</div>
<div class="line">            $versionInfo-&gt;versionNo</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $returnArray = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiRelations as $spiRelation )</div>
<div class="line">        {</div>
<div class="line">            $returnArray[] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59">buildRelationDomainObject</a>(</div>
<div class="line">                $spiRelation,</div>
<div class="line">                $contentInfo</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $returnArray;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="317,5,576,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="625,14,905,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="955,5,1187,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1235,14,1445,61"/></map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2d69f985d4b36ea1bec2ee9ab6413b88_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2ce45f779d3182230568c41d14d2f799" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadRelations" alt="" coords="319,5,529,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa966d633afabfc647c14c2b85400422d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::internalPublishVersion </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$publicationDate</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Publishes a content version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>if the version is not a draft</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$publicationDate</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01279">1279</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01759">eZ\Publish\Core\Repository\ContentService\buildContentDomainObject()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00837">eZ\Publish\Core\Repository\ContentService\publishUrlAliasesForContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $versionInfo-&gt;status !== APIVersionInfo::STATUS_DRAFT )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException( <span class="stringliteral">&quot;versionInfo&quot;</span>, <span class="stringliteral">&quot;only versions in draft status can be published&quot;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $metadataUpdateStruct = <span class="keyword">new</span> SPIMetadataUpdateStruct();</div>
<div class="line">        $metadataUpdateStruct-&gt;publicationDate = isset( $publicationDate ) ? $publicationDate : time();</div>
<div class="line">        $metadataUpdateStruct-&gt;modificationDate = $metadataUpdateStruct-&gt;publicationDate;</div>
<div class="line"></div>
<div class="line">        $spiContent = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;publish(</div>
<div class="line">            $versionInfo-&gt;getContentInfo()-&gt;id,</div>
<div class="line">            $versionInfo-&gt;versionNo,</div>
<div class="line">            $metadataUpdateStruct</div>
<div class="line">        );</div>
<div class="line">        $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0">buildContentDomainObject</a>( $spiContent );</div>
<div class="line"></div>
<div class="line">        $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43">publishUrlAliasesForContent</a>( $content );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="275,35,533,99"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishUrlAliases\lForContent" alt="" coords="287,123,521,187"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="581,5,824,51"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="589,75,816,139"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="880,5,1112,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1168,49,1379,95"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="873,144,1119,208"/></map>
</div>
</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa966d633afabfc647c14c2b85400422d_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="276,5,495,51"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="281,74,489,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca7d9f693a3b0e3af6d7dbe4e4fdd25e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$languages</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads content in a version of the given content object.</p>
<p>If no version number is given, the method returns the current version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>if the content or version with the given id and languages does not exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentId</td><td></td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$languages</td><td>A language filter for fields. If not given all languages are returned </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a4680cdbbca99cbedfcc49a269052f664">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00292">292</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00316">eZ\Publish\Core\Repository\ContentService\internalLoadContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522">internalLoadContent</a>( $contentId, $languages, $versionNo );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $content ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="261,45,520,91"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="568,36,827,100"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="875,5,1117,51"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="883,75,1109,139"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1173,5,1405,69"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1461,49,1672,95"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1167,144,1412,208"/></map>
</div>
</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aca7d9f693a3b0e3af6d7dbe4e4fdd25e_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a01797e18b1bc2951b0e611602ba9b744" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByContentInfo" alt="" coords="261,5,557,51"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1af8719cf320d3d5a9038785c284d1ab" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentByVersionInfo" alt="" coords="264,74,555,121"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="267,143,552,190"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="300,213,519,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a01797e18b1bc2951b0e611602ba9b744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentByContentInfo </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$languages</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads content in a version for the given content info object.</p>
<p>If no version number is given, the method returns the current version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if version with the given number does not exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$languages</td><td>A language filter for fields. If not given all languages are returned </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00250">250</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00292">eZ\Publish\Core\Repository\ContentService\loadContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>(</div>
<div class="line">            $contentInfo-&gt;id,</div>
<div class="line">            $languages,</div>
<div class="line">            $versionNo</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a01797e18b1bc2951b0e611602ba9b744_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a01797e18b1bc2951b0e611602ba9b744_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a01797e18b1bc2951b0e611602ba9b744_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a01797e18b1bc2951b0e611602ba9b744_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="351,45,556,91"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="605,45,864,91"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="912,36,1171,100"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="1219,5,1461,51"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="1227,75,1453,139"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1517,5,1749,69"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1805,49,2016,95"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1511,144,1756,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a534f07869acd5170a06a18652b3a1e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentByRemoteId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$remoteId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$languages</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads content in a version for the content object reference by the given remote id.</p>
<p>If no version is given, the method returns the current version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the content or version with the given remote id does not exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$remoteId</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$languages</td><td>A language filter for fields. If not given all languages are returned </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a36ad859e24bcf5ede906b46f0cef736b">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00386">386</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00316">eZ\Publish\Core\Repository\ContentService\internalLoadContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $content = $this-&gt;repository-&gt;getSearchService()-&gt;findSingle( <span class="keyword">new</span> CriterionRemoteId( $remoteId ), array(), <span class="keyword">false</span> );</div>
<div class="line">        <span class="keywordflow">if</span> ( !empty( $languages ) || $versionNo !== null )</div>
<div class="line">        {</div>
<div class="line">            $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522">internalLoadContent</a>( $content-&gt;id, $languages, $versionNo );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $content ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a534f07869acd5170a06a18652b3a1e39_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a534f07869acd5170a06a18652b3a1e39_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a534f07869acd5170a06a18652b3a1e39_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a534f07869acd5170a06a18652b3a1e39_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="336,45,595,91"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="643,36,901,100"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="949,5,1192,51"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="957,75,1184,139"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1248,5,1480,69"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1536,49,1747,95"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1241,144,1487,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1af8719cf320d3d5a9038785c284d1ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentByVersionInfo </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$languages</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads content in the version given by version info.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$languages</td><td>A language filter for fields. If not given all languages are returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00269">269</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00292">eZ\Publish\Core\Repository\ContentService\loadContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>(</div>
<div class="line">            $versionInfo-&gt;getContentInfo()-&gt;id,</div>
<div class="line">            $languages,</div>
<div class="line">            $versionInfo-&gt;versionNo</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1af8719cf320d3d5a9038785c284d1ab_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1af8719cf320d3d5a9038785c284d1ab_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1af8719cf320d3d5a9038785c284d1ab_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a1af8719cf320d3d5a9038785c284d1ab_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="348,45,553,91"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="603,45,861,91"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="909,36,1168,100"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="1216,5,1459,51"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="1224,75,1451,139"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1515,5,1747,69"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1803,49,2013,95"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1508,144,1753,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54df43d0faa8292da6ced10bed07722e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentDrafts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a>&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads drafts for a user.</p>
<p>If no user is given the drafts for the authenticated user a returned</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load the draft list</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\User\User</td><td class="paramname">$user</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the drafts (<a class="el" href="">VersionInfo</a>) owned by the given user </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a5e08834ef783423063f4e02f141371ee">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00993">993</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">eZ\Publish\Core\Repository\ContentService\buildVersionInfoDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $user === null )</div>
<div class="line">        {</div>
<div class="line">            $user = $this-&gt;repository-&gt;getCurrentUser();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// throw early if user has absolutely no access to versionread</span></div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> ) === false )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiVersionInfoList = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadDraftsForUser( $user-&gt;id );</div>
<div class="line"></div>
<div class="line">        $versionInfoList = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiVersionInfoList as $spiVersionInfo )</div>
<div class="line">        {</div>
<div class="line">            $versionInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a>( $spiVersionInfo );</div>
<div class="line">            <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span>, $versionInfo ) )</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">            $versionInfoList[] = $versionInfo;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $versionInfoList;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a54df43d0faa8292da6ced10bed07722e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a54df43d0faa8292da6ced10bed07722e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a54df43d0faa8292da6ced10bed07722e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a54df43d0faa8292da6ced10bed07722e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="300,75,527,139"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="584,5,816,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="872,49,1083,95"/><area shape="rect" id="node10" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="577,144,823,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab89df555b6d042b5b8192de6a91cb9b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentInfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a content info object.</p>
<p>To load fields use loadContent</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to read the content </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the content with the given id does not exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#ae75df7ccf6a58e90787eae0260bebf46">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00111">111</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00132">eZ\Publish\Core\Repository\ContentService\internalLoadContentInfo()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $contentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9">internalLoadContentInfo</a>( $contentId );</div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $contentInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $contentInfo;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="284,14,564,61"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="613,5,845,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="893,14,1104,61"/></map>
</div>
</p>

<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_ab89df555b6d042b5b8192de6a91cb9b1_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="300,74,551,121"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="617,5,868,51"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="283,143,568,190"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="631,74,855,121"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="641,143,844,190"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="633,213,852,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa727b69aab7f5239d677027a54d1eb5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadContentInfoByRemoteId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$remoteId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a content info object for the given remoteId.</p>
<p>To load fields use loadContent</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to read the content </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the content with the given remote id does not exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$remoteId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a2c4546cad66b8e8b7046fd45082a5363">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00162">162</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $content = $this-&gt;repository-&gt;getSearchService()-&gt;findSingle( <span class="keyword">new</span> CriterionRemoteId( $remoteId ), array(), <span class="keyword">false</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $content ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content-&gt;contentInfo;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa727b69aab7f5239d677027a54d1eb5f_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa727b69aab7f5239d677027a54d1eb5f_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa727b69aab7f5239d677027a54d1eb5f_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_aa727b69aab7f5239d677027a54d1eb5f_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="283,14,568,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ce45f779d3182230568c41d14d2f799"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadRelations </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads all outgoing relations for the given version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to read this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01454">1454</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01476">eZ\Publish\Core\Repository\ContentService\internalLoadRelations()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span>, $versionInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $relations = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88">internalLoadRelations</a>( $versionInfo );</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $relations as $relation )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $relation-&gt;getDestinationContentInfo() ) )</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $relations;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2ce45f779d3182230568c41d14d2f799_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2ce45f779d3182230568c41d14d2f799_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2ce45f779d3182230568c41d14d2f799_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a2ce45f779d3182230568c41d14d2f799_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a2d69f985d4b36ea1bec2ee9ab6413b88" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadRelations" alt="" coords="267,14,531,61"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="579,5,837,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="887,14,1167,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1216,5,1448,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1496,14,1707,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afcff642a2adb8c2e58824f5f44a621f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadReverseRelations </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads all incoming relations for a content object.</p>
<p>The relations come only from published versions of the source content objects</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to read this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01508">1508</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01917">eZ\Publish\Core\Repository\ContentService\buildRelationDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;reverserelatedlist&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;reverserelatedlist&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiRelations = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadReverseRelations(</div>
<div class="line">            $contentInfo-&gt;id</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $returnArray = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiRelations as $spiRelation )</div>
<div class="line">        {</div>
<div class="line">            $relation = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59">buildRelationDomainObject</a>(</div>
<div class="line">                $spiRelation,</div>
<div class="line">                null,</div>
<div class="line">                $contentInfo</div>
<div class="line">            );</div>
<div class="line">            <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span>, $relation-&gt;getSourceContentInfo() ) )</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;read&#39;</span> );</div>
<div class="line"></div>
<div class="line">            $returnArray[] = $relation;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $returnArray;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_afcff642a2adb8c2e58824f5f44a621f5_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_afcff642a2adb8c2e58824f5f44a621f5_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_afcff642a2adb8c2e58824f5f44a621f5_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_afcff642a2adb8c2e58824f5f44a621f5_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a8a32a546d23a36d5cf9e035613c9ea59" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildRelationDomain\lObject" alt="" coords="317,5,576,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="625,14,905,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="955,5,1187,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1235,14,1445,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a398b2e527fcc2d474538216d68508a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadTranslationInfos </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$filter</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>lists the translations done on this content object</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed read translation infos</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$filter</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000090">Todo:</a></b></dt><dd>TBD - filter by source version destination version and languages</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>[]</dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0 </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01687">1687</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line"></div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4114cfc2db3f924be7c94aefdd585419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadVersionInfo </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a version info of the given content object.</p>
<p>If no version number is given, the method returns the current version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the version with the given number does not exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00185">185</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00203">eZ\Publish\Core\Repository\ContentService\loadVersionInfoById()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e">loadVersionInfoById</a>( $contentInfo-&gt;id, $versionNo );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4114cfc2db3f924be7c94aefdd585419_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4114cfc2db3f924be7c94aefdd585419_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4114cfc2db3f924be7c94aefdd585419_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4114cfc2db3f924be7c94aefdd585419_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a166a660112d8d49a63d633d33881bd4e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfoById" alt="" coords="281,47,532,94"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="581,15,811,62"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="887,80,1113,144"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="860,10,1140,57"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1197,5,1429,69"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1485,49,1696,95"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1191,144,1436,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a166a660112d8d49a63d633d33881bd4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadVersionInfoById </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a version info of the given content object id.</p>
<p>If no version number is given, the method returns the current version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>- if the version with the given number does not exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to load this version</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentId</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td>the version number. If not given the current version is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a2e7e9750549890958df4b58532e83a7b">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00203">203</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">eZ\Publish\Core\Repository\ContentService\buildVersionInfoDomainObject()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00111">eZ\Publish\Core\Repository\ContentService\loadContentInfo()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $versionNo === null )</div>
<div class="line">        {</div>
<div class="line">            $versionNo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1">loadContentInfo</a>( $contentId )-&gt;currentVersionNo;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiVersionInfo = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;loadVersionInfo(</div>
<div class="line">                $contentId,</div>
<div class="line">                $versionNo</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException(</div>
<div class="line">                <span class="stringliteral">&quot;VersionInfo&quot;</span>,</div>
<div class="line">                array(</div>
<div class="line">                    <span class="stringliteral">&quot;contentId&quot;</span> =&gt; $contentId,</div>
<div class="line">                    <span class="stringliteral">&quot;versionNo&quot;</span> =&gt; $versionNo</div>
<div class="line">                ),</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $versionInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a>( $spiVersionInfo );</div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span>, $versionInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $versionInfo;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="612,80,839,144"/><area shape="rect" id="node12" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="307,15,536,62"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="923,5,1155,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1211,49,1421,95"/><area shape="rect" id="node10" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="916,144,1161,208"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="585,10,865,57"/></map>
</div>
</p>

<p><div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a166a660112d8d49a63d633d33881bd4e_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4114cfc2db3f924be7c94aefdd585419" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadVersionInfo" alt="" coords="321,5,545,51"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a72fa7c75d855693b2f7452466b18cd2e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\createContentDraft" alt="" coords="308,74,559,121"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a3adbd1f96357f0e932afd873fa286900" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\addRelation" alt="" coords="332,143,535,190"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ac13f17a68842e8f4eea4b77045e2a208" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\deleteRelation" alt="" coords="324,213,543,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd04ea045c037caffd38cdc77922446a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::loadVersions </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads all versions for the given content</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to list versions</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] Sorted by creation date </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01348">1348</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01847">eZ\Publish\Core\Repository\ContentService\buildVersionInfoDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span>, $contentInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiVersionInfoList = $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;listVersions( $contentInfo-&gt;id );</div>
<div class="line"></div>
<div class="line">        $versions = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiVersionInfoList as $spiVersionInfo )</div>
<div class="line">        {</div>
<div class="line">            $versionInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5">buildVersionInfoDomainObject</a>( $spiVersionInfo );</div>
<div class="line">            <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span>, $versionInfo ) )</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;versionread&#39;</span> );</div>
<div class="line"></div>
<div class="line">            $versions[] = $versionInfo;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        usort(</div>
<div class="line">            $versions,</div>
<div class="line">            <span class="keyword">function</span>( $a, $b )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( $a-&gt;creationDate-&gt;getTimestamp() === $b-&gt;creationDate-&gt;getTimestamp() ) <span class="keywordflow">return</span> 0;</div>
<div class="line">                <span class="keywordflow">return</span> ( $a-&gt;creationDate-&gt;getTimestamp() &lt; $b-&gt;creationDate-&gt;getTimestamp() ) ? -1 : 1;</div>
<div class="line">            }</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $versions;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_acd04ea045c037caffd38cdc77922446a_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_acd04ea045c037caffd38cdc77922446a_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_acd04ea045c037caffd38cdc77922446a_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_acd04ea045c037caffd38cdc77922446a_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="265,75,492,139"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="549,5,781,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="837,49,1048,95"/><area shape="rect" id="node10" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="543,144,788,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a296ffa99577b9e9c73c5c7bf0cf1bcbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::newContentCreateStruct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a>&#160;</td>
          <td class="paramname"><em>$contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mainLanguageCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content create struct object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mainLanguageCode</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#afe9dd736f1a3e9f5ccab0c2297503d5c">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01700">1700</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;contentType&quot;</span> =&gt; $contentType,</div>
<div class="line">                <span class="stringliteral">&quot;mainLanguageCode&quot;</span> =&gt; $mainLanguageCode</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a288db416b5e75024fed4d10c5eae3923"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::newContentMetadataUpdateStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content meta data update struct</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#ac3346d76e0e62f37e25c67a35f61cd69">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01715">1715</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentMetadataUpdateStruct();</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53f06d04c5d486e5242aa696dda8854d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::newContentUpdateStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content update struct</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a31b38492c283e77680a5dc25b6da4f33">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01725">1725</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentUpdateStruct();</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ca41b33ef54db5068dc500b449c3ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::newTranslationInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new TranslationInfo object </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#abc6bb85fd2356e42d21436b4ecb9ac2b">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01734">1734</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> TranslationInfo();</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a36cfa677a1246daef718714ced01f7e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::newTranslationValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a Translation object </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentService.html#a7193fa324b4c7375a36cdd5addac5a44">eZ\Publish\API\Repository\ContentService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01743">1743</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> TranslationValues();</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4522ab79ca7f19503f7e28b4af210a43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::publishUrlAliasesForContent </td>
          <td>(</td>
          <td class="paramtype">APIContent&#160;</td>
          <td class="paramname"><em>$content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$onlyMain</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Publishes URL aliases for all locations of a given content.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\Content</td><td class="paramname">$content</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$onlyMain</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000089">Todo:</a></b></dt><dd>: this is legacy storage specific for updating ezcontentobject_tree.path_identification_string, to be removed</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00837">837</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $urlAliasNames = $this-&gt;repository-&gt;getNameSchemaService()-&gt;resolveUrlAliasSchema( $content );</div>
<div class="line">        $locations = $this-&gt;repository-&gt;getLocationService()-&gt;loadLocations(</div>
<div class="line">            $content-&gt;getVersionInfo()-&gt;getContentInfo()</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $locations as $location )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">foreach</span> ( $urlAliasNames as $languageCode =&gt; $name )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( $onlyMain &amp;&amp; $languageCode != $content-&gt;contentInfo-&gt;mainLanguageCode )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                $this-&gt;persistenceHandler-&gt;urlAliasHandler()-&gt;publishUrlAliasForLocation(</div>
<div class="line">                    $location-&gt;id,</div>
<div class="line">                    $location-&gt;parentLocationId,</div>
<div class="line">                    $name,</div>
<div class="line">                    $languageCode,</div>
<div class="line">                    $content-&gt;contentInfo-&gt;alwaysAvailable,</div>
<div class="line">                    <span class="comment">// @todo: this is legacy storage specific for updating ezcontentobject_tree.path_identification_string, to be removed</span></div>
<div class="line">                    $languageCode === $content-&gt;contentInfo-&gt;mainLanguageCode</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4522ab79ca7f19503f7e28b4af210a43_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4522ab79ca7f19503f7e28b4af210a43_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4522ab79ca7f19503f7e28b4af210a43_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a4522ab79ca7f19503f7e28b4af210a43_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a79c4c76e2a0f4b8655c002901af24970" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\updateContentMetadata" alt="" coords="291,5,576,51"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="323,75,544,139"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a780c43e317053423be9372a9de2cf6ac" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishVersion" alt="" coords="625,49,844,95"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a36dd74adf5e1a23a90fe5d16bc10b6ee" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\copyContent" alt="" coords="631,118,839,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a780c43e317053423be9372a9de2cf6ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::publishVersion </td>
          <td>(</td>
          <td class="paramtype">APIVersionInfo&#160;</td>
          <td class="paramname"><em>$versionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publishes a content version</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to publish this version </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>if the version is not a draft</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01243">1243</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01279">eZ\Publish\Core\Repository\ContentService\internalPublishVersion()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00292">eZ\Publish\Core\Repository\ContentService\loadContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>(</div>
<div class="line">            $versionInfo-&gt;contentInfo-&gt;id,</div>
<div class="line">            null,</div>
<div class="line">            $versionInfo-&gt;versionNo</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, $content ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d">internalPublishVersion</a>( $content-&gt;getVersionInfo() );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $content;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a780c43e317053423be9372a9de2cf6ac_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a780c43e317053423be9372a9de2cf6ac_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a780c43e317053423be9372a9de2cf6ac_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a780c43e317053423be9372a9de2cf6ac_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa966d633afabfc647c14c2b85400422d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalPublish\lVersion" alt="" coords="275,31,496,95"/><area shape="rect" id="node20" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="283,118,488,165"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="851,36,1109,100"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishUrlAliases\lForContent" alt="" coords="556,31,791,95"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="1157,5,1400,51"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="1165,75,1392,139"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1456,5,1688,69"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1744,49,1955,95"/><area shape="rect" id="node16" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1449,144,1695,208"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="544,118,803,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae1624605d6f295eb57b4fb4dab4ab6cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::translateVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1TranslationInfo.html">TranslationInfo</a>&#160;</td>
          <td class="paramname"><em>$translationInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APITranslationValues&#160;</td>
          <td class="paramname"><em>$translationValues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a>&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l01039">1039</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line"></div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79c4c76e2a0f4b8655c002901af24970"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::updateContentMetadata </td>
          <td>(</td>
          <td class="paramtype">APIContentInfo&#160;</td>
          <td class="paramname"><em>$contentInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1Content_1_1ContentMetadataUpdateStruct.html">ContentMetadataUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$contentMetadataUpdateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the metadata.</p>
<p>(see <a class="el" href="">ContentMetadataUpdateStruct</a>) of a content object - to update fields use updateContent</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to update the content meta data </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>if the remoteId in $contentMetadataUpdateStruct is set but already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentInfo</td><td class="paramname">$contentInfo</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\Content\ContentMetadataUpdateStruct</td><td class="paramname">$contentMetadataUpdateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the content with the updated attributes </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00724">724</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00292">eZ\Publish\Core\Repository\ContentService\loadContent()</a>, <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00111">eZ\Publish\Core\Repository\ContentService\loadContentInfo()</a>, <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00162">eZ\Publish\Core\Repository\ContentService\loadContentInfoByRemoteId()</a>, and <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00837">eZ\Publish\Core\Repository\ContentService\publishUrlAliasesForContent()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $propertyCount = 0;</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $contentMetadataUpdateStruct as $propertyName =&gt; $propertyValue )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( isset( $contentMetadataUpdateStruct-&gt;$propertyName ) )</div>
<div class="line">            {</div>
<div class="line">                $propertyCount += 1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ( $propertyCount === 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentMetadataUpdateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;At least one property must be set&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $loadedContentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1">loadContentInfo</a>( $contentInfo-&gt;id );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !$this-&gt;repository-&gt;canUser( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span>, $loadedContentInfo ) )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;content&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( isset( $contentMetadataUpdateStruct-&gt;remoteId ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $existingContentInfo = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa727b69aab7f5239d677027a54d1eb5f">loadContentInfoByRemoteId</a>( $contentMetadataUpdateStruct-&gt;remoteId );</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ( $existingContentInfo-&gt;id !== $loadedContentInfo-&gt;id )</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                        <span class="stringliteral">&quot;\$contentMetadataUpdateStruct&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;Another content with remoteId &#39;{$contentMetadataUpdateStruct-&gt;remoteId}&#39; exists&quot;</span></div>
<div class="line">                    );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Do nothing</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( $propertyCount &gt; 1 || !isset( $contentMetadataUpdateStruct-&gt;mainLocationId ) )</div>
<div class="line">            {</div>
<div class="line">                $this-&gt;persistenceHandler-&gt;contentHandler()-&gt;updateMetadata(</div>
<div class="line">                    $loadedContentInfo-&gt;id,</div>
<div class="line">                    <span class="keyword">new</span> SPIMetadataUpdateStruct(</div>
<div class="line">                        array(</div>
<div class="line">                            <span class="stringliteral">&quot;ownerId&quot;</span> =&gt; $contentMetadataUpdateStruct-&gt;ownerId,</div>
<div class="line">                            <span class="stringliteral">&quot;publicationDate&quot;</span> =&gt; isset( $contentMetadataUpdateStruct-&gt;publishedDate ) ?</div>
<div class="line">                                $contentMetadataUpdateStruct-&gt;publishedDate-&gt;getTimestamp() :</div>
<div class="line">                                null,</div>
<div class="line">                            <span class="stringliteral">&quot;modificationDate&quot;</span> =&gt; isset( $contentMetadataUpdateStruct-&gt;modificationDate ) ?</div>
<div class="line">                                $contentMetadataUpdateStruct-&gt;modificationDate-&gt;getTimestamp() :</div>
<div class="line">                                null,</div>
<div class="line">                            <span class="stringliteral">&quot;mainLanguageId&quot;</span> =&gt; isset( $contentMetadataUpdateStruct-&gt;mainLanguageCode ) ?</div>
<div class="line">                                $this-&gt;repository-&gt;getContentLanguageService()-&gt;loadLanguage(</div>
<div class="line">                                    $contentMetadataUpdateStruct-&gt;mainLanguageCode</div>
<div class="line">                                )-&gt;id :</div>
<div class="line">                                null,</div>
<div class="line">                            <span class="stringliteral">&quot;alwaysAvailable&quot;</span> =&gt; $contentMetadataUpdateStruct-&gt;alwaysAvailable,</div>
<div class="line">                            <span class="stringliteral">&quot;remoteId&quot;</span> =&gt; $contentMetadataUpdateStruct-&gt;remoteId</div>
<div class="line">                        )</div>
<div class="line">                    )</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Change main location</span></div>
<div class="line">            <span class="keywordflow">if</span> ( isset( $contentMetadataUpdateStruct-&gt;mainLocationId )</div>
<div class="line">                &amp;&amp; $loadedContentInfo-&gt;mainLocationId !== $contentMetadataUpdateStruct-&gt;mainLocationId )</div>
<div class="line">            {</div>
<div class="line">                $this-&gt;persistenceHandler-&gt;locationHandler()-&gt;changeMainLocation(</div>
<div class="line">                    $loadedContentInfo-&gt;id,</div>
<div class="line">                    $contentMetadataUpdateStruct-&gt;mainLocationId</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Republish URL aliases to update always-available flag</span></div>
<div class="line">            <span class="keywordflow">if</span> ( isset( $contentMetadataUpdateStruct-&gt;alwaysAvailable )</div>
<div class="line">                &amp;&amp; $loadedContentInfo-&gt;alwaysAvailable !== $contentMetadataUpdateStruct-&gt;alwaysAvailable )</div>
<div class="line">            {</div>
<div class="line">                $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>( $loadedContentInfo-&gt;id );</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43">publishUrlAliasesForContent</a>( $content );</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// @todo: this is legacy storage specific for updating ezcontentobject_tree.path_identification_string, to be removed</span></div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( isset( $contentMetadataUpdateStruct-&gt;mainLanguageCode )</div>
<div class="line">                &amp;&amp; ( $loadedContentInfo-&gt;mainLanguageCode !== $contentMetadataUpdateStruct-&gt;mainLanguageCode ) )</div>
<div class="line">            {</div>
<div class="line">                $content = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>( $loadedContentInfo-&gt;id );</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43">publishUrlAliasesForContent</a>( $content, <span class="keyword">true</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> isset( $content ) ? $content : $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e">loadContent</a>( $loadedContentInfo-&gt;id );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a79c4c76e2a0f4b8655c002901af24970_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a79c4c76e2a0f4b8655c002901af24970_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a79c4c76e2a0f4b8655c002901af24970_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService_a79c4c76e2a0f4b8655c002901af24970_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aca7d9f693a3b0e3af6d7dbe4e4fdd25e" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContent" alt="" coords="355,118,560,165"/><area shape="rect" id="node20" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ab89df555b6d042b5b8192de6a91cb9b1" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo" alt="" coords="639,185,868,231"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aa727b69aab7f5239d677027a54d1eb5f" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\loadContentInfo\lByRemoteId" alt="" coords="343,241,572,305"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a4522ab79ca7f19503f7e28b4af210a43" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\publishUrlAliases\lForContent" alt="" coords="340,329,575,393"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a1b7e339dc6e930ef5e120a86af244522" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContent" alt="" coords="624,111,883,158"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#aaf222581c108dcaf7fd4660b6209d9e0" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentDomain\lObject" alt="" coords="943,100,1201,164"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#adfb745e849efbc2452f8c178c055646a" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildDomainFields" alt="" coords="1261,127,1504,174"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#ae1862650c03f09aeac896fb57586a6d5" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildVersionInfo\lDomainObject" alt="" coords="1269,40,1496,104"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a319644201c7f55ab059522587bbc1b2c" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\buildContentInfo\lDomainObject" alt="" coords="1560,144,1792,208"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0dccfad219d6b6c6541994d95700c55d" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDateTime" alt="" coords="1848,118,2059,165"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a6840fbe3680e9830e2be66d11f811b77" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\getDomainVersion\lStatus" alt="" coords="1553,5,1799,69"/><area shape="rect" id="node22" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html#a0657088a1be09d2644cd20cf660999e9" title="eZ\\Publish\\Core\\Repository\l\\ContentService\\internalLoadContentInfo" alt="" coords="932,187,1212,234"/></map>
</div>
</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a02e12f0efa160c24da1e57ae43630765"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::$persistenceHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00075">75</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

</div>
</div>
<a class="anchor" id="a584737e3238da4a67dcaa74131574560"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::$repository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00070">70</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

</div>
</div>
<a class="anchor" id="a01c80b97d4a84e3c873204fc8afc52a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentService::$settings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentService_8php_source.html#l00080">80</a> of file <a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/PAPI-doxygen-master/workspace/eZ/Publish/Core/Repository/<a class="el" href="Core_2Repository_2ContentService_8php_source.html">ContentService.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeZ.html">eZ</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish.html">Publish</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core.html">Core</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1Repository.html">Repository</a></li><li class="navelem"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentService.html">ContentService</a></li>
    <li class="footer">Generated on Sat Dec 8 2012 00:02:45 for ezp-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
