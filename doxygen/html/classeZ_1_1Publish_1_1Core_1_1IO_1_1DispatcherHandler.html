<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ezp-next: eZ\Publish\Core\IO\DispatcherHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ezp-next
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eZ\Publish\Core\IO\DispatcherHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for eZ\Publish\Core\IO\DispatcherHandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler__inherit__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_inherit__map" alt="Inheritance graph"/></div>
<map name="eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_inherit__map" id="eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_inherit__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html" title="eZ\\Publish\\SPI\\IO\\Handler" alt="" coords="5,5,189,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for eZ\Publish\Core\IO\DispatcherHandler:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler__coll__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_coll__map" alt="Collaboration graph"/></div>
<map name="eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_coll__map" id="eZ_0CPublish_0CCore_0CIO_0CDispatcherHandler_coll__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html" title="eZ\\Publish\\SPI\\IO\\Handler" alt="" coords="5,5,189,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad849cce30bff37bc54d91bbcee00063d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#ad849cce30bff37bc54d91bbcee00063d">__construct</a> (IoHandlerInterface $defaultHandler, array $alternativeHandlers)</td></tr>
<tr class="memitem:a0fa8334ec568d062da485c5bf955db96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#a0fa8334ec568d062da485c5bf955db96">create</a> (<a class="el" href="classeZ_1_1Publish_1_1SPI_1_1IO_1_1BinaryFileCreateStruct.html">BinaryFileCreateStruct</a> $createFilestruct)</td></tr>
<tr class="memitem:ac27005a966d7f16e4c1053c1aee52157"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#ac27005a966d7f16e4c1053c1aee52157">delete</a> ($path)</td></tr>
<tr class="memitem:abcdbf9c049b0d536886934baa4425701"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#abcdbf9c049b0d536886934baa4425701">update</a> ($path, <a class="el" href="classeZ_1_1Publish_1_1SPI_1_1IO_1_1BinaryFileUpdateStruct.html">BinaryFileUpdateStruct</a> $updateFileStruct)</td></tr>
<tr class="memitem:a29ab349f364f3c9279dca1c4fd0b937a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#a29ab349f364f3c9279dca1c4fd0b937a">exists</a> ($path)</td></tr>
<tr class="memitem:a5ccbfa3b34903166436c8f1708b5e52c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#a5ccbfa3b34903166436c8f1708b5e52c">load</a> ($path)</td></tr>
<tr class="memitem:a43e63ce4cd4a4bc9ef72abfa5538987c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#a43e63ce4cd4a4bc9ef72abfa5538987c">getFileResource</a> ($path)</td></tr>
<tr class="memitem:ac0c8bc00bfee90ad7474a2b334b1c542"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html#ac0c8bc00bfee90ad7474a2b334b1c542">getFileContents</a> ($path)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Handler interface for handling of binary files I/O </p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00020">20</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad849cce30bff37bc54d91bbcee00063d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::__construct </td>
          <td>(</td>
          <td class="paramtype">IoHandlerInterface&#160;</td>
          <td class="paramname"><em>$defaultHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$alternativeHandlers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates new object and validates $config param</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">IoHandlerInterface</td><td class="paramname">$defaultHandler</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$alternativeHandlers</td><td>Structure of handlers that follows the following format: array( array( 'handler' =&gt; Handler, .. ), .. ) ie: array( array( 'handler' =&gt; $handler1, // match conditions: 'prefix' =&gt; 'var/original/', 'suffix' =&gt; '.gif,.jpg', 'contains' =&gt; 'image-versioned' ), (...) )</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If $config does not contain default handler that implements Handler, handlers is unset or empty (hence you could have used default directly), one of the 'patterns' is unset or empty (hence it could have been default) or a 'handler' item does not implement Handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00058">58</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $alternativeHandlers ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException( <span class="stringliteral">&quot;\$config[&#39;handlers&#39;]&quot;</span>, <span class="stringliteral">&quot;must be of type array&quot;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Validate handlers so it does not need to be done on every call to getHandler()</span></div>
<div class="line">        <span class="keywordflow">foreach</span> ( $alternativeHandlers as $key =&gt; $handlerConfig )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( empty( $handlerConfig[<span class="stringliteral">&#39;contains&#39;</span>] ) &amp;&amp; empty( $handlerConfig[<span class="stringliteral">&#39;prefix&#39;</span>] ) &amp;&amp; empty( $handlerConfig[<span class="stringliteral">&#39;suffix&#39;</span>] ) )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$alternativeHandlers[$key][contains|prefix|suffix]&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;either of these must be present and of type string&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( empty( $handlerConfig[<span class="stringliteral">&#39;handler&#39;</span>] ) || !$handlerConfig[<span class="stringliteral">&#39;handler&#39;</span>] instanceof IoHandlerInterface )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$alternativeHandlers[$key][&#39;handler&#39;]&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;must be of type eZ\\Publish\\SPI\\IO\\Handler&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;defaultHandler = $defaultHandler;</div>
<div class="line">        $this-&gt;alternativeHandlers = $alternativeHandlers;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a0fa8334ec568d062da485c5bf955db96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1IO_1_1BinaryFileCreateStruct.html">BinaryFileCreateStruct</a>&#160;</td>
          <td class="paramname"><em>$createFilestruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and stores a new BinaryFile based on the BinaryFileCreateStruct $file</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the target path already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\IO\BinaryFileCreateStruct</td><td class="paramname">$createFilestruct</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The newly created BinaryFile object </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#a95410dfcef1213116568a87a94877e38">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00097">97</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getHandler( $createFilestruct-&gt;path )-&gt;create( $createFilestruct );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac27005a966d7f16e4c1053c1aee52157"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes the existing BinaryFile with path $path</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If the file doesn't exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#a5b3bea3160e83e8c958f5dde42757f23">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00109">109</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $this-&gt;getHandler( $path )-&gt;delete( $path );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29ab349f364f3c9279dca1c4fd0b937a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the BinaryFile with path $path exists</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#a510167e87b86253f0c85af3ba84cef36">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00157">157</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getHandler( $path )-&gt;exists( $path );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0c8bc00bfee90ad7474a2b334b1c542"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::getFileContents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the contents of the BinaryFile identified by $path</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>if the file couldn't be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#aa52d84f6c1b7030953b8cea9886d5733">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00199">199</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getHandler( $path )-&gt;getFileContents( $path );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43e63ce4cd4a4bc9ef72abfa5538987c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::getFileResource </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a file resource to the BinaryFile identified by $path</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If no file identified by $path exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resource </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#a12153028ac56d37164a4c6688f7d721b">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00185">185</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getHandler( $path )-&gt;getFileResource( $path );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ccbfa3b34903166436c8f1708b5e52c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads the BinaryFile identified by $path</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If no file identified by $path exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#a1f299f43fb9c6c1b663513edd3e32253">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00171">171</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getHandler( $path )-&gt;load( $path );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abcdbf9c049b0d536886934baa4425701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\IO\DispatcherHandler::update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1IO_1_1BinaryFileUpdateStruct.html">BinaryFileUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$updateFileStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the file identified by $path with data from $updateFile</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If the source path doesn't exist </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the target path already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\SPI\IO\BinaryFileUpdateStruct</td><td class="paramname">$updateFileStruct</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The updated BinaryFile </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html#ab0e12cb7dd3d90b67bea88270b6c931c">eZ\Publish\SPI\IO\Handler</a>.</p>

<p>Definition at line <a class="el" href="DispatcherHandler_8php_source.html#l00125">125</a> of file <a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $path === $updateFileStruct-&gt;path )</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;getHandler( $path )-&gt;update( $path, $updateFileStruct );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// When file path has changed, check if we should move from one handler to another</span></div>
<div class="line">        $oldHandler = $this-&gt;getHandler( $path );</div>
<div class="line">        $newHandler = $this-&gt;getHandler( $updateFileStruct-&gt;path );</div>
<div class="line">        <span class="keywordflow">if</span> ( $oldHandler === $newHandler )</div>
<div class="line">            <span class="keywordflow">return</span> $oldHandler-&gt;update( $path, $updateFileStruct );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Move file from old to new handler</span></div>
<div class="line">        <span class="keywordflow">throw</span> new \Exception( <span class="stringliteral">&#39;@todo: Moving from one io handler to another one is not implemented!&#39;</span> );</div>
<div class="line">        <span class="comment">/*$newHandler-&gt;create( $updateFile );</span></div>
<div class="line"><span class="comment">        try</span></div>
<div class="line"><span class="comment">        {</span></div>
<div class="line"><span class="comment">            $oldHandler-&gt;delete( $path );</span></div>
<div class="line"><span class="comment">        }</span></div>
<div class="line"><span class="comment">        catch ( \Exception $e )</span></div>
<div class="line"><span class="comment">        {</span></div>
<div class="line"><span class="comment">            $newHandler-&gt;delete( $updateFile-&gt;path );</span></div>
<div class="line"><span class="comment">            throw $e;</span></div>
<div class="line"><span class="comment">        }*/</span></div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/PAPI-doxygen-master/workspace/eZ/Publish/Core/IO/<a class="el" href="DispatcherHandler_8php_source.html">DispatcherHandler.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeZ.html">eZ</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish.html">Publish</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core.html">Core</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1IO.html">IO</a></li><li class="navelem"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1IO_1_1DispatcherHandler.html">DispatcherHandler</a></li>
    <li class="footer">Generated on Fri Dec 21 2012 00:02:42 for ezp-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
