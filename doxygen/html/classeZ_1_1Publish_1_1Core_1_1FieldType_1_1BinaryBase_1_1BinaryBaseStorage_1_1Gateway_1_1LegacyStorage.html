<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ezp-next: eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ezp-next
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage__inherit__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_inherit__map" alt="Inheritance graph"/></div>
<map name="eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_inherit__map" id="eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_inherit__map">
<area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html" title="eZ\\Publish\\Core\\FieldType\l\\BinaryFile\\BinaryFileStorage\l\\Gateway\\LegacyStorage" alt="" coords="795,5,995,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html" title="eZ\\Publish\\Core\\FieldType\l\\Media\\MediaStorage\\Gateway\l\\LegacyStorage" alt="" coords="787,93,1003,157"/><area shape="rect" id="node2" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway" alt="" coords="239,49,463,113"/><area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1StorageGateway.html" title="eZ\\Publish\\Core\\FieldType\l\\StorageGateway" alt="" coords="7,58,188,105"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage__coll__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_coll__map" alt="Collaboration graph"/></div>
<map name="eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_coll__map" id="eZ_0CPublish_0CCore_0CFieldType_0CBinaryBase_0CBinaryBaseStorage_0CGateway_0CLegacyStorage_coll__map">
<area shape="rect" id="node2" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway" alt="" coords="5,101,229,165"/><area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1StorageGateway.html" title="eZ\\Publish\\Core\\FieldType\l\\StorageGateway" alt="" coords="27,6,208,53"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a288d4fa47797e6ab7e8e05859b486095"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a288d4fa47797e6ab7e8e05859b486095">setConnection</a> ($dbHandler)</td></tr>
<tr class="memitem:a4302e4496562b86b6a11c425b3478835"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a4302e4496562b86b6a11c425b3478835">storeFileReference</a> (<a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo, <a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1Field.html">Field</a> $field)</td></tr>
<tr class="memitem:a6bf2c8ca65c711657ba5ec0144e3374b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a6bf2c8ca65c711657ba5ec0144e3374b">removeMimeFromPath</a> ($path)</td></tr>
<tr class="memitem:a7c79bd410211dac370cb4210b2460404"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404">getFileReferenceData</a> ($fieldId, $versionNo)</td></tr>
<tr class="memitem:aa4453ac6c6f2a4b65e6aa0109564242e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aa4453ac6c6f2a4b65e6aa0109564242e">prependMimeToPath</a> ($path, $mimeType)</td></tr>
<tr class="memitem:a5687513099effef8c58fa8999f4a3105"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a5687513099effef8c58fa8999f4a3105">removeFileReferences</a> (array $fieldIds, $versionNo)</td></tr>
<tr class="memitem:a58d69d1e6e69322a2fbc6e915c2af259"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a58d69d1e6e69322a2fbc6e915c2af259">removeFileReference</a> ($fieldId, $versionNo)</td></tr>
<tr class="memitem:a8d0b39d409190f9c8bb49309fcc0e9aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a8d0b39d409190f9c8bb49309fcc0e9aa">getReferencedFiles</a> (array $fieldIds, $versionNo)</td></tr>
<tr class="memitem:aaa5d0ab82e12150dd562302f6a348b97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aaa5d0ab82e12150dd562302f6a348b97">countFileReferences</a> (array $files)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a10c80d66a072cc7104b51d4335c43e99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a10c80d66a072cc7104b51d4335c43e99">getStorageTable</a> ()</td></tr>
<tr class="memitem:a0e2bb4378e0a0af628ab2798f5cee0e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4">getPropertyMapping</a> ()</td></tr>
<tr class="memitem:aad01c068c894404c1002614427d84a54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aad01c068c894404c1002614427d84a54">setFetchColumns</a> (\ezcQuerySelect $selectQuery, $fieldId, $versionNo)</td></tr>
<tr class="memitem:a19a42f06adafb359691fc3accfcede85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a19a42f06adafb359691fc3accfcede85">setInsertColumns</a> (\ezcQueryInsert $insertQuery, <a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1VersionInfo.html">VersionInfo</a> $versionInfo, <a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1Field.html">Field</a> $field)</td></tr>
<tr class="memitem:a0f246710b849818bd2a1e8fbc67a8768"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a> ()</td></tr>
<tr class="memitem:a07e6bdafa46ef4a0309c462b34e54058"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a07e6bdafa46ef4a0309c462b34e54058">toPropertyName</a> ($columnName)</td></tr>
<tr class="memitem:adae83ffc751b11f2e3c960aec3de8cfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#adae83ffc751b11f2e3c960aec3de8cfb">castToPropertyValue</a> ($value, $columnName)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab7b37d48cccad8d8a0781c0aa6883834"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#ab7b37d48cccad8d8a0781c0aa6883834">$dbHandler</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00016">16</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="adae83ffc751b11f2e3c960aec3de8cfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::castToPropertyValue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$columnName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns $value casted as specified by <a class="el" href="">getPropertyMapping()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$columnName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00271">271</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00271">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\castToPropertyValue()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00037">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getPropertyMapping()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $propertyMap = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4">getPropertyMapping</a>();</div>
<div class="line">        $castFunction = $propertyMap[$columnName][<span class="stringliteral">&#39;cast&#39;</span>];</div>
<div class="line">        <span class="keywordflow">return</span> $castFunction( $value );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_cgraph">
<area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getPropertyMapping" alt="" coords="368,29,683,93"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_adae83ffc751b11f2e3c960aec3de8cfb_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="368,29,688,93"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa5d0ab82e12150dd562302f6a348b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::countFileReferences </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a map with the number of references each file from $files has</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#a72952235c14b7cf9fdbef003e703b975">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00405">405</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00405">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\countFileReferences()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00288">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\prependMimeToPath()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $selectQuery = $connection-&gt;createSelectQuery();</div>
<div class="line">        $selectQuery-&gt;select(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ),</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;mime_type&#39;</span> ),</div>
<div class="line">            $selectQuery-&gt;alias(</div>
<div class="line">                $selectQuery-&gt;expr-&gt;count( $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ) ),</div>
<div class="line">                <span class="stringliteral">&#39;count&#39;</span></div>
<div class="line">            )</div>
<div class="line">        )-&gt;from(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        )-&gt;where(</div>
<div class="line">            $selectQuery-&gt;expr-&gt;in(</div>
<div class="line">                $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ),</div>
<div class="line">                array_map(</div>
<div class="line">                    array( $this, <span class="stringliteral">&#39;removeMimeFromPath&#39;</span> ),</div>
<div class="line">                    $files</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        )-&gt;groupBy( $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ) );</div>
<div class="line"></div>
<div class="line">        $statement = $selectQuery-&gt;prepare();</div>
<div class="line">        $statement-&gt;execute();</div>
<div class="line"></div>
<div class="line">        $countMap = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $statement-&gt;fetchAll( \PDO::FETCH_ASSOC ) as $row )</div>
<div class="line">        {</div>
<div class="line">            $path = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aa4453ac6c6f2a4b65e6aa0109564242e">prependMimeToPath</a>( $row[<span class="stringliteral">&#39;filename&#39;</span>], $row[<span class="stringliteral">&#39;mime_type&#39;</span>] );</div>
<div class="line">            $countMap[$path] = (int)$row[<span class="stringliteral">&#39;count&#39;</span>];</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Complete counts</span></div>
<div class="line">        <span class="keywordflow">foreach</span> ( $files as $path )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// This is already the correct path</span></div>
<div class="line">            <span class="keywordflow">if</span> ( !isset( $countMap[$path] ) )</div>
<div class="line">            {</div>
<div class="line">                $countMap[$path] = 0;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $countMap;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_cgraph">
<area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="384,29,661,93"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aa4453ac6c6f2a4b65e6aa0109564242e" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\prependMimeToPath" alt="" coords="365,141,680,205"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aaa5d0ab82e12150dd562302f6a348b97_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0f246710b849818bd2a1e8fbc67a8768"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::getConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the active connection</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\RuntimeException</td><td>if no connection has been set, yet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">146</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;dbHandler === null )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> new \RuntimeException( <span class="stringliteral">&quot;Missing database connection.&quot;</span> );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;dbHandler;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0f246710b849818bd2a1e8fbc67a8768_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aad01c068c894404c1002614427d84a54" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\setFetchColumns" alt="" coords="349,29,643,93"/><area shape="rect" id="node6" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="707,77,1027,141"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a19a42f06adafb359691fc3accfcede85" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\setInsertColumns" alt="" coords="348,192,644,256"/><area shape="rect" id="node12" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a4302e4496562b86b6a11c425b3478835" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\storeFileReference" alt="" coords="716,215,1017,279"/><area shape="rect" id="node18" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a5687513099effef8c58fa8999f4a3105" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\removeFileReferences" alt="" coords="335,355,657,419"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a58d69d1e6e69322a2fbc6e915c2af259" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\removeFileReference" alt="" coords="337,467,655,531"/><area shape="rect" id="node24" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a8d0b39d409190f9c8bb49309fcc0e9aa" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getReferencedFiles" alt="" coords="344,579,648,643"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aaa5d0ab82e12150dd562302f6a348b97" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\countFileReferences" alt="" coords="341,691,651,755"/><area shape="rect" id="node30" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a0626f9245f036315b835c659592c50fd" title="eZ\\Publish\\Core\\FieldType\l\\BinaryFile\\BinaryFileStorage\l\\Gateway\\LegacyStorage\\setFetchColumns" alt="" coords="349,803,643,867"/><area shape="rect" id="node33" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a6d217e1577a7e277b46b07a9d93dc367" title="eZ\\Publish\\Core\\FieldType\l\\BinaryFile\\BinaryFileStorage\l\\Gateway\\LegacyStorage\\setInsertColumns" alt="" coords="348,915,644,979"/><area shape="rect" id="node36" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#a1f34071faeb661512a6886e6c8714214" title="eZ\\Publish\\Core\\FieldType\l\\Media\\MediaStorage\\Gateway\l\\LegacyStorage\\setFetchColumns" alt="" coords="379,1027,613,1091"/><area shape="rect" id="node39" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#a78a8625a80f5d9e62036db8630b2be7c" title="eZ\\Publish\\Core\\FieldType\l\\Media\\MediaStorage\\Gateway\l\\LegacyStorage\\setInsertColumns" alt="" coords="377,1139,615,1203"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c79bd410211dac370cb4210b2460404"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::getFileReferenceData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the file reference data for the given $fieldId in $versionNo</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$fieldId</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|void </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#afe6cfd9907f0bd6f2abea0123ba16b4f">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00202">202</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00271">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\castToPropertyValue()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00202">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getFileReferenceData()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00037">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getPropertyMapping()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00288">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\prependMimeToPath()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00068">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\setFetchColumns()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00257">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\toPropertyName()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $selectQuery = $connection-&gt;createSelectQuery();</div>
<div class="line"></div>
<div class="line">        $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aad01c068c894404c1002614427d84a54">setFetchColumns</a>( $selectQuery, $fieldId, $versionNo );</div>
<div class="line"></div>
<div class="line">        $selectQuery-&gt;from(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        )-&gt;where(</div>
<div class="line">            $selectQuery-&gt;expr-&gt;lAnd(</div>
<div class="line">                $selectQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ),</div>
<div class="line">                    $selectQuery-&gt;bindValue( $fieldId, null, \PDO::PARAM_INT )</div>
<div class="line">                ),</div>
<div class="line">                $selectQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;version&#39;</span> ),</div>
<div class="line">                    $selectQuery-&gt;bindValue( $versionNo, null, \PDO::PARAM_INT )</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $statement = $selectQuery-&gt;prepare();</div>
<div class="line">        $statement-&gt;execute();</div>
<div class="line"></div>
<div class="line">        $result = $statement-&gt;fetchAll( \PDO::FETCH_ASSOC );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( count( $result ) &lt; 1 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> null;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $propertyMap = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4">getPropertyMapping</a>();</div>
<div class="line"></div>
<div class="line">        $convertedResult = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( reset( $result ) as $column =&gt; $value )</div>
<div class="line">        {</div>
<div class="line">            $convertedResult[$this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a07e6bdafa46ef4a0309c462b34e54058">toPropertyName</a>( $column )] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#adae83ffc751b11f2e3c960aec3de8cfb">castToPropertyValue</a>( $value, $column );</div>
<div class="line">        }</div>
<div class="line">        $convertedResult[<span class="stringliteral">&#39;path&#39;</span>] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aa4453ac6c6f2a4b65e6aa0109564242e">prependMimeToPath</a>(</div>
<div class="line">            $convertedResult[<span class="stringliteral">&#39;path&#39;</span>],</div>
<div class="line">            $convertedResult[<span class="stringliteral">&#39;mimeType&#39;</span>]</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $convertedResult;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#adae83ffc751b11f2e3c960aec3de8cfb" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\castToPropertyValue" alt="" coords="373,29,688,93"/><area shape="rect" id="node6" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getPropertyMapping" alt="" coords="736,99,1051,163"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="755,451,1032,515"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aa4453ac6c6f2a4b65e6aa0109564242e" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\prependMimeToPath" alt="" coords="373,304,688,368"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aad01c068c894404c1002614427d84a54" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\setFetchColumns" alt="" coords="384,416,677,480"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a07e6bdafa46ef4a0309c462b34e54058" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\toPropertyName" alt="" coords="385,192,676,256"/></map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a7c79bd410211dac370cb4210b2460404_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e2bb4378e0a0af628ab2798f5cee0e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::getPropertyMapping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a column to property mapping for the storage table.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented in <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a80990e9ce33ee641519c84b3fe87597a">eZ\Publish\Core\FieldType\BinaryFile\BinaryFileStorage\Gateway\LegacyStorage</a>, and <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#acac32d333efc4c7aa1624bca0a90d706">eZ\Publish\Core\FieldType\Media\MediaStorage\Gateway\LegacyStorage</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00037">37</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00037">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getPropertyMapping()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> array(</div>
<div class="line">            <span class="stringliteral">&#39;filename&#39;</span> =&gt; array(</div>
<div class="line">                <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;path&#39;</span>,</div>
<div class="line">                <span class="stringliteral">&#39;cast&#39;</span> =&gt; <span class="stringliteral">&#39;strval&#39;</span>,</div>
<div class="line">            ),</div>
<div class="line">            <span class="stringliteral">&#39;mime_type&#39;</span> =&gt; array(</div>
<div class="line">                <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;mimeType&#39;</span>,</div>
<div class="line">                <span class="stringliteral">&#39;cast&#39;</span> =&gt; <span class="stringliteral">&#39;strval&#39;</span>,</div>
<div class="line">            ),</div>
<div class="line">            <span class="stringliteral">&#39;original_filename&#39;</span> =&gt; array(</div>
<div class="line">                <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;fileName&#39;</span>,</div>
<div class="line">                <span class="stringliteral">&#39;cast&#39;</span> =&gt; <span class="stringliteral">&#39;strval&#39;</span>,</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a0e2bb4378e0a0af628ab2798f5cee0e4_icgraph">
<area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="731,58,1051,122"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a07e6bdafa46ef4a0309c462b34e54058" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\toPropertyName" alt="" coords="380,58,671,122"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#adae83ffc751b11f2e3c960aec3de8cfb" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\castToPropertyValue" alt="" coords="368,170,683,234"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d0b39d409190f9c8bb49309fcc0e9aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::getReferencedFiles </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$fieldIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a set o file references, referenced by the given $fieldIds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$fieldIds</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#a4a4a0fe4d03483e8ac84c65bef2eb793">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00362">362</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00362">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getReferencedFiles()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $selectQuery = $connection-&gt;createSelectQuery();</div>
<div class="line">        $selectQuery-&gt;select(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ),</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;mime_type&#39;</span> )</div>
<div class="line">        )-&gt;from(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        )-&gt;where(</div>
<div class="line">            $selectQuery-&gt;expr-&gt;lAnd(</div>
<div class="line">                $selectQuery-&gt;expr-&gt;in(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ),</div>
<div class="line">                    $fieldIds</div>
<div class="line">                ),</div>
<div class="line">                $selectQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;version&#39;</span> ),</div>
<div class="line">                    $selectQuery-&gt;bindValue( $versionNo, null, \PDO::PARAM_INT )</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $statement = $selectQuery-&gt;prepare();</div>
<div class="line">        $statement-&gt;execute();</div>
<div class="line"></div>
<div class="line">        $gateway = $this;</div>
<div class="line">        <span class="keywordflow">return</span> array_map(</div>
<div class="line">            <span class="keyword">function</span> ( $row ) use ( $gateway )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> $gateway-&gt;prependMimeToPath( $row[<span class="stringliteral">&#39;filename&#39;</span>], $row[<span class="stringliteral">&#39;mime_type&#39;</span>] );</div>
<div class="line">            },</div>
<div class="line">            $statement-&gt;fetchAll( \PDO::FETCH_ASSOC )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="359,29,636,93"/></map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a8d0b39d409190f9c8bb49309fcc0e9aa_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10c80d66a072cc7104b51d4335c43e99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::getStorageTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the table name to store data in.</p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Reimplemented in <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a49362d54d89efa5b0956a5777196fa2c">eZ\Publish\Core\FieldType\BinaryFile\BinaryFileStorage\Gateway\LegacyStorage</a>, and <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#a533d874f708d4717a524c460efbf732e">eZ\Publish\Core\FieldType\Media\MediaStorage\Gateway\LegacyStorage</a>.</p>

</div>
</div>
<a class="anchor" id="aa4453ac6c6f2a4b65e6aa0109564242e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::prependMimeToPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimeType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepends $path with the first part of the given $mimeType.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimeType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00288">288</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00288">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\prependMimeToPath()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $res = substr( $mimeType, 0, strpos( $mimeType, <span class="charliteral">&#39;/&#39;</span> ) ) . <span class="charliteral">&#39;/&#39;</span> . $path;</div>
<div class="line">        <span class="keywordflow">return</span> $res;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aa4453ac6c6f2a4b65e6aa0109564242e_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="368,29,688,93"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#aaa5d0ab82e12150dd562302f6a348b97" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\countFileReferences" alt="" coords="373,141,683,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58d69d1e6e69322a2fbc6e915c2af259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::removeFileReference </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a specific file reference for $fieldId and $versionId</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$fieldId</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#a32a11f8a4d88ebef7b0bbe9bfdd93013">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00332">332</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00332">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\removeFileReference()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $deleteQuery = $connection-&gt;createDeleteQuery();</div>
<div class="line">        $deleteQuery-&gt;deleteFrom(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        )-&gt;where(</div>
<div class="line">            $deleteQuery-&gt;expr-&gt;lAnd(</div>
<div class="line">                $deleteQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ),</div>
<div class="line">                    $deleteQuery-&gt;bindValue( $fieldId, null, \PDO::PARAM_INT )</div>
<div class="line">                ),</div>
<div class="line">                $deleteQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;version&#39;</span> ),</div>
<div class="line">                    $deleteQuery-&gt;bindValue( $versionNo, null, \PDO::PARAM_INT )</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $deleteQuery-&gt;prepare()-&gt;execute();</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="372,29,649,93"/></map>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a58d69d1e6e69322a2fbc6e915c2af259_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5687513099effef8c58fa8999f4a3105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::removeFileReferences </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$fieldIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all file references for the given $fieldIds</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$fieldIds</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#adb1f83ba589b80e61b6da0d244838440">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00301">301</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00301">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\removeFileReferences()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $deleteQuery = $connection-&gt;createDeleteQuery();</div>
<div class="line">        $deleteQuery-&gt;deleteFrom(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        )-&gt;where(</div>
<div class="line">            $deleteQuery-&gt;expr-&gt;lAnd(</div>
<div class="line">                $deleteQuery-&gt;expr-&gt;in(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ),</div>
<div class="line">                    $fieldIds</div>
<div class="line">                ),</div>
<div class="line">                $deleteQuery-&gt;expr-&gt;eq(</div>
<div class="line">                    $connection-&gt;quoteColumn( <span class="stringliteral">&#39;version&#39;</span> ),</div>
<div class="line">                    $deleteQuery-&gt;bindValue( $versionNo, null, \PDO::PARAM_INT )</div>
<div class="line">                )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $deleteQuery-&gt;prepare()-&gt;execute();</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="380,29,657,93"/></map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a5687513099effef8c58fa8999f4a3105_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6bf2c8ca65c711657ba5ec0144e3374b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::removeMimeFromPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the prepended mime-type directory from $path for legacy storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00188">188</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00188">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\removeMimeFromPath()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $res = substr( $path, strpos( $path, <span class="charliteral">&#39;/&#39;</span> ) + 1 );</div>
<div class="line">        <span class="keywordflow">return</span> $res;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a6bf2c8ca65c711657ba5ec0144e3374b_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a19a42f06adafb359691fc3accfcede85" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\setInsertColumns" alt="" coords="385,29,681,93"/><area shape="rect" id="node6" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a4302e4496562b86b6a11c425b3478835" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\storeFileReference" alt="" coords="731,29,1032,93"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a288d4fa47797e6ab7e8e05859b486095"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::setConnection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set database handler for this gateway</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$dbHandler</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\RuntimeException</td><td>if $dbHandler is not an instance of eZ\Publish\Core\Persistence\Legacy\EzcDbHandler</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1StorageGateway.html#ada77bea818d262b1508af8220015e996">eZ\Publish\Core\FieldType\StorageGateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00125">125</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00023">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\$dbHandler</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00125">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\setConnection()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="comment">// This obviously violates the Liskov substitution Principle, but with</span></div>
<div class="line">        <span class="comment">// the given class design there is no sane other option. Actually the</span></div>
<div class="line">        <span class="comment">// dbHandler *should* be passed to the constructor, and there should</span></div>
<div class="line">        <span class="comment">// not be the need to post-inject it.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !$dbHandler instanceof \eZ\Publish\Core\Persistence\Legacy\EzcDbHandler )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> new \RuntimeException( <span class="stringliteral">&quot;Invalid dbHandler passed&quot;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;dbHandler = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#ab7b37d48cccad8d8a0781c0aa6883834">$dbHandler</a>;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a288d4fa47797e6ab7e8e05859b486095_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad01c068c894404c1002614427d84a54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::setFetchColumns </td>
          <td>(</td>
          <td class="paramtype">\ezcQuerySelect&#160;</td>
          <td class="paramname"><em>$selectQuery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$versionNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set columns to be fetched from the database</p>
<p>This method is intended to be overwritten by derived classes in order to add additional columns to be fetched from the database. Please do not forget to call the parent when overwriting this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\ezcQuerySelect</td><td class="paramname">$selectQuery</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$fieldId</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$versionNo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented in <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#a1f34071faeb661512a6886e6c8714214">eZ\Publish\Core\FieldType\Media\MediaStorage\Gateway\LegacyStorage</a>, and <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a0626f9245f036315b835c659592c50fd">eZ\Publish\Core\FieldType\BinaryFile\BinaryFileStorage\Gateway\LegacyStorage</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00068">68</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00068">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\setFetchColumns()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $selectQuery-&gt;select(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ),</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;mime_type&#39;</span> ),</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;original_filename&#39;</span> )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="351,29,628,93"/></map>
</div>
</p>

<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_aad01c068c894404c1002614427d84a54_icgraph">
<area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="349,29,669,93"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19a42f06adafb359691fc3accfcede85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::setInsertColumns </td>
          <td>(</td>
          <td class="paramtype">\ezcQueryInsert&#160;</td>
          <td class="paramname"><em>$insertQuery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1VersionInfo.html">VersionInfo</a>&#160;</td>
          <td class="paramname"><em>$versionInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1Field.html">Field</a>&#160;</td>
          <td class="paramname"><em>$field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the required insert columns to $selectQuery.</p>
<p>This method is intended to be overwritten by derived classes in order to add additional columns to be set in the database. Please do not forget to call the parent when overwriting this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\ezcQueryInsert</td><td class="paramname">$insertQuery</td><td></td></tr>
    <tr><td class="paramtype">VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
    <tr><td class="paramtype">Field</td><td class="paramname">$field</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented in <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1Media_1_1MediaStorage_1_1Gateway_1_1LegacyStorage.html#a78a8625a80f5d9e62036db8630b2be7c">eZ\Publish\Core\FieldType\Media\MediaStorage\Gateway\LegacyStorage</a>, and <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryFile_1_1BinaryFileStorage_1_1Gateway_1_1LegacyStorage.html#a6d217e1577a7e277b46b07a9d93dc367">eZ\Publish\Core\FieldType\BinaryFile\BinaryFileStorage\Gateway\LegacyStorage</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00092">92</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00188">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\removeMimeFromPath()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00092">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\setInsertColumns()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $insertQuery-&gt;set(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;contentobject_attribute_id&#39;</span> ),</div>
<div class="line">            $insertQuery-&gt;bindValue( $field-&gt;id, null, \PDO::PARAM_INT )</div>
<div class="line">        )-&gt;<span class="keyword">set</span>(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;filename&#39;</span> ),</div>
<div class="line">            $insertQuery-&gt;bindValue(</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a6bf2c8ca65c711657ba5ec0144e3374b">removeMimeFromPath</a>( $field-&gt;value-&gt;externalData[<span class="stringliteral">&#39;path&#39;</span>] )</div>
<div class="line">            )</div>
<div class="line">        )-&gt;<span class="keyword">set</span>(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;mime_type&#39;</span> ),</div>
<div class="line">            $insertQuery-&gt;bindValue( $field-&gt;value-&gt;externalData[<span class="stringliteral">&#39;mimeType&#39;</span>] )</div>
<div class="line">        )-&gt;<span class="keyword">set</span>(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;original_filename&#39;</span> ),</div>
<div class="line">            $insertQuery-&gt;bindValue( $field-&gt;value-&gt;externalData[<span class="stringliteral">&#39;fileName&#39;</span>] )</div>
<div class="line">        )-&gt;<span class="keyword">set</span>(</div>
<div class="line">            $connection-&gt;quoteColumn( <span class="stringliteral">&#39;version&#39;</span> ),</div>
<div class="line">            $insertQuery-&gt;bindValue( $versionInfo-&gt;versionNo, null, \PDO::PARAM_INT )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="379,29,656,93"/><area shape="rect" id="node6" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a6bf2c8ca65c711657ba5ec0144e3374b" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\removeMimeFromPath" alt="" coords="353,141,681,205"/></map>
</div>
</p>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a19a42f06adafb359691fc3accfcede85_icgraph">
<area shape="rect" id="node4" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a4302e4496562b86b6a11c425b3478835" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\storeFileReference" alt="" coords="352,29,653,93"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4302e4496562b86b6a11c425b3478835"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::storeFileReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1VersionInfo.html">VersionInfo</a>&#160;</td>
          <td class="paramname"><em>$versionInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1SPI_1_1Persistence_1_1Content_1_1Field.html">Field</a>&#160;</td>
          <td class="paramname"><em>$field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the file reference in $field for $versionNo</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">VersionInfo</td><td class="paramname">$versionInfo</td><td></td></tr>
    <tr><td class="paramtype">Field</td><td class="paramname">$field</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Reimplemented from <a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html#a04166100d4e84cfaf7eb3672fed85104">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway</a>.</p>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00163">163</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00146">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getConnection()</a>, <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00092">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\setInsertColumns()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00163">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\storeFileReference()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $connection = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768">getConnection</a>();</div>
<div class="line"></div>
<div class="line">        $insertQuery = $connection-&gt;createInsertQuery();</div>
<div class="line">        $insertQuery-&gt;insertInto(</div>
<div class="line">            $connection-&gt;quoteTable( $this-&gt;getStorageTable() )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a19a42f06adafb359691fc3accfcede85">setInsertColumns</a>( $insertQuery, $versionInfo, $field );</div>
<div class="line"></div>
<div class="line">        $insertQuery-&gt;prepare()-&gt;execute();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0f246710b849818bd2a1e8fbc67a8768" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getConnection" alt="" coords="728,29,1005,93"/><area shape="rect" id="node6" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a19a42f06adafb359691fc3accfcede85" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\setInsertColumns" alt="" coords="356,123,652,187"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a6bf2c8ca65c711657ba5ec0144e3374b" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\removeMimeFromPath" alt="" coords="703,141,1031,205"/></map>
</div>
</p>

<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a4302e4496562b86b6a11c425b3478835_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07e6bdafa46ef4a0309c462b34e54058"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::toPropertyName </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$columnName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the property name for the given $columnName</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$columnName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00257">257</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

<p>References <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00037">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\getPropertyMapping()</a>, and <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00257">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage\toPropertyName()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $propertyMap = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4">getPropertyMapping</a>();</div>
<div class="line">        <span class="keywordflow">return</span> ( $propertyMap[$columnName][<span class="stringliteral">&#39;name&#39;</span>] );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_cgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a0e2bb4378e0a0af628ab2798f5cee0e4" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getPropertyMapping" alt="" coords="344,29,659,93"/></map>
</div>
</p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_icgraph" id="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage_a07e6bdafa46ef4a0309c462b34e54058_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html#a7c79bd410211dac370cb4210b2460404" title="eZ\\Publish\\Core\\FieldType\l\\BinaryBase\\BinaryBaseStorage\l\\Gateway\\LegacyStorage\\getFileReferenceData" alt="" coords="344,29,664,93"/></map>
</div>
</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ab7b37d48cccad8d8a0781c0aa6883834"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\FieldType\BinaryBase\BinaryBaseStorage\Gateway\LegacyStorage::$dbHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html#l00023">23</a> of file <a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/PAPI-doxygen-master/workspace/eZ/Publish/Core/FieldType/BinaryBase/BinaryBaseStorage/Gateway/<a class="el" href="BinaryBase_2BinaryBaseStorage_2Gateway_2LegacyStorage_8php_source.html">LegacyStorage.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeZ.html">eZ</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish.html">Publish</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core.html">Core</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1FieldType.html">FieldType</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase.html">BinaryBase</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage.html">BinaryBaseStorage</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway.html">Gateway</a></li><li class="navelem"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1FieldType_1_1BinaryBase_1_1BinaryBaseStorage_1_1Gateway_1_1LegacyStorage.html">LegacyStorage</a></li>
    <li class="footer">Generated on Sat Jan 5 2013 00:03:22 for ezp-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
