<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ezp-next: eZ\Publish\Core\Repository\ContentTypeService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ezp-next
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eZ\Publish\Core\Repository\ContentTypeService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for eZ\Publish\Core\Repository\ContentTypeService:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService__inherit__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_inherit__map" alt="Inheritance graph"/></div>
<map name="eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_inherit__map" id="eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_inherit__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html" title="eZ\\Publish\\API\\Repository\l\\ContentTypeService" alt="" coords="11,6,192,53"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for eZ\Publish\Core\Repository\ContentTypeService:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService__coll__graph.png" border="0" usemap="#eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_coll__map" alt="Collaboration graph"/></div>
<map name="eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_coll__map" id="eZ_0CPublish_0CCore_0CRepository_0CContentTypeService_coll__map">
<area shape="rect" id="node2" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html" title="eZ\\Publish\\API\\Repository\l\\ContentTypeService" alt="" coords="11,6,192,53"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a529337cdaa31ac85b63009482474ec13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a529337cdaa31ac85b63009482474ec13">__construct</a> (RepositoryInterface $repository, <a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html">Handler</a> $contentTypeHandler, array $settings=array())</td></tr>
<tr class="memitem:a367eba3051791789ae6ae6b123b0b03e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a367eba3051791789ae6ae6b123b0b03e">createContentTypeGroup</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroupCreateStruct.html">ContentTypeGroupCreateStruct</a> $contentTypeGroupCreateStruct)</td></tr>
<tr class="memitem:a6db6088fbfa116da53ce83b51b6b1312"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312">loadContentTypeGroup</a> ($contentTypeGroupId)</td></tr>
<tr class="memitem:a0c1fc606d561311e2b2bdf476f0b74f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0">loadContentTypeGroupByIdentifier</a> ($contentTypeGroupIdentifier)</td></tr>
<tr class="memitem:a914a468aac3f186d8f4c41509446d065"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065">loadContentTypeGroups</a> ()</td></tr>
<tr class="memitem:a1c68e97103d511a87a10eea1e75620e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5">updateContentTypeGroup</a> (APIContentTypeGroup $contentTypeGroup, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroupUpdateStruct.html">ContentTypeGroupUpdateStruct</a> $contentTypeGroupUpdateStruct)</td></tr>
<tr class="memitem:a97a6269eb5e7e07f8d29a55fbdb2c170"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a97a6269eb5e7e07f8d29a55fbdb2c170">deleteContentTypeGroup</a> (APIContentTypeGroup $contentTypeGroup)</td></tr>
<tr class="memitem:ac9cccd2041a1d5083fa12b994d016dc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8">createContentType</a> (APIContentTypeCreateStruct $contentTypeCreateStruct, array $contentTypeGroups)</td></tr>
<tr class="memitem:a323027bf3e50b115aedd7c6d6ad2787e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e">loadContentType</a> ($contentTypeId)</td></tr>
<tr class="memitem:acde6ea4dab6b020a1e6560a4d96a12f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5">loadContentTypeByIdentifier</a> ($identifier)</td></tr>
<tr class="memitem:a76ce53078594064c34d22429699a93e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0">loadContentTypeByRemoteId</a> ($remoteId)</td></tr>
<tr class="memitem:a5a3cb7d8f12d398bb87d17406388eb55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a> ($contentTypeId)</td></tr>
<tr class="memitem:aa334c9aaacbfd56000d3005f23fbb2d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa334c9aaacbfd56000d3005f23fbb2d7">loadContentTypes</a> (APIContentTypeGroup $contentTypeGroup)</td></tr>
<tr class="memitem:a8920d2331e9cd65ff52721cfaaca1819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819">createContentTypeDraft</a> (APIContentType $contentType)</td></tr>
<tr class="memitem:a632d9c8443207d4a1a828cd49a699402"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402">updateContentTypeDraft</a> (APIContentTypeDraft $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeUpdateStruct.html">ContentTypeUpdateStruct</a> $contentTypeUpdateStruct)</td></tr>
<tr class="memitem:a6776c3ef92e64d8a0f11f4a932db07e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6776c3ef92e64d8a0f11f4a932db07e0">deleteContentType</a> (APIContentType $contentType)</td></tr>
<tr class="memitem:af5fa10dc391b3f451e9cd09181ff2d9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e">copyContentType</a> (APIContentType $contentType, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:a818861e3a1a324b39d5ce910607b356f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a818861e3a1a324b39d5ce910607b356f">assignContentTypeGroup</a> (APIContentType $contentType, APIContentTypeGroup $contentTypeGroup)</td></tr>
<tr class="memitem:ad9abb48d70abbc455212884de270d899"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ad9abb48d70abbc455212884de270d899">unassignContentTypeGroup</a> (APIContentType $contentType, APIContentTypeGroup $contentTypeGroup)</td></tr>
<tr class="memitem:a9ca493cd636ca277efc1bd291c422b28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28">addFieldDefinition</a> (APIContentTypeDraft $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionCreateStruct.html">FieldDefinitionCreateStruct</a> $fieldDefinitionCreateStruct)</td></tr>
<tr class="memitem:ab027a2384135f19e6e1f86838c58757d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d">removeFieldDefinition</a> (APIContentTypeDraft $contentTypeDraft, APIFieldDefinition $fieldDefinition)</td></tr>
<tr class="memitem:aab3410538240e5e0b5e848f3d2406253"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253">updateFieldDefinition</a> (APIContentTypeDraft $contentTypeDraft, APIFieldDefinition $fieldDefinition, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionUpdateStruct.html">FieldDefinitionUpdateStruct</a> $fieldDefinitionUpdateStruct)</td></tr>
<tr class="memitem:afb2c408dbd88c26d3129f00a7d6caf55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55">publishContentTypeDraft</a> (APIContentTypeDraft $contentTypeDraft)</td></tr>
<tr class="memitem:a0a5677db3b1ee6461020b3ea4675a3e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0a5677db3b1ee6461020b3ea4675a3e5">newContentTypeGroupCreateStruct</a> ($identifier)</td></tr>
<tr class="memitem:af7c9233cb9ec4764982a9d6487951b8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af7c9233cb9ec4764982a9d6487951b8d">newContentTypeCreateStruct</a> ($identifier)</td></tr>
<tr class="memitem:a26f15dbc48e62561a2d48631de5707df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a26f15dbc48e62561a2d48631de5707df">newContentTypeUpdateStruct</a> ()</td></tr>
<tr class="memitem:a0c975bf2e231502457113c270306b45f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c975bf2e231502457113c270306b45f">newContentTypeGroupUpdateStruct</a> ()</td></tr>
<tr class="memitem:a0c3acbeac55f1f461f916d77b04f6af3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c3acbeac55f1f461f916d77b04f6af3">newFieldDefinitionCreateStruct</a> ($identifier, $fieldTypeIdentifier)</td></tr>
<tr class="memitem:ae98d57d4cc957298b4f11703303dc6fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ae98d57d4cc957298b4f11703303dc6fa">newFieldDefinitionUpdateStruct</a> ()</td></tr>
<tr class="inherit_header pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html">eZ\Publish\API\Repository\ContentTypeService</a></td></tr>
<tr class="memitem:ab464c920c9da6897a18c0e73c5553e70 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ab464c920c9da6897a18c0e73c5553e70">updateContentTypeGroup</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroup.html">ContentTypeGroup</a> $contentTypeGroup, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroupUpdateStruct.html">ContentTypeGroupUpdateStruct</a> $contentTypeGroupUpdateStruct)</td></tr>
<tr class="memitem:a3ded488030c165bb4b17e11e84cf5ad2 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a3ded488030c165bb4b17e11e84cf5ad2">deleteContentTypeGroup</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroup.html">ContentTypeGroup</a> $contentTypeGroup)</td></tr>
<tr class="memitem:af891ef06fb794d3ea1528c93d57d1ea1 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#af891ef06fb794d3ea1528c93d57d1ea1">createContentType</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeCreateStruct.html">ContentTypeCreateStruct</a> $contentTypeCreateStruct, array $contentTypeGroups)</td></tr>
<tr class="memitem:a98bd513ee8f7a477b5274bd82bfd38b2 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a98bd513ee8f7a477b5274bd82bfd38b2">loadContentTypes</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroup.html">ContentTypeGroup</a> $contentTypeGroup)</td></tr>
<tr class="memitem:ab68823ce6944508c1b2f607a0e90f41e inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ab68823ce6944508c1b2f607a0e90f41e">createContentTypeDraft</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType)</td></tr>
<tr class="memitem:ae2e40145dea05a21663770e257b687d8 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ae2e40145dea05a21663770e257b687d8">updateContentTypeDraft</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeDraft.html">ContentTypeDraft</a> $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeUpdateStruct.html">ContentTypeUpdateStruct</a> $contentTypeUpdateStruct)</td></tr>
<tr class="memitem:a19f03e938204112fa8a37cd89a1cc943 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a19f03e938204112fa8a37cd89a1cc943">deleteContentType</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType)</td></tr>
<tr class="memitem:ad6b30bdc81af9a67124f3512bf40ff20 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ad6b30bdc81af9a67124f3512bf40ff20">copyContentType</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a> $user=null)</td></tr>
<tr class="memitem:ac49ba16e8dbd9479cf2760417e3f32ef inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ac49ba16e8dbd9479cf2760417e3f32ef">assignContentTypeGroup</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroup.html">ContentTypeGroup</a> $contentTypeGroup)</td></tr>
<tr class="memitem:abd39508e54b55a602d885f1dcf160937 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#abd39508e54b55a602d885f1dcf160937">unassignContentTypeGroup</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentType.html">ContentType</a> $contentType, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroup.html">ContentTypeGroup</a> $contentTypeGroup)</td></tr>
<tr class="memitem:ab493b0fb21cc628a18a2e06466a73ae5 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ab493b0fb21cc628a18a2e06466a73ae5">addFieldDefinition</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeDraft.html">ContentTypeDraft</a> $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionCreateStruct.html">FieldDefinitionCreateStruct</a> $fieldDefinitionCreateStruct)</td></tr>
<tr class="memitem:a5220799c5a54ccf57f672cb7500423d1 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a5220799c5a54ccf57f672cb7500423d1">removeFieldDefinition</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeDraft.html">ContentTypeDraft</a> $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinition.html">FieldDefinition</a> $fieldDefinition)</td></tr>
<tr class="memitem:a80aeea1d88129f67485673519995e4e3 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a80aeea1d88129f67485673519995e4e3">updateFieldDefinition</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeDraft.html">ContentTypeDraft</a> $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinition.html">FieldDefinition</a> $fieldDefinition, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionUpdateStruct.html">FieldDefinitionUpdateStruct</a> $fieldDefinitionUpdateStruct)</td></tr>
<tr class="memitem:a3c68bf24ae9c9268812dfd2f3cb4edb0 inherit pub_methods_interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a3c68bf24ae9c9268812dfd2f3cb4edb0">publishContentTypeDraft</a> (<a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeDraft.html">ContentTypeDraft</a> $contentTypeDraft)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a753f6df6b46e4be7afb29bbb0da2c61b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b">buildContentTypeGroupDomainObject</a> (SPIContentTypeGroup $spiGroup)</td></tr>
<tr class="memitem:ac045227758b9b0ee321a366a3250d8cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd">getDateTime</a> ($timestamp)</td></tr>
<tr class="memitem:a00358e791edffa3728bbf69391702592"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a> (SPIContentType $spiContentType)</td></tr>
<tr class="memitem:a1542fd3b4bc399bb3bb31a47978cbae6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6">buildContentTypeDraftDomainObject</a> (SPIContentType $spiContentType)</td></tr>
<tr class="memitem:aa1a2f14b8d82f9447fc934e58e2c2feb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa1a2f14b8d82f9447fc934e58e2c2feb">buildSPIContentTypeUpdateStruct</a> (APIContentTypeDraft $contentTypeDraft, <a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeUpdateStruct.html">ContentTypeUpdateStruct</a> $contentTypeUpdateStruct)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aedc78bcfc7d10d6b1ef01c794068fff9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aedc78bcfc7d10d6b1ef01c794068fff9">$repository</a></td></tr>
<tr class="memitem:a4fd2dada252179954741e62148a5c0da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a4fd2dada252179954741e62148a5c0da">$contentTypeHandler</a></td></tr>
<tr class="memitem:a4ea474d1412f249e0ca7e55870ee940c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a4ea474d1412f249e0ca7e55870ee940c">$settings</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00055">55</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a529337cdaa31ac85b63009482474ec13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::__construct </td>
          <td>(</td>
          <td class="paramtype">RepositoryInterface&#160;</td>
          <td class="paramname"><em>$repository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceeZ_1_1Publish_1_1SPI_1_1IO_1_1Handler.html">Handler</a>&#160;</td>
          <td class="paramname"><em>$contentTypeHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$settings</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setups service with reference to repository object that created it &amp; corresponding handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Repository</td><td class="paramname">$repository</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\Type\Handler</td><td class="paramname">$contentTypeHandler</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$settings</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00079">79</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00065">eZ\Publish\Core\Repository\ContentTypeService\$contentTypeHandler</a>, <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00060">eZ\Publish\Core\Repository\ContentTypeService\$repository</a>, and <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00070">eZ\Publish\Core\Repository\ContentTypeService\$settings</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $this-&gt;repository = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aedc78bcfc7d10d6b1ef01c794068fff9">$repository</a>;</div>
<div class="line">        $this-&gt;contentTypeHandler = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a4fd2dada252179954741e62148a5c0da">$contentTypeHandler</a>;</div>
<div class="line">        <span class="comment">// Union makes sure default settings are ignored if provided in argument</span></div>
<div class="line">        $this-&gt;settings = <a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a4ea474d1412f249e0ca7e55870ee940c">$settings</a> + array(</div>
<div class="line">            <span class="comment">//&#39;defaultSetting&#39; =&gt; array(),</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a9ca493cd636ca277efc1bd291c422b28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::addFieldDefinition </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionCreateStruct.html">FieldDefinitionCreateStruct</a>&#160;</td>
          <td class="paramname"><em>$fieldDefinitionCreateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a new field definition to an existing content type.</p>
<p>The content type must be in state DRAFT.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>if the identifier in already exists in the content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to edit a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\FieldDefinitionCreateStruct</td><td class="paramname">$fieldDefinitionCreateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01305">1305</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeDraft()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $loadedContentTypeDraft = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a>( $contentTypeDraft-&gt;id );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $loadedContentTypeDraft-&gt;getFieldDefinition( $fieldDefinitionCreateStruct-&gt;identifier ) !== null )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$fieldDefinitionCreateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Another FieldDefinition with identifier &#39;{$fieldDefinitionCreateStruct-&gt;identifier}&#39; exists in the ContentType&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiFieldDefinitionCreateStruct = $this-&gt;buildSPIFieldDefinitionCreate(</div>
<div class="line">            $fieldDefinitionCreateStruct</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;addFieldDefinition(</div>
<div class="line">                $contentTypeDraft-&gt;id,</div>
<div class="line">                $contentTypeDraft-&gt;status,</div>
<div class="line">                $spiFieldDefinitionCreateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a9ca493cd636ca277efc1bd291c422b28_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a9ca493cd636ca277efc1bd291c422b28_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a9ca493cd636ca277efc1bd291c422b28_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a9ca493cd636ca277efc1bd291c422b28_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="323,40,557,104"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="605,40,843,104"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="891,40,1128,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="1176,5,1411,69"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1745,49,1983,95"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1459,5,1696,69"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a818861e3a1a324b39d5ce910607b356f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::assignContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype">APIContentType&#160;</td>
          <td class="paramname"><em>$contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$contentTypeGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns a content type to a content type group.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to unlink a content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the content type is already assigned the given group</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup</td><td class="paramname">$contentTypeGroup</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01205">1205</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;load(</div>
<div class="line">            $contentType-&gt;id,</div>
<div class="line">            $contentType-&gt;status</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( in_array( $contentTypeGroup-&gt;id, $spiContentType-&gt;groupIds ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeGroup&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The given ContentType is already assigned to the ContentTypeGroup&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;link(</div>
<div class="line">                $contentTypeGroup-&gt;id,</div>
<div class="line">                $contentType-&gt;id,</div>
<div class="line">                $contentType-&gt;status</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00358e791edffa3728bbf69391702592"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::buildContentTypeDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIContentType&#160;</td>
          <td class="paramname"><em>$spiContentType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds a ContentType domain object from value object returned by persistence</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\Type</td><td class="paramname">$spiContentType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">702</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00368">eZ\Publish\Core\Repository\ContentTypeService\getDateTime()</a>, and <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00172">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroup()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $mainLanguageCode = $this-&gt;repository-&gt;getContentLanguageService()-&gt;loadLanguageById(</div>
<div class="line">            $spiContentType-&gt;initialLanguageId</div>
<div class="line">        )-&gt;languageCode;</div>
<div class="line"></div>
<div class="line">        $contentTypeGroups = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiContentType-&gt;groupIds as $groupId )</div>
<div class="line">        {</div>
<div class="line">            $contentTypeGroups[] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312">loadContentTypeGroup</a>( $groupId );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $fieldDefinitions = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiContentType-&gt;fieldDefinitions as $spiFieldDefinition )</div>
<div class="line">        {</div>
<div class="line">            $fieldDefinitions[] = $this-&gt;buildFieldDefinitionDomainObject( $spiFieldDefinition );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentType(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;names&quot;</span> =&gt; $spiContentType-&gt;name,</div>
<div class="line">                <span class="stringliteral">&quot;descriptions&quot;</span> =&gt; $spiContentType-&gt;description,</div>
<div class="line">                <span class="stringliteral">&quot;contentTypeGroups&quot;</span> =&gt; $contentTypeGroups,</div>
<div class="line">                <span class="stringliteral">&quot;fieldDefinitions&quot;</span> =&gt; $fieldDefinitions,</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiContentType-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;status&quot;</span> =&gt; $spiContentType-&gt;status,</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $spiContentType-&gt;identifier,</div>
<div class="line">                <span class="stringliteral">&quot;creationDate&quot;</span> =&gt; $this-&gt;getDateTime( $spiContentType-&gt;created ),</div>
<div class="line">                <span class="stringliteral">&quot;modificationDate&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd">getDateTime</a>( $spiContentType-&gt;modified ),</div>
<div class="line">                <span class="stringliteral">&quot;creatorId&quot;</span> =&gt; $spiContentType-&gt;creatorId,</div>
<div class="line">                <span class="stringliteral">&quot;modifierId&quot;</span> =&gt; $spiContentType-&gt;modifierId,</div>
<div class="line">                <span class="stringliteral">&quot;remoteId&quot;</span> =&gt; $spiContentType-&gt;remoteId,</div>
<div class="line">                <span class="stringliteral">&quot;urlAliasSchema&quot;</span> =&gt; $spiContentType-&gt;urlAliasSchema,</div>
<div class="line">                <span class="stringliteral">&quot;nameSchema&quot;</span> =&gt; $spiContentType-&gt;nameSchema,</div>
<div class="line">                <span class="stringliteral">&quot;isContainer&quot;</span> =&gt; $spiContentType-&gt;isContainer,</div>
<div class="line">                <span class="stringliteral">&quot;mainLanguageCode&quot;</span> =&gt; $mainLanguageCode,</div>
<div class="line">                <span class="stringliteral">&quot;defaultAlwaysAvailable&quot;</span> =&gt; $spiContentType-&gt;defaultAlwaysAvailable,</div>
<div class="line">                <span class="stringliteral">&quot;defaultSortField&quot;</span> =&gt; $spiContentType-&gt;sortField,</div>
<div class="line">                <span class="stringliteral">&quot;defaultSortOrder&quot;</span> =&gt; $spiContentType-&gt;sortOrder</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="860,14,1097,61"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="291,40,525,104"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="573,40,811,104"/></map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a00358e791edffa3728bbf69391702592_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="307,172,544,236"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentType" alt="" coords="295,303,556,350"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByIdentifier" alt="" coords="629,373,864,437"/><area shape="rect" id="node28" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByRemoteId" alt="" coords="308,433,543,497"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa334c9aaacbfd56000d3005f23fbb2d7" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentTypes" alt="" coords="291,521,560,567"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContentType" alt="" coords="609,58,884,105"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="629,128,864,192"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeDraft" alt="" coords="623,216,871,280"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="943,373,1193,437"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="935,5,1201,51"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="952,75,1184,139"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="953,163,1183,227"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="943,251,1193,315"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\copyContentType" alt="" coords="615,303,879,350"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1542fd3b4bc399bb3bb31a47978cbae6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::buildContentTypeDraftDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIContentType&#160;</td>
          <td class="paramname"><em>$spiContentType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds a ContentTypeDraft domain object from value object returned by persistence Decorates ContentType</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\Type</td><td class="paramname">$spiContentType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00786">786</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeDraft(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;innerContentType&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a>( $spiContentType )</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="291,5,528,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1145,14,1383,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="576,40,811,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="859,40,1096,104"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1542fd3b4bc399bb3bb31a47978cbae6_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContentType" alt="" coords="292,93,567,139"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="312,163,547,227"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeDraft" alt="" coords="305,251,553,315"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="625,5,876,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="617,93,884,139"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="635,163,867,227"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="636,251,865,315"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="625,339,876,403"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a753f6df6b46e4be7afb29bbb0da2c61b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::buildContentTypeGroupDomainObject </td>
          <td>(</td>
          <td class="paramtype">SPIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$spiGroup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds a ContentTypeGroup domain object from value object returned by persistence</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\SPI\Persistence\Content\Type\Group</td><td class="paramname">$spiGroup</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00347">347</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00368">eZ\Publish\Core\Repository\ContentTypeService\getDateTime()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeGroup(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $spiGroup-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $spiGroup-&gt;identifier,</div>
<div class="line">                <span class="stringliteral">&quot;creationDate&quot;</span> =&gt; $this-&gt;getDateTime( $spiGroup-&gt;created ),</div>
<div class="line">                <span class="stringliteral">&quot;modificationDate&quot;</span> =&gt; $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd">getDateTime</a>( $spiGroup-&gt;modified ),</div>
<div class="line">                <span class="stringliteral">&quot;creatorId&quot;</span> =&gt; $spiGroup-&gt;creatorId,</div>
<div class="line">                <span class="stringliteral">&quot;modifierId&quot;</span> =&gt; $spiGroup-&gt;modifierId,</div>
<div class="line">                <span class="stringliteral">&quot;names&quot;</span> =&gt; $spiGroup-&gt;name,</div>
<div class="line">                <span class="stringliteral">&quot;descriptions&quot;</span> =&gt; $spiGroup-&gt;description</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="292,14,529,61"/></map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a753f6df6b46e4be7afb29bbb0da2c61b_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a367eba3051791789ae6ae6b123b0b03e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeGroup" alt="" coords="880,75,1128,139"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="291,257,525,321"/><area shape="rect" id="node43" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroups" alt="" coords="291,144,525,208"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeGroup" alt="" coords="879,163,1129,227"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a97a6269eb5e7e07f8d29a55fbdb2c170" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\deleteContent\lTypeGroup" alt="" coords="575,283,820,347"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="579,380,816,444"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="885,251,1123,315"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentType" alt="" coords="873,458,1135,505"/><area shape="rect" id="node35" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByIdentifier" alt="" coords="1208,339,1443,403"/><area shape="rect" id="node38" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByRemoteId" alt="" coords="1208,427,1443,491"/><area shape="rect" id="node41" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa334c9aaacbfd56000d3005f23fbb2d7" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentTypes" alt="" coords="869,527,1139,574"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContentType" alt="" coords="1188,93,1463,139"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="1208,163,1443,227"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeDraft" alt="" coords="1201,251,1449,315"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="1521,339,1772,403"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="1513,5,1780,51"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="1531,75,1763,139"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="1532,163,1761,227"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="1521,251,1772,315"/><area shape="rect" id="node33" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\copyContentType" alt="" coords="1193,514,1457,561"/><area shape="rect" id="node45" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroupByIdentifier" alt="" coords="580,144,815,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1a2f14b8d82f9447fc934e58e2c2feb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::buildSPIContentTypeUpdateStruct </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeUpdateStruct.html">ContentTypeUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$contentTypeUpdateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds ContentType update struct for storage layer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeUpdateStruct</td><td class="paramname">$contentTypeUpdateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01069">1069</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $updateStruct = <span class="keyword">new</span> SPIContentTypeUpdateStruct();</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;identifier = $contentTypeUpdateStruct-&gt;identifier !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;identifier :</div>
<div class="line">            $contentTypeDraft-&gt;identifier;</div>
<div class="line">        $updateStruct-&gt;remoteId = $contentTypeUpdateStruct-&gt;remoteId !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;remoteId :</div>
<div class="line">            $contentTypeDraft-&gt;remoteId;</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;name = $contentTypeUpdateStruct-&gt;names !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;names :</div>
<div class="line">            $contentTypeDraft-&gt;names;</div>
<div class="line">        $updateStruct-&gt;description = $contentTypeUpdateStruct-&gt;descriptions !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;descriptions :</div>
<div class="line">            $contentTypeDraft-&gt;descriptions;</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;modified = $contentTypeUpdateStruct-&gt;modificationDate !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;modificationDate-&gt;getTimestamp() :</div>
<div class="line">            time();</div>
<div class="line">        $updateStruct-&gt;modifierId = $contentTypeUpdateStruct-&gt;modifierId !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;modifierId :</div>
<div class="line">            $this-&gt;repository-&gt;getCurrentUser()-&gt;id;</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;urlAliasSchema = $contentTypeUpdateStruct-&gt;urlAliasSchema !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;urlAliasSchema :</div>
<div class="line">            $contentTypeDraft-&gt;urlAliasSchema;</div>
<div class="line">        $updateStruct-&gt;nameSchema = $contentTypeUpdateStruct-&gt;nameSchema !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;nameSchema :</div>
<div class="line">            $contentTypeDraft-&gt;nameSchema;</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;isContainer = $contentTypeUpdateStruct-&gt;isContainer !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;isContainer :</div>
<div class="line">            $contentTypeDraft-&gt;isContainer;</div>
<div class="line">        $updateStruct-&gt;sortField = $contentTypeUpdateStruct-&gt;defaultSortField !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;defaultSortField :</div>
<div class="line">            $contentTypeDraft-&gt;defaultSortField;</div>
<div class="line">        $updateStruct-&gt;sortOrder = $contentTypeUpdateStruct-&gt;defaultSortOrder !== null ?</div>
<div class="line">            (int)$contentTypeUpdateStruct-&gt;defaultSortOrder :</div>
<div class="line">            $contentTypeDraft-&gt;defaultSortOrder;</div>
<div class="line"></div>
<div class="line">        $updateStruct-&gt;defaultAlwaysAvailable = $contentTypeUpdateStruct-&gt;defaultAlwaysAvailable !== null ?</div>
<div class="line">            $contentTypeUpdateStruct-&gt;defaultAlwaysAvailable :</div>
<div class="line">            $contentTypeDraft-&gt;defaultAlwaysAvailable;</div>
<div class="line">        $updateStruct-&gt;initialLanguageId = $this-&gt;repository-&gt;getContentLanguageService()-&gt;loadLanguage(</div>
<div class="line">            $contentTypeUpdateStruct-&gt;mainLanguageCode !== null ?</div>
<div class="line">                $contentTypeUpdateStruct-&gt;mainLanguageCode :</div>
<div class="line">                $contentTypeDraft-&gt;mainLanguageCode</div>
<div class="line">        )-&gt;id;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $updateStruct;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5fa10dc391b3f451e9cd09181ff2d9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::copyContentType </td>
          <td>(</td>
          <td class="paramtype">APIContentType&#160;</td>
          <td class="paramname"><em>$contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1User_1_1User.html">User</a>&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy Type incl fields and groupIds to a new Type object</p>
<p>New Type will have $userId as creator / modifier, created / modified should be updated with current time, updated remoteId and identifier should be appended with '_' + unique string.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to copy a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\User\User</td><td class="paramname">$user</td><td>if null the current user is used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01167">1167</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00804">eZ\Publish\Core\Repository\ContentTypeService\loadContentType()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $user ) )</div>
<div class="line">        {</div>
<div class="line">            $user = $this-&gt;repository-&gt;getCurrentUser();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContentType = $this-&gt;contentTypeHandler-&gt;copy(</div>
<div class="line">                $user-&gt;id,</div>
<div class="line">                $contentType-&gt;id,</div>
<div class="line">                SPIContentType::STATUS_DEFINED</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e">loadContentType</a>( $spiContentType-&gt;id );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_af5fa10dc391b3f451e9cd09181ff2d9e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_af5fa10dc391b3f451e9cd09181ff2d9e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_af5fa10dc391b3f451e9cd09181ff2d9e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_af5fa10dc391b3f451e9cd09181ff2d9e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentType" alt="" coords="321,14,583,61"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="632,5,869,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1487,14,1724,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="917,40,1152,104"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1200,40,1437,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9cccd2041a1d5083fa12b994d016dc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::createContentType </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeCreateStruct&#160;</td>
          <td class="paramname"><em>$contentTypeCreateStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$contentTypeGroups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a Content Type object.</p>
<p>The content type is created in the state STATUS_DRAFT.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>In case when<ul>
<li>array of content type groups does not contain at least one content type group</li>
<li>identifier or remoteId in the content type create struct already exists</li>
<li>there is a duplicate field identifier in the content type create struct</li>
<li>content type create struct does not contain at least one field definition create struct</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeCreateStruct</td><td class="paramname">$contentTypeCreateStruct</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup[]</td><td>$contentTypeGroups Required array of <a class="el" href="">ContentTypeGroup</a> to link type with (must contain one)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00391">391</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00786">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDraftDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $contentTypeGroups ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeGroups&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Argument must contain at least one ContentTypeGroup&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;loadByIdentifier(</div>
<div class="line">                $contentTypeCreateStruct-&gt;identifier</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeCreateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Another ContentType with identifier &#39;{$contentTypeCreateStruct-&gt;identifier}&#39; exists&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do nothing</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;loadByRemoteId(</div>
<div class="line">                $contentTypeCreateStruct-&gt;remoteId</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeCreateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Another ContentType with remoteId &#39;{$contentTypeCreateStruct-&gt;remoteId}&#39; exists&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do nothing</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $contentTypeCreateStruct-&gt;fieldDefinitions ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeCreateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Argument must contain at least one FieldDefinitionCreateStruct&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $fieldDefinitionIdentifierSet = array();</div>
<div class="line">        $fieldDefinitionPositionSet = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $contentTypeCreateStruct-&gt;fieldDefinitions as $fieldDefinitionCreateStruct )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Check for duplicate identifiers</span></div>
<div class="line">            <span class="keywordflow">if</span> ( !isset( $fieldDefinitionIdentifierSet[$fieldDefinitionCreateStruct-&gt;identifier] ) )</div>
<div class="line">            {</div>
<div class="line">                $fieldDefinitionIdentifierSet[$fieldDefinitionCreateStruct-&gt;identifier] = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$contentTypeCreateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Argument contains duplicate field definition identifier &#39;{$fieldDefinitionCreateStruct-&gt;identifier}&#39;&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Check for duplicate positions</span></div>
<div class="line">            <span class="keywordflow">if</span> ( !isset( $fieldDefinitionPositionSet[$fieldDefinitionCreateStruct-&gt;position] ) )</div>
<div class="line">            {</div>
<div class="line">                $fieldDefinitionPositionSet[$fieldDefinitionCreateStruct-&gt;position] = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$contentTypeCreateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Argument contains duplicate field definition position &#39;{$fieldDefinitionCreateStruct-&gt;position}&#39;&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeCreateStruct-&gt;creatorId === null )</div>
<div class="line">        {</div>
<div class="line">            $userId = $this-&gt;repository-&gt;getCurrentUser()-&gt;id;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $userId = $contentTypeCreateStruct-&gt;creatorId;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeCreateStruct-&gt;creationDate === null )</div>
<div class="line">        {</div>
<div class="line">            $timestamp = time();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $timestamp = $contentTypeCreateStruct-&gt;creationDate-&gt;getTimestamp();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeCreateStruct-&gt;remoteId === null )</div>
<div class="line">        {</div>
<div class="line">            $contentTypeCreateStruct-&gt;remoteId = md5( uniqid( get_class( $contentTypeCreateStruct ), <span class="keyword">true</span> ) );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $initialLanguageId = $this-&gt;repository-&gt;getContentLanguageService()-&gt;loadLanguage(</div>
<div class="line">            $contentTypeCreateStruct-&gt;mainLanguageCode</div>
<div class="line">        )-&gt;id;</div>
<div class="line">        $groupIds = array_map(</div>
<div class="line">            <span class="keyword">function</span> ( $contentTypeGroup )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> $contentTypeGroup-&gt;id;</div>
<div class="line">            },</div>
<div class="line">            $contentTypeGroups</div>
<div class="line">        );</div>
<div class="line">        $fieldDefinitions = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $contentTypeCreateStruct-&gt;fieldDefinitions as $fieldDefinitionCreateStruct )</div>
<div class="line">        {</div>
<div class="line">            $fieldDefinitions[] = $this-&gt;buildSPIFieldDefinitionCreate( $fieldDefinitionCreateStruct );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiContentTypeCreateStruct = <span class="keyword">new</span> SPIContentTypeCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;name&quot;</span> =&gt; $contentTypeCreateStruct-&gt;names,</div>
<div class="line">                <span class="stringliteral">&quot;status&quot;</span> =&gt; APIContentType::STATUS_DRAFT,</div>
<div class="line">                <span class="stringliteral">&quot;description&quot;</span> =&gt; $contentTypeCreateStruct-&gt;descriptions,</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $contentTypeCreateStruct-&gt;identifier,</div>
<div class="line">                <span class="stringliteral">&quot;created&quot;</span> =&gt; $timestamp,</div>
<div class="line">                <span class="stringliteral">&quot;modified&quot;</span> =&gt; $timestamp,</div>
<div class="line">                <span class="stringliteral">&quot;creatorId&quot;</span> =&gt; $userId,</div>
<div class="line">                <span class="stringliteral">&quot;modifierId&quot;</span> =&gt; $userId,</div>
<div class="line">                <span class="stringliteral">&quot;remoteId&quot;</span> =&gt; $contentTypeCreateStruct-&gt;remoteId,</div>
<div class="line">                <span class="stringliteral">&quot;urlAliasSchema&quot;</span> =&gt; $contentTypeCreateStruct-&gt;urlAliasSchema,</div>
<div class="line">                <span class="stringliteral">&quot;nameSchema&quot;</span> =&gt; $contentTypeCreateStruct-&gt;nameSchema,</div>
<div class="line">                <span class="stringliteral">&quot;isContainer&quot;</span> =&gt; $contentTypeCreateStruct-&gt;isContainer,</div>
<div class="line">                <span class="stringliteral">&quot;initialLanguageId&quot;</span> =&gt; $initialLanguageId,</div>
<div class="line">                <span class="stringliteral">&quot;sortField&quot;</span> =&gt; $contentTypeCreateStruct-&gt;defaultSortField,</div>
<div class="line">                <span class="stringliteral">&quot;sortOrder&quot;</span> =&gt; $contentTypeCreateStruct-&gt;defaultSortOrder,</div>
<div class="line">                <span class="stringliteral">&quot;groupIds&quot;</span> =&gt; $groupIds,</div>
<div class="line">                <span class="stringliteral">&quot;fieldDefinitions&quot;</span> =&gt; $fieldDefinitions,</div>
<div class="line">                <span class="stringliteral">&quot;defaultAlwaysAvailable&quot;</span> =&gt; $contentTypeCreateStruct-&gt;defaultAlwaysAvailable</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContentType = $this-&gt;contentTypeHandler-&gt;create(</div>
<div class="line">                $spiContentTypeCreateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6">buildContentTypeDraftDomainObject</a>( $spiContentType );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac9cccd2041a1d5083fa12b994d016dc8_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac9cccd2041a1d5083fa12b994d016dc8_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac9cccd2041a1d5083fa12b994d016dc8_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac9cccd2041a1d5083fa12b994d016dc8_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="331,5,568,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="616,5,853,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1471,14,1708,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="901,40,1136,104"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1184,40,1421,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8920d2331e9cd65ff52721cfaaca1819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::createContentTypeDraft </td>
          <td>(</td>
          <td class="paramtype">APIContentType&#160;</td>
          <td class="paramname"><em>$contentType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a draft from an existing content type.</p>
<p>This is a complete copy of the content type which has the state STATUS_DRAFT.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to edit a content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>If there is already a draft assigned to another user</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00933">933</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00786">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDraftDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;load(</div>
<div class="line">                $contentType-&gt;id,</div>
<div class="line">                SPIContentType::STATUS_DRAFT</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentType&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Draft of the ContentType already exists&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $spiContentType = $this-&gt;contentTypeHandler-&gt;createDraft(</div>
<div class="line">                    $this-&gt;repository-&gt;getCurrentUser()-&gt;id,</div>
<div class="line">                    $contentType-&gt;id</div>
<div class="line">                );</div>
<div class="line">                $this-&gt;repository-&gt;commit();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">            {</div>
<div class="line">                $this-&gt;repository-&gt;rollback();</div>
<div class="line">                <span class="keywordflow">throw</span> $e;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6">buildContentTypeDraftDomainObject</a>(</div>
<div class="line">            $spiContentType</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a8920d2331e9cd65ff52721cfaaca1819_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a8920d2331e9cd65ff52721cfaaca1819_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a8920d2331e9cd65ff52721cfaaca1819_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a8920d2331e9cd65ff52721cfaaca1819_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="301,5,539,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="587,5,824,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1441,14,1679,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="872,40,1107,104"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1155,40,1392,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a367eba3051791789ae6ae6b123b0b03e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::createContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroupCreateStruct.html">ContentTypeGroupCreateStruct</a>&#160;</td>
          <td class="paramname"><em>$contentTypeGroupCreateStruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a Content Type Group object</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to create a content type group </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If a group with the same identifier already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroupCreateStruct</td><td class="paramname">$contentTypeGroupCreateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ab012d8fa67d4a71cd3a6b976e00e8188">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00099">99</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00347">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeGroupDomainObject()</a>, and <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00195">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroupByIdentifier()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;create&#39;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0">loadContentTypeGroupByIdentifier</a>( $contentTypeGroupCreateStruct-&gt;identifier );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeGroupCreateStruct&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;A group with the identifier &#39;{$contentTypeGroupCreateStruct-&gt;identifier}&#39; already exists&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do nothing</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeGroupCreateStruct-&gt;creationDate === null )</div>
<div class="line">        {</div>
<div class="line">            $timestamp = time();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $timestamp = $contentTypeGroupCreateStruct-&gt;creationDate-&gt;getTimestamp();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeGroupCreateStruct-&gt;creatorId === null )</div>
<div class="line">        {</div>
<div class="line">            $userId = $this-&gt;repository-&gt;getCurrentUser()-&gt;id;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $userId = $contentTypeGroupCreateStruct-&gt;creatorId;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiGroupCreateStruct = <span class="keyword">new</span> SPIContentTypeGroupCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $contentTypeGroupCreateStruct-&gt;identifier,</div>
<div class="line">                <span class="stringliteral">&quot;created&quot;</span> =&gt; $timestamp,</div>
<div class="line">                <span class="stringliteral">&quot;modified&quot;</span> =&gt; $timestamp,</div>
<div class="line">                <span class="stringliteral">&quot;creatorId&quot;</span> =&gt; $userId,</div>
<div class="line">                <span class="stringliteral">&quot;modifierId&quot;</span> =&gt; $userId</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $spiContentTypeGroup = $this-&gt;contentTypeHandler-&gt;createGroup(</div>
<div class="line">                $spiGroupCreateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b">buildContentTypeGroupDomainObject</a>( $spiContentTypeGroup );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a367eba3051791789ae6ae6b123b0b03e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a367eba3051791789ae6ae6b123b0b03e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a367eba3051791789ae6ae6b123b0b03e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a367eba3051791789ae6ae6b123b0b03e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="867,5,1104,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroupByIdentifier" alt="" coords="301,40,536,104"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1153,14,1391,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroups" alt="" coords="584,40,819,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6776c3ef92e64d8a0f11f4a932db07e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::deleteContentType </td>
          <td>(</td>
          <td class="paramtype">APIContentType&#160;</td>
          <td class="paramname"><em>$contentType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a Content Type object.</p>
<p>Deletes a content type if it has no instances</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>If there exist content objects of this type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to delete a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01133">1133</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;delete&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;delete&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;delete(</div>
<div class="line">                $contentType-&gt;id,</div>
<div class="line">                $contentType-&gt;status</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97a6269eb5e7e07f8d29a55fbdb2c170"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::deleteContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$contentTypeGroup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a Content Type Group.</p>
<p>This method only deletes an content type group which has content types without any content instances</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to delete a content type group </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If a to be deleted content type has instances</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup</td><td class="paramname">$contentTypeGroup</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00309">309</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00172">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroup()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;delete&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;delete&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $loadedContentTypeGroup = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312">loadContentTypeGroup</a>( $contentTypeGroup-&gt;id );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;deleteGroup(</div>
<div class="line">                $loadedContentTypeGroup-&gt;id</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APIBadStateException $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeGroup&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;Content type group has content type instances&quot;</span>,</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a97a6269eb5e7e07f8d29a55fbdb2c170_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a97a6269eb5e7e07f8d29a55fbdb2c170_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a97a6269eb5e7e07f8d29a55fbdb2c170_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a97a6269eb5e7e07f8d29a55fbdb2c170_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="301,5,536,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="584,5,821,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="871,14,1108,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac045227758b9b0ee321a366a3250d8cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::getDateTime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>|null </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00368">368</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $dateTime = <span class="keyword">new</span> DateTime();</div>
<div class="line">        $dateTime-&gt;setTimestamp( $timestamp );</div>
<div class="line">        <span class="keywordflow">return</span> $dateTime;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac045227758b9b0ee321a366a3250d8cd_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac045227758b9b0ee321a366a3250d8cd_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac045227758b9b0ee321a366a3250d8cd_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ac045227758b9b0ee321a366a3250d8cd_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="293,215,531,279"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="867,371,1104,435"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a367eba3051791789ae6ae6b123b0b03e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeGroup" alt="" coords="1168,75,1416,139"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="579,271,813,335"/><area shape="rect" id="node45" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroups" alt="" coords="579,157,813,221"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeGroup" alt="" coords="1167,163,1417,227"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a97a6269eb5e7e07f8d29a55fbdb2c170" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\deleteContent\lTypeGroup" alt="" coords="863,283,1108,347"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="1173,251,1411,315"/><area shape="rect" id="node33" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentType" alt="" coords="1161,458,1423,505"/><area shape="rect" id="node37" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByIdentifier" alt="" coords="1496,339,1731,403"/><area shape="rect" id="node40" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByRemoteId" alt="" coords="1496,427,1731,491"/><area shape="rect" id="node43" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa334c9aaacbfd56000d3005f23fbb2d7" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentTypes" alt="" coords="1157,527,1427,574"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContentType" alt="" coords="1476,93,1751,139"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="1496,163,1731,227"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeDraft" alt="" coords="1489,251,1737,315"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="1809,339,2060,403"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="1801,5,2068,51"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="1819,75,2051,139"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="1820,163,2049,227"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="1809,251,2060,315"/><area shape="rect" id="node35" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\copyContentType" alt="" coords="1481,514,1745,561"/><area shape="rect" id="node47" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroupByIdentifier" alt="" coords="868,144,1103,208"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a323027bf3e50b115aedd7c6d6ad2787e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentType </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentTypeId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type object by id</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If a content type with the given id and status DEFINED can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentTypeId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#aa6ddbfa0c5d4d8fa51e77bb56c04cfc4">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00804">804</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_numeric( $contentTypeId ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$contentTypeId&#39;</span>, $contentTypeId );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;load(</div>
<div class="line">            $contentTypeId,</div>
<div class="line">            SPIContentType::STATUS_DEFINED</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a>(</div>
<div class="line">            $spiContentType</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="317,5,555,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1172,14,1409,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="603,40,837,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="885,40,1123,104"/></map>
</div>
</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a323027bf3e50b115aedd7c6d6ad2787e_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\copyContentType" alt="" coords="319,5,583,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acde6ea4dab6b020a1e6560a4d96a12f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeByIdentifier </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type object by identifier</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If content type with the given identifier and status DEFINED can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$identifier</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a8cc3d1ec2ee0b91bca8ad5fb5167448b">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00830">830</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_string( $identifier ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$identifier&#39;</span>, $identifier );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;loadByIdentifier(</div>
<div class="line">            $identifier</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a>(</div>
<div class="line">            $spiContentType</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="288,5,525,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1143,14,1380,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="573,40,808,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="856,40,1093,104"/></map>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_acde6ea4dab6b020a1e6560a4d96a12f5_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="289,5,540,69"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76ce53078594064c34d22429699a93e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeByRemoteId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$remoteId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type object by id</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If content type with the given remote id and status DEFINED can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$remoteId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#af1cf297f637d67b3476696c462e8f80c">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00855">855</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;loadByRemoteId( $remoteId );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a>(</div>
<div class="line">            $spiContentType</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="288,5,525,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1143,14,1380,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="573,40,808,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="856,40,1093,104"/></map>
</div>
</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a76ce53078594064c34d22429699a93e0_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="289,5,540,69"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a3cb7d8f12d398bb87d17406388eb55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeDraft </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentTypeId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type object draft by id</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If the content type draft owned by the current user can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentTypeId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000092">Todo:</a></b></dt><dd>Use another exception when user of draft is someone else</dd></dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ade5a1772222d1b2ed168eac9eb196f9a">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">875</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00786">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDraftDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_numeric( $contentTypeId ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$contentTypeId&#39;</span>, $contentTypeId );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;load(</div>
<div class="line">            $contentTypeId,</div>
<div class="line">            SPIContentType::STATUS_DRAFT</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $spiContentType-&gt;modifierId != $this-&gt;repository-&gt;getCurrentUser()-&gt;id )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException( <span class="stringliteral">&quot;ContentType owned by someone else&quot;</span>, $contentTypeId );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6">buildContentTypeDraftDomainObject</a>(</div>
<div class="line">            $spiContentType</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="288,5,525,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="573,5,811,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1428,14,1665,61"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="859,40,1093,104"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1141,40,1379,104"/></map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a5a3cb7d8f12d398bb87d17406388eb55_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="297,5,548,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="289,93,556,139"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="307,163,539,227"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="308,251,537,315"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="297,339,548,403"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6db6088fbfa116da53ce83b51b6b1312"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentTypeGroupId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type Group object by id</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If group can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contentTypeGroupId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a954150b76fe58d44dfc66a4819ec04e6">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00172">172</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00347">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeGroupDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_numeric( $contentTypeGroupId ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$contentTypeGroupId&#39;</span>, $contentTypeGroupId );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiGroup = $this-&gt;contentTypeHandler-&gt;loadGroup(</div>
<div class="line">            $contentTypeGroupId</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b">buildContentTypeGroupDomainObject</a>( $spiGroup );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="288,5,525,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="575,14,812,61"/></map>
</div>
</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a6db6088fbfa116da53ce83b51b6b1312_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeGroup" alt="" coords="289,188,540,252"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a97a6269eb5e7e07f8d29a55fbdb2c170" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\deleteContent\lTypeGroup" alt="" coords="292,276,537,340"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="296,364,533,428"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="605,172,843,236"/><area shape="rect" id="node27" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a323027bf3e50b115aedd7c6d6ad2787e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentType" alt="" coords="593,303,855,350"/><area shape="rect" id="node31" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByIdentifier" alt="" coords="928,373,1163,437"/><area shape="rect" id="node34" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByRemoteId" alt="" coords="607,433,841,497"/><area shape="rect" id="node37" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aa334c9aaacbfd56000d3005f23fbb2d7" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContentTypes" alt="" coords="589,521,859,567"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac9cccd2041a1d5083fa12b994d016dc8" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContentType" alt="" coords="908,58,1183,105"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="928,128,1163,192"/><area shape="rect" id="node25" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a8920d2331e9cd65ff52721cfaaca1819" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeDraft" alt="" coords="921,216,1169,280"/><area shape="rect" id="node15" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a632d9c8443207d4a1a828cd49a699402" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeDraft" alt="" coords="1241,373,1492,437"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a9ca493cd636ca277efc1bd291c422b28" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\addFieldDefinition" alt="" coords="1233,5,1500,51"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ab027a2384135f19e6e1f86838c58757d" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\removeField\lDefinition" alt="" coords="1251,75,1483,139"/><area shape="rect" id="node21" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateField\lDefinition" alt="" coords="1252,163,1481,227"/><area shape="rect" id="node23" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#afb2c408dbd88c26d3129f00a7d6caf55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\publishContent\lTypeDraft" alt="" coords="1241,251,1492,315"/><area shape="rect" id="node29" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#af5fa10dc391b3f451e9cd09181ff2d9e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\copyContentType" alt="" coords="913,303,1177,350"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0c1fc606d561311e2b2bdf476f0b74f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeGroupByIdentifier </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contentTypeGroupIdentifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a Content Type Group object by identifier</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\NotFoundException</td><td>If group can not be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$contentTypeGroupIdentifier</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a65d89f0b23167ee786baef3410af1cd3">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00195">195</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00215">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroups()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $groups = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065">loadContentTypeGroups</a>();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> ( $groups as $group )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( $group-&gt;identifier === $contentTypeGroupIdentifier )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> $group;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> NotFoundException( <span class="stringliteral">&#39;ContentTypeGroup&#39;</span>, $contentTypeGroupIdentifier );</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroups" alt="" coords="288,5,523,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="571,5,808,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="857,14,1095,61"/></map>
</div>
</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a0c1fc606d561311e2b2bdf476f0b74f0_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a367eba3051791789ae6ae6b123b0b03e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeGroup" alt="" coords="291,5,539,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeGroup" alt="" coords="289,93,540,157"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a914a468aac3f186d8f4c41509446d065"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypeGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get all Content Type Groups</p>
<dl class="section return"><dt>Returns</dt><dd>[] </dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#aeafa829aa1b889a4221588c4774fa566">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00215">215</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00347">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeGroupDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $spiGroups = $this-&gt;contentTypeHandler-&gt;loadAllGroups();</div>
<div class="line"></div>
<div class="line">        $groups = array();</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiGroups as $spiGroup )</div>
<div class="line">        {</div>
<div class="line">            $groups[] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b">buildContentTypeGroupDomainObject</a>( $spiGroup );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $groups;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="288,5,525,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="575,14,812,61"/></map>
</div>
</p>

<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_icgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_icgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_icgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a914a468aac3f186d8f4c41509446d065_icgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroupByIdentifier" alt="" coords="288,49,523,113"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a367eba3051791789ae6ae6b123b0b03e" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\createContent\lTypeGroup" alt="" coords="573,5,821,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1c68e97103d511a87a10eea1e75620e5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\updateContent\lTypeGroup" alt="" coords="572,93,823,157"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa334c9aaacbfd56000d3005f23fbb2d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::loadContentTypes </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$contentTypeGroup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get Content Type objects which belong to the given content type group</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup</td><td class="paramname">$contentTypeGroup</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[] Which have status DEFINED </dd></dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00904">904</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00702">eZ\Publish\Core\Repository\ContentTypeService\buildContentTypeDomainObject()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $spiContentTypes = $this-&gt;contentTypeHandler-&gt;loadContentTypes(</div>
<div class="line">            $contentTypeGroup-&gt;id,</div>
<div class="line">            SPIContentType::STATUS_DEFINED</div>
<div class="line">        );</div>
<div class="line">        $contentTypes = array();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> ( $spiContentTypes as $spiContentType )</div>
<div class="line">        {</div>
<div class="line">            $contentTypes[] = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592">buildContentTypeDomainObject</a>( $spiContentType );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $contentTypes;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aa334c9aaacbfd56000d3005f23fbb2d7_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aa334c9aaacbfd56000d3005f23fbb2d7_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aa334c9aaacbfd56000d3005f23fbb2d7_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aa334c9aaacbfd56000d3005f23fbb2d7_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="323,5,560,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1177,14,1415,61"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="608,40,843,104"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="891,40,1128,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7c9233cb9ec4764982a9d6487951b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newContentTypeCreateStruct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content type create class</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$identifier</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#afc58dc889ea15b4695fa4921e7b1b464">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01547">1547</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_string( $identifier ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$identifier&#39;</span>, $identifier );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $identifier</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a5677db3b1ee6461020b3ea4675a3e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newContentTypeGroupCreateStruct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content type group create class</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$identifier</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#ad3722ee2345c80d303875d89ac42d209">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01526">1526</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_string( $identifier ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$identifier&#39;</span>, $identifier );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeGroupCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $identifier</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c975bf2e231502457113c270306b45f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newContentTypeGroupUpdateStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content type update struct</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a7964a0aef032ac56984621ab91c52baf">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01576">1576</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeGroupUpdateStruct;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26f15dbc48e62561a2d48631de5707df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newContentTypeUpdateStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a new content type update struct</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a84bb6cd8838c25f197d30c150e45402c">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01566">1566</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> ContentTypeUpdateStruct;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c3acbeac55f1f461f916d77b04f6af3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newFieldDefinitionCreateStruct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldTypeIdentifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a field definition create struct</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldTypeIdentifier</td><td>the required field type identifier </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$identifier</td><td>the required identifier for the field definition</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#a8b6a26152ed55b3f455228e01ac4152e">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01589">1589</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( !is_string( $identifier ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$identifier&#39;</span>, $identifier );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !is_string( $fieldTypeIdentifier ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentValue( <span class="stringliteral">&#39;$fieldTypeIdentifier&#39;</span>, $fieldTypeIdentifier );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> FieldDefinitionCreateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $identifier,</div>
<div class="line">                <span class="stringliteral">&quot;fieldTypeIdentifier&quot;</span> =&gt; $fieldTypeIdentifier</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae98d57d4cc957298b4f11703303dc6fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::newFieldDefinitionUpdateStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instantiates a field definition update class</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interfaceeZ_1_1Publish_1_1API_1_1Repository_1_1ContentTypeService.html#acfd42c20c6dbafb66cd7c3e602d93c6e">eZ\Publish\API\Repository\ContentTypeService</a>.</p>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01614">1614</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> FieldDefinitionUpdateStruct;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb2c408dbd88c26d3129f00a7d6caf55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::publishContentTypeDraft </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="namespaceeZ_1_1Publish.html">Publish</a> the content type and update content objects.</p>
<p>This method updates content objects, depending on the changed field definitions.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>If the content type has no draft </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the content type has no field definitions </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to publish a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01459">1459</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeDraft()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $loadedContentTypeDraft = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a>( $contentTypeDraft-&gt;id );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeDraft&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The content type does not have a draft.&quot;</span>,</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( count( $loadedContentTypeDraft-&gt;getFieldDefinitions() ) === 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeDraft&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The content type draft should have at least one field definition.&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( empty( $loadedContentTypeDraft-&gt;nameSchema ) )</div>
<div class="line">            {</div>
<div class="line">                $fieldDefinitions = $loadedContentTypeDraft-&gt;getFieldDefinitions();</div>
<div class="line">                $this-&gt;contentTypeHandler-&gt;update(</div>
<div class="line">                    $contentTypeDraft-&gt;id,</div>
<div class="line">                    $contentTypeDraft-&gt;status,</div>
<div class="line">                    $this-&gt;buildSPIContentTypeUpdateStruct(</div>
<div class="line">                        $loadedContentTypeDraft,</div>
<div class="line">                        <span class="keyword">new</span> ContentTypeUpdateStruct(</div>
<div class="line">                            array(</div>
<div class="line">                                <span class="stringliteral">&quot;nameSchema&quot;</span> =&gt; <span class="stringliteral">&quot;&lt;&quot;</span> . $fieldDefinitions[0]-&gt;identifier . <span class="stringliteral">&quot;&gt;&quot;</span></div>
<div class="line">                            )</div>
<div class="line">                        )</div>
<div class="line">                    )</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;publish(</div>
<div class="line">                $loadedContentTypeDraft-&gt;id</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_afb2c408dbd88c26d3129f00a7d6caf55_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_afb2c408dbd88c26d3129f00a7d6caf55_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_afb2c408dbd88c26d3129f00a7d6caf55_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_afb2c408dbd88c26d3129f00a7d6caf55_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="307,5,541,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="589,5,827,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="875,5,1112,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1729,14,1967,61"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="1160,40,1395,104"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1443,40,1680,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab027a2384135f19e6e1f86838c58757d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::removeFieldDefinition </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIFieldDefinition&#160;</td>
          <td class="paramname"><em>$fieldDefinition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a field definition from an existing Type.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the given field definition does not belong to the given type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to edit a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\FieldDefinition</td><td class="paramname">$fieldDefinition</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01350">1350</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeDraft()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $loadedFieldDefinition = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a>(</div>
<div class="line">            $contentTypeDraft-&gt;id</div>
<div class="line">        )-&gt;getFieldDefinition(</div>
<div class="line">            $fieldDefinition-&gt;identifier</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( empty( $loadedFieldDefinition ) || $loadedFieldDefinition-&gt;id != $fieldDefinition-&gt;id )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$fieldDefinition&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The given FieldDefinition does not belong to the ContentType&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;removeFieldDefinition(</div>
<div class="line">                $contentTypeDraft-&gt;id,</div>
<div class="line">                SPIContentType::STATUS_DRAFT,</div>
<div class="line">                $fieldDefinition-&gt;id</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ab027a2384135f19e6e1f86838c58757d_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ab027a2384135f19e6e1f86838c58757d_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ab027a2384135f19e6e1f86838c58757d_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_ab027a2384135f19e6e1f86838c58757d_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="288,5,523,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="571,5,808,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="856,5,1093,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1711,14,1948,61"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="1141,40,1376,104"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1424,40,1661,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad9abb48d70abbc455212884de270d899"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::unassignContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype">APIContentType&#160;</td>
          <td class="paramname"><em>$contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$contentTypeGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unassign a content type from a group.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to link a content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the content type is not assigned this the given group. </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\BadStateException</td><td>If $contentTypeGroup is the last group assigned to the content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentType</td><td class="paramname">$contentType</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup</td><td class="paramname">$contentTypeGroup</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01250">1250</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $spiContentType = $this-&gt;contentTypeHandler-&gt;load(</div>
<div class="line">            $contentType-&gt;id,</div>
<div class="line">            $contentType-&gt;status</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !in_array( $contentTypeGroup-&gt;id, $spiContentType-&gt;groupIds ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeGroup&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The given ContentType is not assigned the ContentTypeGroup&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;unlink(</div>
<div class="line">                $contentTypeGroup-&gt;id,</div>
<div class="line">                $contentType-&gt;id,</div>
<div class="line">                $contentType-&gt;status</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APIBadStateException $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> BadStateException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentType&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The given ContentTypeGroup is the last group assigned to the ContentType&quot;</span>,</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a632d9c8443207d4a1a828cd49a699402"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::updateContentTypeDraft </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeUpdateStruct.html">ContentTypeUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$contentTypeUpdateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a Content Type object</p>
<p>Does not update fields (fieldDefinitions), use <a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#aab3410538240e5e0b5e848f3d2406253">updateFieldDefinition()</a> to update them.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to update a content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the given identifier or remoteId already exists or there is no draft assigned to the authenticated user</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td></td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeUpdateStruct</td><td class="paramname">$contentTypeUpdateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00985">985</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00830">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeByIdentifier()</a>, <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00855">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeByRemoteId()</a>, and <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeDraft()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $loadedContentTypeDraft = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a>( $contentTypeDraft-&gt;id );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$contentTypeDraft&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;There is no ContentType draft assigned to the authenticated user&quot;</span>,</div>
<div class="line">                $e</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeUpdateStruct-&gt;identifier !== null</div>
<div class="line">            &amp;&amp; $contentTypeUpdateStruct-&gt;identifier != $loadedContentTypeDraft-&gt;identifier )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5">loadContentTypeByIdentifier</a>( $contentTypeUpdateStruct-&gt;identifier );</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$contentTypeUpdateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Another ContentType with identifier &#39;{$contentTypeUpdateStruct-&gt;identifier}&#39; exists&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Do nothing</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeUpdateStruct-&gt;remoteId !== null</div>
<div class="line">            &amp;&amp; $contentTypeUpdateStruct-&gt;remoteId != $loadedContentTypeDraft-&gt;remoteId )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0">loadContentTypeByRemoteId</a>( $contentTypeUpdateStruct-&gt;remoteId );</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$contentTypeUpdateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Another ContentType with remoteId &#39;{$contentTypeUpdateStruct-&gt;remoteId}&#39; exists&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Do nothing</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;update(</div>
<div class="line">                $contentTypeDraft-&gt;id,</div>
<div class="line">                $contentTypeDraft-&gt;status,</div>
<div class="line">                $this-&gt;buildSPIContentTypeUpdateStruct(</div>
<div class="line">                    $loadedContentTypeDraft,</div>
<div class="line">                    $contentTypeUpdateStruct</div>
<div class="line">                )</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a632d9c8443207d4a1a828cd49a699402_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a632d9c8443207d4a1a828cd49a699402_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a632d9c8443207d4a1a828cd49a699402_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a632d9c8443207d4a1a828cd49a699402_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#acde6ea4dab6b020a1e6560a4d96a12f5" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByIdentifier" alt="" coords="591,5,825,69"/><area shape="rect" id="node14" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a76ce53078594064c34d22429699a93e0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeByRemoteId" alt="" coords="307,75,541,139"/><area shape="rect" id="node17" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="307,163,541,227"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="875,75,1112,139"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1729,83,1967,130"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="1160,109,1395,173"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1443,109,1680,173"/><area shape="rect" id="node19" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="589,153,827,217"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c68e97103d511a87a10eea1e75620e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::updateContentTypeGroup </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeGroup&#160;</td>
          <td class="paramname"><em>$contentTypeGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1ContentTypeGroupUpdateStruct.html">ContentTypeGroupUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$contentTypeGroupUpdateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a Content Type Group object</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to create a content type group </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the given identifier (if set) already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup</td><td class="paramname">$contentTypeGroup</td><td>the content type group to be updated </td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroupUpdateStruct</td><td class="paramname">$contentTypeGroupUpdateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00237">237</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00172">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroup()</a>, and <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00195">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeGroupByIdentifier()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $loadedContentTypeGroup = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312">loadContentTypeGroup</a>( $contentTypeGroup-&gt;id );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeGroupUpdateStruct-&gt;identifier !== null</div>
<div class="line">            &amp;&amp; $contentTypeGroupUpdateStruct-&gt;identifier !== $loadedContentTypeGroup-&gt;identifier )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0">loadContentTypeGroupByIdentifier</a>( $contentTypeGroupUpdateStruct-&gt;identifier );</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&#39;$contentTypeGroupUpdateStruct-&gt;identifier&#39;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;given identifier already exists&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> ( APINotFoundException $e )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Do nothing</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( $contentTypeGroupUpdateStruct-&gt;modificationDate !== null )</div>
<div class="line">        {</div>
<div class="line">            $modifiedTimestamp = $contentTypeGroupUpdateStruct-&gt;modificationDate-&gt;getTimestamp();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            $modifiedTimestamp = time();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiGroupUpdateStruct = <span class="keyword">new</span> SPIContentTypeGroupUpdateStruct(</div>
<div class="line">            array(</div>
<div class="line">                <span class="stringliteral">&quot;id&quot;</span> =&gt; $loadedContentTypeGroup-&gt;id,</div>
<div class="line">                <span class="stringliteral">&quot;identifier&quot;</span> =&gt; $contentTypeGroupUpdateStruct-&gt;identifier === null ?</div>
<div class="line">                    $loadedContentTypeGroup-&gt;identifier :</div>
<div class="line">                    $contentTypeGroupUpdateStruct-&gt;identifier,</div>
<div class="line">                <span class="stringliteral">&quot;modified&quot;</span> =&gt; $modifiedTimestamp,</div>
<div class="line">                <span class="stringliteral">&quot;modifierId&quot;</span> =&gt; $contentTypeGroupUpdateStruct-&gt;modifierId === null ?</div>
<div class="line">                    $this-&gt;repository-&gt;getCurrentUser()-&gt;id :</div>
<div class="line">                    $contentTypeGroupUpdateStruct-&gt;modifierId</div>
<div class="line">            )</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;updateGroup(</div>
<div class="line">                $spiGroupUpdateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1c68e97103d511a87a10eea1e75620e5_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1c68e97103d511a87a10eea1e75620e5_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1c68e97103d511a87a10eea1e75620e5_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_a1c68e97103d511a87a10eea1e75620e5_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="589,5,824,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a0c1fc606d561311e2b2bdf476f0b74f0" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroupByIdentifier" alt="" coords="307,84,541,148"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="872,49,1109,113"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1159,58,1396,105"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a914a468aac3f186d8f4c41509446d065" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroups" alt="" coords="589,93,824,157"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab3410538240e5e0b5e848f3d2406253"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::updateFieldDefinition </td>
          <td>(</td>
          <td class="paramtype">APIContentTypeDraft&#160;</td>
          <td class="paramname"><em>$contentTypeDraft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">APIFieldDefinition&#160;</td>
          <td class="paramname"><em>$fieldDefinition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classeZ_1_1Publish_1_1API_1_1Repository_1_1Values_1_1ContentType_1_1FieldDefinitionUpdateStruct.html">FieldDefinitionUpdateStruct</a>&#160;</td>
          <td class="paramname"><em>$fieldDefinitionUpdateStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a field definition</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\InvalidArgumentException</td><td>If the field id in the update struct is not found or does not belong to the content type If the given identifier is used in an existing field of the given content type </td></tr>
    <tr><td class="paramname">\eZ\Publish\API\Repository\Exceptions\UnauthorizedException</td><td>if the user is not allowed to edit a content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\ContentTypeDraft</td><td class="paramname">$contentTypeDraft</td><td>the content type draft </td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\FieldDefinition</td><td class="paramname">$fieldDefinition</td><td>the field definition which should be updated </td></tr>
    <tr><td class="paramtype">\eZ\Publish\API\Repository\Values\ContentType\FieldDefinitionUpdateStruct</td><td class="paramname">$fieldDefinitionUpdateStruct</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l01397">1397</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

<p>References <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00875">eZ\Publish\Core\Repository\ContentTypeService\loadContentTypeDraft()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( $this-&gt;repository-&gt;hasAccess( <span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> ) !== true )</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnauthorizedException( <span class="stringliteral">&#39;ContentType&#39;</span>, <span class="stringliteral">&#39;update&#39;</span> );</div>
<div class="line"></div>
<div class="line">        $loadedContentTypeDraft = $this-&gt;<a class="code" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55">loadContentTypeDraft</a>( $contentTypeDraft-&gt;id );</div>
<div class="line">        $foundFieldId = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">foreach</span> ( $loadedContentTypeDraft-&gt;fieldDefinitions as $existingFieldDefinition )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( $existingFieldDefinition-&gt;id == $fieldDefinition-&gt;id )</div>
<div class="line">            {</div>
<div class="line">                $foundFieldId = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( $existingFieldDefinition-&gt;identifier == $fieldDefinitionUpdateStruct-&gt;identifier )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                    <span class="stringliteral">&quot;\$fieldDefinitionUpdateStruct&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Another FieldDefinition with identifier &#39;{$fieldDefinitionUpdateStruct-&gt;identifier}&#39; exists in the ContentType&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ( !$foundFieldId )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(</div>
<div class="line">                <span class="stringliteral">&quot;\$fieldDefinition&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;The given FieldDefinition does not belong to the ContentType&quot;</span></div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $spiFieldDefinitionUpdateStruct = $this-&gt;buildSPIFieldDefinitionUpdate(</div>
<div class="line">            $fieldDefinitionUpdateStruct,</div>
<div class="line">            $fieldDefinition</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        $this-&gt;repository-&gt;beginTransaction();</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            $this-&gt;contentTypeHandler-&gt;updateFieldDefinition(</div>
<div class="line">                $contentTypeDraft-&gt;id,</div>
<div class="line">                SPIContentType::STATUS_DRAFT,</div>
<div class="line">                $spiFieldDefinitionUpdateStruct</div>
<div class="line">            );</div>
<div class="line">            $this-&gt;repository-&gt;commit();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> ( Exception $e )</div>
<div class="line">        {</div>
<div class="line">            $this-&gt;repository-&gt;rollback();</div>
<div class="line">            <span class="keywordflow">throw</span> $e;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aab3410538240e5e0b5e848f3d2406253_cgraph.png" border="0" usemap="#classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aab3410538240e5e0b5e848f3d2406253_cgraph" alt=""/></div>
<map name="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aab3410538240e5e0b5e848f3d2406253_cgraph" id="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService_aab3410538240e5e0b5e848f3d2406253_cgraph">
<area shape="rect" id="node3" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a5a3cb7d8f12d398bb87d17406388eb55" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeDraft" alt="" coords="283,5,517,69"/><area shape="rect" id="node5" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a1542fd3b4bc399bb3bb31a47978cbae6" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDraftDomainObject" alt="" coords="565,5,803,69"/><area shape="rect" id="node7" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a00358e791edffa3728bbf69391702592" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeDomainObject" alt="" coords="851,5,1088,69"/><area shape="rect" id="node9" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#ac045227758b9b0ee321a366a3250d8cd" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\getDateTime" alt="" coords="1705,14,1943,61"/><area shape="rect" id="node11" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a6db6088fbfa116da53ce83b51b6b1312" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\loadContent\lTypeGroup" alt="" coords="1136,40,1371,104"/><area shape="rect" id="node13" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html#a753f6df6b46e4be7afb29bbb0da2c61b" title="eZ\\Publish\\Core\\Repository\l\\ContentTypeService\\buildContent\lTypeGroupDomainObject" alt="" coords="1419,40,1656,104"/></map>
</div>
</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a4fd2dada252179954741e62148a5c0da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::$contentTypeHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00065">65</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

</div>
</div>
<a class="anchor" id="aedc78bcfc7d10d6b1ef01c794068fff9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::$repository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00060">60</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ea474d1412f249e0ca7e55870ee940c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eZ\Publish\Core\Repository\ContentTypeService::$settings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html#l00070">70</a> of file <a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/PAPI-doxygen-master/workspace/eZ/Publish/Core/Repository/<a class="el" href="Core_2Repository_2ContentTypeService_8php_source.html">ContentTypeService.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeZ.html">eZ</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish.html">Publish</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core.html">Core</a></li><li class="navelem"><a class="el" href="namespaceeZ_1_1Publish_1_1Core_1_1Repository.html">Repository</a></li><li class="navelem"><a class="el" href="classeZ_1_1Publish_1_1Core_1_1Repository_1_1ContentTypeService.html">ContentTypeService</a></li>
    <li class="footer">Generated on Sat Dec 15 2012 00:04:11 for ezp-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
