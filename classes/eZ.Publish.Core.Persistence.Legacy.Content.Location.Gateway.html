<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/eZ.html"><i class="icon-th"></i> eZ</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/FieldTypeProviderInterface.html"><i class="icon-folder-open"></i> FieldTypeProviderInterface</a></li>
<li><a href="../packages/eZ.html"><i class="icon-folder-open"></i> eZ</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">3441</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul>
<li>todo 
                <span class="label label-info">162</span>
</li>
<li>fixme 
                <span class="label label-info">10</span>
</li>
</ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">10</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#changeMainLocation" title="changeMainLocation :: Changes main location of content identified by given $contentId to location identified by given $locationId"><span class="description">Changes main location of content identified by given $contentId to location identified by given $locationId</span><pre>changeMainLocation()</pre></a></li>
<li class="method public "><a href="#cleanupTrash" title="cleanupTrash :: Removes every entries in the trash."><span class="description">Removes every entries in the trash.</span><pre>cleanupTrash()</pre></a></li>
<li class="method public "><a href="#countLocationsByContentId" title="countLocationsByContentId :: Returns how many locations given content object identified by $contentId has"><span class="description">Returns how many locations given content object identified by $contentId has</span><pre>countLocationsByContentId()</pre></a></li>
<li class="method public "><a href="#create" title="create :: Creates a new location in given $parentNode"><span class="description">Creates a new location in given $parentNode</span><pre>create()</pre></a></li>
<li class="method public "><a href="#createLocationsFromNodeAssignments" title="createLocationsFromNodeAssignments :: Create locations from node assignments"><span class="description">Create locations from node assignments</span><pre>createLocationsFromNodeAssignments()</pre></a></li>
<li class="method public "><a href="#createNodeAssignment" title="createNodeAssignment :: Create an entry in the node assignment table"><span class="description">Create an entry in the node assignment table</span><pre>createNodeAssignment()</pre></a></li>
<li class="method public "><a href="#deleteNodeAssignment" title="deleteNodeAssignment :: Deletes node assignment for given $contentId and $versionNo"><span class="description">Deletes node assignment for given $contentId and $versionNo</span><pre>deleteNodeAssignment()</pre></a></li>
<li class="method public "><a href="#getBasicNodeData" title="getBasicNodeData :: Returns an array with basic node data"><span class="description">Returns an array with basic node data</span><pre>getBasicNodeData()</pre></a></li>
<li class="method public "><a href="#getBasicNodeDataByRemoteId" title="getBasicNodeDataByRemoteId :: Returns an array with basic node data for the node with $remoteId"><span class="description">Returns an array with basic node data for the node with $remoteId</span><pre>getBasicNodeDataByRemoteId()</pre></a></li>
<li class="method public "><a href="#getChildren" title="getChildren :: Returns data for the first level children of the location identified by given $locationId"><span class="description">Returns data for the first level children of the location identified by given $locationId</span><pre>getChildren()</pre></a></li>
<li class="method public "><a href="#getFallbackMainNodeData" title="getFallbackMainNodeData :: Returns id of the next in line node to be set as a new main node"><span class="description">Returns id of the next in line node to be set as a new main node</span><pre>getFallbackMainNodeData()</pre></a></li>
<li class="method public "><a href="#getSubtreeContent" title="getSubtreeContent :: Find all content in the given subtree"><span class="description">Find all content in the given subtree</span><pre>getSubtreeContent()</pre></a></li>
<li class="method public "><a href="#hideSubtree" title="hideSubtree :: Sets a location to be hidden, and it self + all children to invisible."><span class="description">Sets a location to be hidden, and it self + all children to invisible.</span><pre>hideSubtree()</pre></a></li>
<li class="method public "><a href="#listTrashed" title="listTrashed :: Lists trashed items."><span class="description">Lists trashed items.</span><pre>listTrashed()</pre></a></li>
<li class="method public "><a href="#loadLocationDataByContent" title="loadLocationDataByContent :: Loads data for all Locations for $contentId, optionally only in the
subtree starting at $rootLocationId"><span class="description">Loads data for all Locations for $contentId, optionally only in the
subtree starting at $rootLocationId</span><pre>loadLocationDataByContent()</pre></a></li>
<li class="method public "><a href="#loadTrashByLocation" title="loadTrashByLocation :: Load trash data specified by location ID"><span class="description">Load trash data specified by location ID</span><pre>loadTrashByLocation()</pre></a></li>
<li class="method public "><a href="#moveSubtreeNodes" title="moveSubtreeNodes :: Update path strings to move nodes in the ezcontentobject_tree table"><span class="description">Update path strings to move nodes in the ezcontentobject_tree table</span><pre>moveSubtreeNodes()</pre></a></li>
<li class="method public "><a href="#removeElementFromTrash" title="removeElementFromTrash :: Removes trashed element identified by $id from trash."><span class="description">Removes trashed element identified by $id from trash.</span><pre>removeElementFromTrash()</pre></a></li>
<li class="method public "><a href="#removeLocation" title="removeLocation :: Deletes ezcontentobject_tree row for given $locationId (node_id)"><span class="description">Deletes ezcontentobject_tree row for given $locationId (node_id)</span><pre>removeLocation()</pre></a></li>
<li class="method public "><a href="#setSectionForSubtree" title="setSectionForSubtree :: Set section on all content objects in the subtree"><span class="description">Set section on all content objects in the subtree</span><pre>setSectionForSubtree()</pre></a></li>
<li class="method public "><a href="#swap" title="swap :: Swaps the content object being pointed to by a location object."><span class="description">Swaps the content object being pointed to by a location object.</span><pre>swap()</pre></a></li>
<li class="method public "><a href="#trashLocation" title="trashLocation :: Sends a single location identified by given $locationId to the trash."><span class="description">Sends a single location identified by given $locationId to the trash.</span><pre>trashLocation()</pre></a></li>
<li class="method public "><a href="#unHideSubtree" title="unHideSubtree :: Sets a location to be unhidden, and self + children to visible unless a parent is hidding the tree."><span class="description">Sets a location to be unhidden, and self + children to visible unless a parent is hidding the tree.</span><pre>unHideSubtree()</pre></a></li>
<li class="method public "><a href="#untrashLocation" title="untrashLocation :: Returns a trashed location to normal state."><span class="description">Returns a trashed location to normal state.</span><pre>untrashLocation()</pre></a></li>
<li class="method public "><a href="#update" title="update :: Updates an existing location."><span class="description">Updates an existing location.</span><pre>update()</pre></a></li>
<li class="method public "><a href="#updateLocationsContentVersionNo" title="updateLocationsContentVersionNo :: Updates all Locations of content identified with $contentId with $versionNo"><span class="description">Updates all Locations of content identified with $contentId with $versionNo</span><pre>updateLocationsContentVersionNo()</pre></a></li>
<li class="method public "><a href="#updateNodeAssignment" title="updateNodeAssignment :: Update node assignment table"><span class="description">Update node assignment table</span><pre>updateNodeAssignment()</pre></a></li>
<li class="method public "><a href="#updatePathIdentificationString" title="updatePathIdentificationString :: Updates path identification string for given $locationId."><span class="description">Updates path identification string for given $locationId.</span><pre>updatePathIdentificationString()</pre></a></li>
<li class="method public "><a href="#updateSubtreeModificationTime" title="updateSubtreeModificationTime :: Updated subtree modification time for all nodes on path"><span class="description">Updated subtree modification time for all nodes on path</span><pre>updateSubtreeModificationTime()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-constant"></i> Constants</li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_CREATE" title="NODE_ASSIGNMENT_OP_CODE_CREATE :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_CREATE</span><pre>NODE_ASSIGNMENT_OP_CODE_CREATE</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_CREATE_NOP" title="NODE_ASSIGNMENT_OP_CODE_CREATE_NOP :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_CREATE_NOP</span><pre>NODE_ASSIGNMENT_OP_CODE_CREATE_NOP</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_EXECUTE" title="NODE_ASSIGNMENT_OP_CODE_EXECUTE :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_EXECUTE</span><pre>NODE_ASSIGNMENT_OP_CODE_EXECUTE</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_MOVE" title="NODE_ASSIGNMENT_OP_CODE_MOVE :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_MOVE</span><pre>NODE_ASSIGNMENT_OP_CODE_MOVE</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_MOVE_NOP" title="NODE_ASSIGNMENT_OP_CODE_MOVE_NOP :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_MOVE_NOP</span><pre>NODE_ASSIGNMENT_OP_CODE_MOVE_NOP</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_NOP" title="NODE_ASSIGNMENT_OP_CODE_NOP :: Constants for node assignment op codes"><span class="description">Constants for node assignment op codes</span><pre>NODE_ASSIGNMENT_OP_CODE_NOP</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_REMOVE" title="NODE_ASSIGNMENT_OP_CODE_REMOVE :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_REMOVE</span><pre>NODE_ASSIGNMENT_OP_CODE_REMOVE</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP" title="NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP</span><pre>NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_SET" title="NODE_ASSIGNMENT_OP_CODE_SET :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_SET</span><pre>NODE_ASSIGNMENT_OP_CODE_SET</pre></a></li>
<li class="constant  "><a href="#NODE_ASSIGNMENT_OP_CODE_SET_NOP" title="NODE_ASSIGNMENT_OP_CODE_SET_NOP :: "><span class="description">NODE_ASSIGNMENT_OP_CODE_SET_NOP</span><pre>NODE_ASSIGNMENT_OP_CODE_SET_NOP</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CeZ%5CPublish%5CCore%5CPersistence%5CLegacy%5CContent%5CLocation%5CGateway" id="\eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/eZ.html">eZ</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.html">Publish</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.html">Core</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.html">Persistence</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.html">Legacy</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.Content.html">Content</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.Content.Location.html">Location</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Location.Gateway.html">Gateway</a>
</li>
</ul>
<div href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Location.Gateway.html" class="element class">
<p class="short_description">Base class for location gateways.</p>
<div class="details">
<p class="long_description"></p>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="changeMainLocation" id="changeMainLocation"></a><div class="element clickable method public changeMainLocation" data-toggle="collapse" data-target=".changeMainLocation .collapse">
<h2>Changes main location of content identified by given $contentId to location identified by given $locationId</h2>
<pre>changeMainLocation(mixed $contentId, mixed $locationId, mixed $versionNo, mixed $parentLocationId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Updates ezcontentobject_tree table for the given $contentId and eznode_assignment table for the given
$contentId, $parentLocationId and $versionNo</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$versionNo</h4>
<code>mixed</code><p>version number, needed to update eznode_assignment table</p></div>
<div class="subelement argument">
<h4>$parentLocationId</h4>
<code>mixed</code><p>parent location of location identified by $locationId, needed to update eznode_assignment table</p>
</div>
</div></div>
</div>
<a name="cleanupTrash" id="cleanupTrash"></a><div class="element clickable method public cleanupTrash" data-toggle="collapse" data-target=".cleanupTrash .collapse">
<h2>Removes every entries in the trash.</h2>
<pre>cleanupTrash() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>Will NOT remove associated content objects nor attributes.</p>

<p>Basically truncates ezcontentobject_trash table.</p></p></div></div>
</div>
<a name="countLocationsByContentId" id="countLocationsByContentId"></a><div class="element clickable method public countLocationsByContentId" data-toggle="collapse" data-target=".countLocationsByContentId .collapse">
<h2>Returns how many locations given content object identified by $contentId has</h2>
<pre>countLocationsByContentId(int $contentId) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>int</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="create" id="create"></a><div class="element clickable method public create" data-toggle="collapse" data-target=".create .collapse">
<h2>Creates a new location in given $parentNode</h2>
<pre>create(\eZ\Publish\SPI\Persistence\Content\Location\CreateStruct $createStruct, \array $parentNode) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.html">\eZ\Publish\SPI\Persistence\Content\Location</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$createStruct</h4>
<code><a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.CreateStruct.html">\eZ\Publish\SPI\Persistence\Content\Location\CreateStruct</a></code>
</div>
<div class="subelement argument">
<h4>$parentNode</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.html">\eZ\Publish\SPI\Persistence\Content\Location</a></code></div>
</div></div>
</div>
<a name="createLocationsFromNodeAssignments" id="createLocationsFromNodeAssignments"></a><div class="element clickable method public createLocationsFromNodeAssignments" data-toggle="collapse" data-target=".createLocationsFromNodeAssignments .collapse">
<h2>Create locations from node assignments</h2>
<pre>createLocationsFromNodeAssignments(mixed $contentId, mixed $versionNo) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Convert existing node assignments into real locations.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$versionNo</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="createNodeAssignment" id="createNodeAssignment"></a><div class="element clickable method public createNodeAssignment" data-toggle="collapse" data-target=".createNodeAssignment .collapse">
<h2>Create an entry in the node assignment table</h2>
<pre>createNodeAssignment(\eZ\Publish\SPI\Persistence\Content\Location\CreateStruct $createStruct, mixed $parentNodeId, int $type) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$createStruct</h4>
<code><a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.CreateStruct.html">\eZ\Publish\SPI\Persistence\Content\Location\CreateStruct</a></code>
</div>
<div class="subelement argument">
<h4>$parentNodeId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$type</h4>
<code>int</code>
</div>
</div></div>
</div>
<a name="deleteNodeAssignment" id="deleteNodeAssignment"></a><div class="element clickable method public deleteNodeAssignment" data-toggle="collapse" data-target=".deleteNodeAssignment .collapse">
<h2>Deletes node assignment for given $contentId and $versionNo</h2>
<pre>deleteNodeAssignment(int $contentId, int $versionNo) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$versionNo</h4>
<code>int</code>
</div>
</div></div>
</div>
<a name="getBasicNodeData" id="getBasicNodeData"></a><div class="element clickable method public getBasicNodeData" data-toggle="collapse" data-target=".getBasicNodeData .collapse">
<h2>Returns an array with basic node data</h2>
<pre>getBasicNodeData(mixed $nodeId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>We might want to cache this, since this method is used by about every
method in the location handler.</p></p>
<table class="table table-bordered"><tr>
<th>optimze</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$nodeId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getBasicNodeDataByRemoteId" id="getBasicNodeDataByRemoteId"></a><div class="element clickable method public getBasicNodeDataByRemoteId" data-toggle="collapse" data-target=".getBasicNodeDataByRemoteId .collapse">
<h2>Returns an array with basic node data for the node with $remoteId</h2>
<pre>getBasicNodeDataByRemoteId(mixed $remoteId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>optimze</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$remoteId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getChildren" id="getChildren"></a><div class="element clickable method public getChildren" data-toggle="collapse" data-target=".getChildren .collapse">
<h2>Returns data for the first level children of the location identified by given $locationId</h2>
<pre>getChildren(mixed $locationId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getFallbackMainNodeData" id="getFallbackMainNodeData"></a><div class="element clickable method public getFallbackMainNodeData" data-toggle="collapse" data-target=".getFallbackMainNodeData .collapse">
<h2>Returns id of the next in line node to be set as a new main node</h2>
<pre>getFallbackMainNodeData(mixed $contentId, mixed $locationId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This returns lowest node id for content identified by $contentId, and not of
the node identified by given $locationId (current main node).
Assumes that content has more than one location.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getSubtreeContent" id="getSubtreeContent"></a><div class="element clickable method public getSubtreeContent" data-toggle="collapse" data-target=".getSubtreeContent .collapse">
<h2>Find all content in the given subtree</h2>
<pre>getSubtreeContent(mixed $sourceId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sourceId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="hideSubtree" id="hideSubtree"></a><div class="element clickable method public hideSubtree" data-toggle="collapse" data-target=".hideSubtree .collapse">
<h2>Sets a location to be hidden, and it self + all children to invisible.</h2>
<pre>hideSubtree(string $pathString) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pathString</h4>
<code>string</code>
</div>
</div></div>
</div>
<a name="listTrashed" id="listTrashed"></a><div class="element clickable method public listTrashed" data-toggle="collapse" data-target=".listTrashed .collapse">
<h2>Lists trashed items.</h2>
<pre>listTrashed(int $offset, int $limit, \array $sort) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns entries from ezcontentobject_trash.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$limit</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$sort</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="loadLocationDataByContent" id="loadLocationDataByContent"></a><div class="element clickable method public loadLocationDataByContent" data-toggle="collapse" data-target=".loadLocationDataByContent .collapse">
<h2>Loads data for all Locations for $contentId, optionally only in the
subtree starting at $rootLocationId</h2>
<pre>loadLocationDataByContent(int $contentId, int $rootLocationId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$rootLocationId</h4>
<code>int</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="loadTrashByLocation" id="loadTrashByLocation"></a><div class="element clickable method public loadTrashByLocation" data-toggle="collapse" data-target=".loadTrashByLocation .collapse">
<h2>Load trash data specified by location ID</h2>
<pre>loadTrashByLocation(mixed $locationId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="moveSubtreeNodes" id="moveSubtreeNodes"></a><div class="element clickable method public moveSubtreeNodes" data-toggle="collapse" data-target=".moveSubtreeNodes .collapse">
<h2>Update path strings to move nodes in the ezcontentobject_tree table</h2>
<pre>moveSubtreeNodes(string $fromPathString, string $toPathString) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This query can likely be optimized to use some more advanced string
operations, which then depend on the respective database.</p></p>
<table class="table table-bordered"><tr>
<th>optimize</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$fromPathString</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$toPathString</h4>
<code>string</code>
</div>
</div></div>
</div>
<a name="removeElementFromTrash" id="removeElementFromTrash"></a><div class="element clickable method public removeElementFromTrash" data-toggle="collapse" data-target=".removeElementFromTrash .collapse">
<h2>Removes trashed element identified by $id from trash.</h2>
<pre>removeElementFromTrash(int $id) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Will NOT remove associated content object nor attributes.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$id</h4>
<code>int</code><p>The trashed location Id</p></div>
</div></div>
</div>
<a name="removeLocation" id="removeLocation"></a><div class="element clickable method public removeLocation" data-toggle="collapse" data-target=".removeLocation .collapse">
<h2>Deletes ezcontentobject_tree row for given $locationId (node_id)</h2>
<pre>removeLocation(mixed $locationId) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="setSectionForSubtree" id="setSectionForSubtree"></a><div class="element clickable method public setSectionForSubtree" data-toggle="collapse" data-target=".setSectionForSubtree .collapse">
<h2>Set section on all content objects in the subtree</h2>
<pre>setSectionForSubtree(mixed $pathString, mixed $sectionId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pathString</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$sectionId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a name="swap" id="swap"></a><div class="element clickable method public swap" data-toggle="collapse" data-target=".swap .collapse">
<h2>Swaps the content object being pointed to by a location object.</h2>
<pre>swap(mixed $locationId1, mixed $locationId2) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Make the location identified by $locationId1 refer to the Content
referred to by $locationId2 and vice versa.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId1</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$locationId2</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a name="trashLocation" id="trashLocation"></a><div class="element clickable method public trashLocation" data-toggle="collapse" data-target=".trashLocation .collapse">
<h2>Sends a single location identified by given $locationId to the trash.</h2>
<pre>trashLocation(mixed $locationId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The associated content object is left untouched.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a name="unHideSubtree" id="unHideSubtree"></a><div class="element clickable method public unHideSubtree" data-toggle="collapse" data-target=".unHideSubtree .collapse">
<h2>Sets a location to be unhidden, and self + children to visible unless a parent is hidding the tree.</h2>
<pre>unHideSubtree(string $pathString) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If not make sure only children down to first hidden node is marked visible.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pathString</h4>
<code>string</code>
</div>
</div></div>
</div>
<a name="untrashLocation" id="untrashLocation"></a><div class="element clickable method public untrashLocation" data-toggle="collapse" data-target=".untrashLocation .collapse">
<h2>Returns a trashed location to normal state.</h2>
<pre>untrashLocation(mixed $locationId, mixed $newParentId) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.html">\eZ\Publish\SPI\Persistence\Content\Location</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Recreates the originally trashed location in the new position. If no new
position has been specified, it will be tried to re-create the location
at the old position. If this is not possible ( because the old location
does not exist any more) and exception is thrown.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$newParentId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.html">\eZ\Publish\SPI\Persistence\Content\Location</a></code></div>
</div></div>
</div>
<a name="update" id="update"></a><div class="element clickable method public update" data-toggle="collapse" data-target=".update .collapse">
<h2>Updates an existing location.</h2>
<pre>update(\eZ\Publish\SPI\Persistence\Content\Location\UpdateStruct $location, int $locationId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$location</h4>
<code><a href="../classes/eZ.Publish.SPI.Persistence.Content.Location.UpdateStruct.html">\eZ\Publish\SPI\Persistence\Content\Location\UpdateStruct</a></code>
</div>
<div class="subelement argument">
<h4>$locationId</h4>
<code>int</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a name="updateLocationsContentVersionNo" id="updateLocationsContentVersionNo"></a><div class="element clickable method public updateLocationsContentVersionNo" data-toggle="collapse" data-target=".updateLocationsContentVersionNo .collapse">
<h2>Updates all Locations of content identified with $contentId with $versionNo</h2>
<pre>updateLocationsContentVersionNo(mixed $contentId, mixed $versionNo) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$versionNo</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="updateNodeAssignment" id="updateNodeAssignment"></a><div class="element clickable method public updateNodeAssignment" data-toggle="collapse" data-target=".updateNodeAssignment .collapse">
<h2>Update node assignment table</h2>
<pre>updateNodeAssignment(int $contentObjectId, int $oldParent, int $newParent, int $opcode) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$contentObjectId</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$oldParent</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$newParent</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$opcode</h4>
<code>int</code>
</div>
</div></div>
</div>
<a name="updatePathIdentificationString" id="updatePathIdentificationString"></a><div class="element clickable method public updatePathIdentificationString" data-toggle="collapse" data-target=".updatePathIdentificationString .collapse">
<h2>Updates path identification string for given $locationId.</h2>
<pre>updatePathIdentificationString(mixed $locationId, mixed $parentLocationId, string $text) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$parentLocationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
</div></div>
</div>
<a name="updateSubtreeModificationTime" id="updateSubtreeModificationTime"></a><div class="element clickable method public updateSubtreeModificationTime" data-toggle="collapse" data-target=".updateSubtreeModificationTime .collapse">
<h2>Updated subtree modification time for all nodes on path</h2>
<pre>updateSubtreeModificationTime(string $pathString, int | null $timestamp) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pathString</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$timestamp</h4>
<code>intnull</code>
</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-constant"></i> Constants</h3>
<a name="NODE_ASSIGNMENT_OP_CODE_CREATE" id="NODE_ASSIGNMENT_OP_CODE_CREATE"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_CREATE" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_CREATE .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_CREATE</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_CREATE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_CREATE_NOP" id="NODE_ASSIGNMENT_OP_CODE_CREATE_NOP"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_CREATE_NOP" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_CREATE_NOP .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_CREATE_NOP</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_CREATE_NOP </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_EXECUTE" id="NODE_ASSIGNMENT_OP_CODE_EXECUTE"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_EXECUTE" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_EXECUTE .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_EXECUTE</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_EXECUTE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_MOVE" id="NODE_ASSIGNMENT_OP_CODE_MOVE"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_MOVE" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_MOVE .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_MOVE</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_MOVE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_MOVE_NOP" id="NODE_ASSIGNMENT_OP_CODE_MOVE_NOP"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_MOVE_NOP" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_MOVE_NOP .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_MOVE_NOP</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_MOVE_NOP </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_NOP" id="NODE_ASSIGNMENT_OP_CODE_NOP"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_NOP" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_NOP .collapse">
<h2>Constants for node assignment op codes</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_NOP </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_REMOVE" id="NODE_ASSIGNMENT_OP_CODE_REMOVE"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_REMOVE" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_REMOVE .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_REMOVE</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_REMOVE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP" id="NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_REMOVE_NOP </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_SET" id="NODE_ASSIGNMENT_OP_CODE_SET"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_SET" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_SET .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_SET</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_SET </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="NODE_ASSIGNMENT_OP_CODE_SET_NOP" id="NODE_ASSIGNMENT_OP_CODE_SET_NOP"> </a><div class="element clickable constant  NODE_ASSIGNMENT_OP_CODE_SET_NOP" data-toggle="collapse" data-target=".NODE_ASSIGNMENT_OP_CODE_SET_NOP .collapse">
<h2>NODE_ASSIGNMENT_OP_CODE_SET_NOP</h2>
<pre>NODE_ASSIGNMENT_OP_CODE_SET_NOP </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a7</a> and<br>
            generated on 2012-11-29T14:53:37+01:00.<br></footer></div>
</div>
</body>
</html>
