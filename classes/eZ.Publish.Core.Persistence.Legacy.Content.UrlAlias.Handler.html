<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Handler</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/eZ.html"><i class="icon-th"></i> eZ</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/FieldTypeProviderInterface.html"><i class="icon-folder-open"></i> FieldTypeProviderInterface</a></li>
<li><a href="../packages/eZ.html"><i class="icon-folder-open"></i> eZ</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">3441</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul>
<li>todo 
                <span class="label label-info">162</span>
</li>
<li>fixme 
                <span class="label label-info">10</span>
</li>
</ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">10</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#__construct" title="__construct :: Creates a new UrlAlias Handler"><span class="description">Creates a new UrlAlias Handler</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#createCustomUrlAlias" title="createCustomUrlAlias :: Create a user chosen $alias pointing to $locationId in $languageCode."><span class="description">Create a user chosen $alias pointing to $locationId in $languageCode.</span><pre>createCustomUrlAlias()</pre></a></li>
<li class="method public "><a href="#createGlobalUrlAlias" title="createGlobalUrlAlias :: Create a user chosen $alias pointing to a resource in $languageCode."><span class="description">Create a user chosen $alias pointing to a resource in $languageCode.</span><pre>createGlobalUrlAlias()</pre></a></li>
<li class="method public "><a href="#listGlobalURLAliases" title="listGlobalURLAliases :: List global aliases."><span class="description">List global aliases.</span><pre>listGlobalURLAliases()</pre></a></li>
<li class="method public "><a href="#listURLAliasesForLocation" title="listURLAliasesForLocation :: List of user generated or autogenerated url entries, pointing to $locationId."><span class="description">List of user generated or autogenerated url entries, pointing to $locationId.</span><pre>listURLAliasesForLocation()</pre></a></li>
<li class="method public "><a href="#loadUrlAlias" title="loadUrlAlias :: Loads URL alias by given $id"><span class="description">Loads URL alias by given $id</span><pre>loadUrlAlias()</pre></a></li>
<li class="method public "><a href="#locationCopied" title="locationCopied :: Notifies the underlying engine that a location has moved."><span class="description">Notifies the underlying engine that a location has moved.</span><pre>locationCopied()</pre></a></li>
<li class="method public "><a href="#locationDeleted" title="locationDeleted :: Notifies the underlying engine that a location was deleted or moved to trash"><span class="description">Notifies the underlying engine that a location was deleted or moved to trash</span><pre>locationDeleted()</pre></a></li>
<li class="method public "><a href="#locationMoved" title="locationMoved :: Notifies the underlying engine that a location has moved."><span class="description">Notifies the underlying engine that a location has moved.</span><pre>locationMoved()</pre></a></li>
<li class="method public "><a href="#lookup" title="lookup :: Looks up a url alias for the given url"><span class="description">Looks up a url alias for the given url</span><pre>lookup()</pre></a></li>
<li class="method public "><a href="#publishUrlAliasForLocation" title="publishUrlAliasForLocation :: This method creates or updates an urlalias from a new or changed content name in a language
(if published)."><span class="description">This method creates or updates an urlalias from a new or changed content name in a language
(if published).</span><pre>publishUrlAliasForLocation()</pre></a></li>
<li class="method public "><a href="#removeURLAliases" title="removeURLAliases :: Removes url aliases."><span class="description">Removes url aliases.</span><pre>removeURLAliases()</pre></a></li>
<li class="nav-header protected">» Protected</li>
<li class="method protected "><a href="#cleanupText" title="cleanupText :: Cleans up"><span class="description">Cleans up</span><pre>cleanupText()</pre></a></li>
<li class="method protected "><a href="#convertToAlias" title="convertToAlias :: Converts the path \a $urlElement into a new alias url which only consists of valid characters
in the URL."><span class="description">Converts the path \a $urlElement into a new alias url which only consists of valid characters
in the URL.</span><pre>convertToAlias()</pre></a></li>
<li class="method protected "><a href="#copySubtree" title="copySubtree :: Recursively copies aliases from old parent under new parent."><span class="description">Recursively copies aliases from old parent under new parent.</span><pre>copySubtree()</pre></a></li>
<li class="method protected "><a href="#createUrlAlias" title="createUrlAlias :: Internal method for creating global or custom URL alias (these are handled in the same way)"><span class="description">Internal method for creating global or custom URL alias (these are handled in the same way)</span><pre>createUrlAlias()</pre></a></li>
<li class="method protected "><a href="#getCopiedLocationsMap" title="getCopiedLocationsMap :: "><span class="description">getCopiedLocationsMap()
        </span><pre>getCopiedLocationsMap()</pre></a></li>
<li class="method protected "><a href="#getHash" title="getHash :: "><span class="description">getHash()
        </span><pre>getHash()</pre></a></li>
<li class="method protected "><a href="#getRealAliasId" title="getRealAliasId :: Returns possibly corrected alias id for given $locationId."><span class="description">Returns possibly corrected alias id for given $locationId.</span><pre>getRealAliasId()</pre></a></li>
<li class="method protected "><a href="#getUniqueCounterValue" title="getUniqueCounterValue :: Returns unique counter number that is appended to the path element in order to make it unique
against system reserved names and other entries on the same level."><span class="description">Returns unique counter number that is appended to the path element in order to make it unique
against system reserved names and other entries on the same level.</span><pre>getUniqueCounterValue()</pre></a></li>
<li class="method protected "><a href="#getWordSeparator" title="getWordSeparator :: Returns word separator value"><span class="description">Returns word separator value</span><pre>getWordSeparator()</pre></a></li>
<li class="method protected "><a href="#insertNopEntry" title="insertNopEntry :: Convenience method for inserting nop type row."><span class="description">Convenience method for inserting nop type row.</span><pre>insertNopEntry()</pre></a></li>
<li class="method protected "><a href="#removeSubtree" title="removeSubtree :: Recursively removes aliases by given parent id and action"><span class="description">Recursively removes aliases by given parent id and action</span><pre>removeSubtree()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="nav-header protected">» Protected</li>
<li class="property protected "><a href="#%24configuration" title="$configuration :: "><span class="description">$configuration</span><pre>$configuration</pre></a></li>
<li class="property protected "><a href="#%24gateway" title="$gateway :: UrlAlias Gateway"><span class="description">UrlAlias Gateway</span><pre>$gateway</pre></a></li>
<li class="property protected "><a href="#%24languageHandler" title="$languageHandler :: Caching language handler"><span class="description">Caching language handler</span><pre>$languageHandler</pre></a></li>
<li class="property protected "><a href="#%24locationGateway" title="$locationGateway :: Gateway for handling location data"><span class="description">Gateway for handling location data</span><pre>$locationGateway</pre></a></li>
<li class="property protected "><a href="#%24mapper" title="$mapper :: UrlAlias Mapper"><span class="description">UrlAlias Mapper</span><pre>$mapper</pre></a></li>
<li class="property protected "><a href="#%24transformationProcessor" title="$transformationProcessor :: Transformation processor to normalize URL strings"><span class="description">Transformation processor to normalize URL strings</span><pre>$transformationProcessor</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CeZ%5CPublish%5CCore%5CPersistence%5CLegacy%5CContent%5CUrlAlias%5CHandler" id="\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Handler"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/eZ.html">eZ</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.html">Publish</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.html">Core</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.html">Persistence</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.html">Legacy</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.Content.html">Content</a></li>
<span class="divider">\</span><li><a href="../namespaces/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.html">UrlAlias</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Handler.html">Handler</a>
</li>
</ul>
<div href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Handler.html" class="element class">
<p class="short_description">The UrlAlias Handler provides nice urls management.</p>
<div class="details">
<p class="long_description"><p>Its methods operate on a representation of the url alias data structure held
inside a storage engine.</p></p>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="__construct" id="__construct"></a><div class="element clickable method public __construct" data-toggle="collapse" data-target=".__construct .collapse">
<h2>Creates a new UrlAlias Handler</h2>
<pre>__construct(\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Gateway $gateway, \eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Mapper $mapper, \eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway $locationGateway, \eZ\Publish\Core\Persistence\Legacy\Content\Language\Handler $languageHandler, \eZ\Publish\Core\Persistence\Legacy\Content\Search\TransformationProcessor $transformationProcessor, \array $configuration) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$gateway</h4>
<code><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Gateway.html">\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Gateway</a></code>
</div>
<div class="subelement argument">
<h4>$mapper</h4>
<code><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Mapper.html">\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Mapper</a></code>
</div>
<div class="subelement argument">
<h4>$locationGateway</h4>
<code><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Location.Gateway.html">\eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway</a></code>
</div>
<div class="subelement argument">
<h4>$languageHandler</h4>
<code><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Language.Handler.html">\eZ\Publish\Core\Persistence\Legacy\Content\Language\Handler</a></code>
</div>
<div class="subelement argument">
<h4>$transformationProcessor</h4>
<code><a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Search.TransformationProcessor.html">\eZ\Publish\Core\Persistence\Legacy\Content\Search\TransformationProcessor</a></code>
</div>
<div class="subelement argument">
<h4>$configuration</h4>
<code>array</code>
</div>
</div></div>
</div>
<a name="createCustomUrlAlias" id="createCustomUrlAlias"></a><div class="element clickable method public createCustomUrlAlias" data-toggle="collapse" data-target=".createCustomUrlAlias .collapse">
<h2>Create a user chosen $alias pointing to $locationId in $languageCode.</h2>
<pre>createCustomUrlAlias(mixed $locationId, string $path, boolean $forwarding, string $languageCode, boolean $alwaysAvailable) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If $languageCode is null the $alias is created in the system's default
language. $alwaysAvailable makes the alias available in all languages.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$path</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$forwarding</h4>
<code>boolean</code>
</div>
<div class="subelement argument">
<h4>$languageCode</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$alwaysAvailable</h4>
<code>boolean</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></code></div>
</div></div>
</div>
<a name="createGlobalUrlAlias" id="createGlobalUrlAlias"></a><div class="element clickable method public createGlobalUrlAlias" data-toggle="collapse" data-target=".createGlobalUrlAlias .collapse">
<h2>Create a user chosen $alias pointing to a resource in $languageCode.</h2>
<pre>createGlobalUrlAlias(string $resource, string $path, boolean $forwarding, string $languageCode, boolean $alwaysAvailable) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method does not handle location resources - if a user enters a location target
the createCustomUrlAlias method has to be used.</p>

<p>If $languageCode is null the $alias is created in the system's default
language. $alwaysAvailable makes the alias available in all languages.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$resource</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$path</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$forwarding</h4>
<code>boolean</code>
</div>
<div class="subelement argument">
<h4>$languageCode</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$alwaysAvailable</h4>
<code>boolean</code>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.ForbiddenException.html">\eZ\Publish\API\Repository\Exceptions\ForbiddenException</a></code></th>
<td>if the path already exists for the given language</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></code></div>
</div></div>
</div>
<a name="listGlobalURLAliases" id="listGlobalURLAliases"></a><div class="element clickable method public listGlobalURLAliases" data-toggle="collapse" data-target=".listGlobalURLAliases .collapse">
<h2>List global aliases.</h2>
<pre>listGlobalURLAliases(string | null $languageCode, int $offset, int $limit) : <a href="Publish.SPI.Persistence.Content.UrlAlias.html#%5CeZ%5CPublish%5CSPI%5CPersistence%5CContent%5CUrlAlias">\eZ\Publish\SPI\Persistence\Content\UrlAlias[]</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$languageCode</h4>
<code>stringnull</code>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code>
</div>
<div class="subelement argument">
<h4>$limit</h4>
<code>int</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="Publish.SPI.Persistence.Content.UrlAlias.html#%5CeZ%5CPublish%5CSPI%5CPersistence%5CContent%5CUrlAlias">\eZ\Publish\SPI\Persistence\Content\UrlAlias[]</a></code></div>
</div></div>
</div>
<a name="listURLAliasesForLocation" id="listURLAliasesForLocation"></a><div class="element clickable method public listURLAliasesForLocation" data-toggle="collapse" data-target=".listURLAliasesForLocation .collapse">
<h2>List of user generated or autogenerated url entries, pointing to $locationId.</h2>
<pre>listURLAliasesForLocation(mixed $locationId, boolean $custom) : <a href="Publish.SPI.Persistence.Content.UrlAlias.html#%5CeZ%5CPublish%5CSPI%5CPersistence%5CContent%5CUrlAlias">\eZ\Publish\SPI\Persistence\Content\UrlAlias[]</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$custom</h4>
<code>boolean</code><p>if true the user generated aliases are listed otherwise the autogenerated</p></div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="Publish.SPI.Persistence.Content.UrlAlias.html#%5CeZ%5CPublish%5CSPI%5CPersistence%5CContent%5CUrlAlias">\eZ\Publish\SPI\Persistence\Content\UrlAlias[]</a></code></div>
</div></div>
</div>
<a name="loadUrlAlias" id="loadUrlAlias"></a><div class="element clickable method public loadUrlAlias" data-toggle="collapse" data-target=".loadUrlAlias .collapse">
<h2>Loads URL alias by given $id</h2>
<pre>loadUrlAlias(string $id) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.NotFoundException.html">\eZ\Publish\API\Repository\Exceptions\NotFoundException</a></code></th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></code></div>
</div></div>
</div>
<a name="locationCopied" id="locationCopied"></a><div class="element clickable method public locationCopied" data-toggle="collapse" data-target=".locationCopied .collapse">
<h2>Notifies the underlying engine that a location has moved.</h2>
<pre>locationCopied(mixed $locationId, $newLocationId, mixed $newParentId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method triggers the creation of the autogenerated aliases for the copied locations</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$newLocationId</h4>
<code></code>
</div>
<div class="subelement argument">
<h4>$newParentId</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="locationDeleted" id="locationDeleted"></a><div class="element clickable method public locationDeleted" data-toggle="collapse" data-target=".locationDeleted .collapse">
<h2>Notifies the underlying engine that a location was deleted or moved to trash</h2>
<pre>locationDeleted($locationId) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code></code>
</div>
</div></div>
</div>
<a name="locationMoved" id="locationMoved"></a><div class="element clickable method public locationMoved" data-toggle="collapse" data-target=".locationMoved .collapse">
<h2>Notifies the underlying engine that a location has moved.</h2>
<pre>locationMoved(mixed $locationId, mixed $oldParentId, mixed $newParentId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method triggers the change of the autogenerated aliases.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$oldParentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$newParentId</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="lookup" id="lookup"></a><div class="element clickable method public lookup" data-toggle="collapse" data-target=".lookup .collapse">
<h2>Looks up a url alias for the given url</h2>
<pre>lookup(string $url) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/eZ.Publish.API.Repository.Exceptions.NotFoundException.html">\eZ\Publish\API\Repository\Exceptions\NotFoundException</a></code></th>
<td></td>
</tr>
<tr>
<th><code><a href="http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></code></th>
<td></td>
</tr>
<tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.NotFoundException.html">\eZ\Publish\Core\Base\Exceptions\NotFoundException</a></code></th>
<td></td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></code></div>
</div></div>
</div>
<a name="publishUrlAliasForLocation" id="publishUrlAliasForLocation"></a><div class="element clickable method public publishUrlAliasForLocation" data-toggle="collapse" data-target=".publishUrlAliasForLocation .collapse">
<h2>This method creates or updates an urlalias from a new or changed content name in a language
(if published).</h2>
<pre>publishUrlAliasForLocation(mixed $locationId, mixed $parentLocationId, string $name, string $languageCode, boolean $alwaysAvailable, boolean $isLanguageMain) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>It also can be used to create an alias for a new location of content.
On update the old alias is linked to the new one (i.e. a history alias is generated).</p>

<p>$alwaysAvailable controls whether the url alias is accessible in all
languages.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$parentLocationId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code><p>the new name computed by the name schema or url alias schema</p></div>
<div class="subelement argument">
<h4>$languageCode</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$alwaysAvailable</h4>
<code>boolean</code>
</div>
<div class="subelement argument">
<h4>$isLanguageMain</h4>
<code>boolean</code><p>used only for legacy storage for updating ezcontentobject_tree.path_identification_string</p></div>
</div></div>
</div>
<a name="removeURLAliases" id="removeURLAliases"></a><div class="element clickable method public removeURLAliases" data-toggle="collapse" data-target=".removeURLAliases .collapse">
<h2>Removes url aliases.</h2>
<pre>removeURLAliases(\array $urlAliases) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Autogenerated aliases are not removed by this method.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$urlAliases</h4>
<code><a href="Publish.SPI.Persistence.Content.UrlAlias.html#%5CeZ%5CPublish%5CSPI%5CPersistence%5CContent%5CUrlAlias">\eZ\Publish\SPI\Persistence\Content\UrlAlias[]</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a name="cleanupText" id="cleanupText"></a><div class="element clickable method protected cleanupText" data-toggle="collapse" data-target=".cleanupText .collapse">
<h2>Cleans up</h2>
<pre>cleanupText(string $text, string $method) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$method</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="convertToAlias" id="convertToAlias"></a><div class="element clickable method protected convertToAlias" data-toggle="collapse" data-target=".convertToAlias .collapse">
<h2>Converts the path \a $urlElement into a new alias url which only consists of valid characters
in the URL.</h2>
<pre>convertToAlias(string $text, string $defaultValue, string | null $transformation) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For non-Unicode setups this means character in the range a-z, numbers and _, for Unicode
setups it means all characters except space, &amp;, ;, /, :, =, ?, [, ], (, ), -</p>

<p>Invalid characters are converted to -.</p>

<p>Example with a non-Unicode setup</p>

<p>'My car' => 'My-car'
'What is this?' => 'What-is-this'
'This &amp; that' => 'This-that'
'myfile.tpl' => 'Myfile-tpl',
'øæå' => 'oeaeaa'</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$defaultValue</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$transformation</h4>
<code>stringnull</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="copySubtree" id="copySubtree"></a><div class="element clickable method protected copySubtree" data-toggle="collapse" data-target=".copySubtree .collapse">
<h2>Recursively copies aliases from old parent under new parent.</h2>
<pre>copySubtree(array $actionMap, mixed $oldParentAliasId, mixed $newParentAliasId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$actionMap</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$oldParentAliasId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$newParentAliasId</h4>
<code>mixed</code>
</div>
</div></div>
</div>
<a name="createUrlAlias" id="createUrlAlias"></a><div class="element clickable method protected createUrlAlias" data-toggle="collapse" data-target=".createUrlAlias .collapse">
<h2>Internal method for creating global or custom URL alias (these are handled in the same way)</h2>
<pre>createUrlAlias(string $action, string $path, bool $forward, string | null $languageCode, bool $alwaysAvailable) : <a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$action</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$path</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$forward</h4>
<code>bool</code>
</div>
<div class="subelement argument">
<h4>$languageCode</h4>
<code>stringnull</code>
</div>
<div class="subelement argument">
<h4>$alwaysAvailable</h4>
<code>bool</code>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/eZ.Publish.Core.Base.Exceptions.ForbiddenException.html">\eZ\Publish\Core\Base\Exceptions\ForbiddenException</a></code></th>
<td>if the path already exists for the given language</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/eZ.Publish.SPI.Persistence.Content.UrlAlias.html">\eZ\Publish\SPI\Persistence\Content\UrlAlias</a></code></div>
</div></div>
</div>
<a name="getCopiedLocationsMap" id="getCopiedLocationsMap"></a><div class="element clickable method protected getCopiedLocationsMap" data-toggle="collapse" data-target=".getCopiedLocationsMap .collapse">
<h2>getCopiedLocationsMap()
        </h2>
<pre>getCopiedLocationsMap(mixed $oldParentId, mixed $newParentId) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$oldParentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$newParentId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getHash" id="getHash"></a><div class="element clickable method protected getHash" data-toggle="collapse" data-target=".getHash .collapse">
<h2>getHash()
        </h2>
<pre>getHash(string $text) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="getRealAliasId" id="getRealAliasId"></a><div class="element clickable method protected getRealAliasId" data-toggle="collapse" data-target=".getRealAliasId .collapse">
<h2>Returns possibly corrected alias id for given $locationId.</h2>
<pre>getRealAliasId(mixed $locationId) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>First level entries must have parent id set to 0 instead of their parent location alias id.
There are two cases when alias id needs to be corrected:
1) location is special location without URL alias (location with id=1 in standard installation)
2) location is site root location, having special root entry in the ezurlalias_ml table (location with id=2
   in standard installation)</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locationId</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="getUniqueCounterValue" id="getUniqueCounterValue"></a><div class="element clickable method protected getUniqueCounterValue" data-toggle="collapse" data-target=".getUniqueCounterValue .collapse">
<h2>Returns unique counter number that is appended to the path element in order to make it unique
against system reserved names and other entries on the same level.</h2>
<pre>getUniqueCounterValue(string $text, int $parentId) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Comparison is done only if parent element id is 0 (meaning that entry is at first path element).
In a case when reserved name is matched method will return 2.
When parent element id is not 0 or when there is no match with reserved names this will return 1,
which is default value not appended to name.
Note: this is used only when publishing URL aliases, when creating global and custom aliases user
is allowed to create first level entries that collide with reserved names. Also, in actual creation
of the alias name will be further checked against existing elements under the same parent, using
unique counter value determined here as starting unique counter value.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$parentId</h4>
<code>int</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="getWordSeparator" id="getWordSeparator"></a><div class="element clickable method protected getWordSeparator" data-toggle="collapse" data-target=".getWordSeparator .collapse">
<h2>Returns word separator value</h2>
<pre>getWordSeparator() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="insertNopEntry" id="insertNopEntry"></a><div class="element clickable method protected insertNopEntry" data-toggle="collapse" data-target=".insertNopEntry .collapse">
<h2>Convenience method for inserting nop type row.</h2>
<pre>insertNopEntry(mixed $parentId, string $text, string $textMD5) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$parentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$textMD5</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a name="removeSubtree" id="removeSubtree"></a><div class="element clickable method protected removeSubtree" data-toggle="collapse" data-target=".removeSubtree .collapse">
<h2>Recursively removes aliases by given parent id and action</h2>
<pre>removeSubtree(mixed $parentId, string $action) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$parentId</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$action</h4>
<code>string</code>
</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24configuration" id="$configuration"> </a><div class="element clickable property protected $configuration" data-toggle="collapse" data-target=".$configuration .collapse">
<h2>$configuration</h2>
<pre>$configuration </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24gateway" id="$gateway"> </a><div class="element clickable property protected $gateway" data-toggle="collapse" data-target=".$gateway .collapse">
<h2>UrlAlias Gateway</h2>
<pre>$gateway : <a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Gateway.html">\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Gateway</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24languageHandler" id="$languageHandler"> </a><div class="element clickable property protected $languageHandler" data-toggle="collapse" data-target=".$languageHandler .collapse">
<h2>Caching language handler</h2>
<pre>$languageHandler : <a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Language.CachingHandler.html">\eZ\Publish\Core\Persistence\Legacy\Content\Language\CachingHandler</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24locationGateway" id="$locationGateway"> </a><div class="element clickable property protected $locationGateway" data-toggle="collapse" data-target=".$locationGateway .collapse">
<h2>Gateway for handling location data</h2>
<pre>$locationGateway : <a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Location.Gateway.html">\eZ\Publish\Core\Persistence\Legacy\Content\Location\Gateway</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24mapper" id="$mapper"> </a><div class="element clickable property protected $mapper" data-toggle="collapse" data-target=".$mapper .collapse">
<h2>UrlAlias Mapper</h2>
<pre>$mapper : <a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.UrlAlias.Mapper.html">\eZ\Publish\Core\Persistence\Legacy\Content\UrlAlias\Mapper</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24transformationProcessor" id="$transformationProcessor"> </a><div class="element clickable property protected $transformationProcessor" data-toggle="collapse" data-target=".$transformationProcessor .collapse">
<h2>Transformation processor to normalize URL strings</h2>
<pre>$transformationProcessor : <a href="../classes/eZ.Publish.Core.Persistence.Legacy.Content.Search.TransformationProcessor.html">\eZ\Publish\Core\Persistence\Legacy\Content\Search\TransformationProcessor</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a7</a> and<br>
            generated on 2012-11-29T14:53:35+01:00.<br></footer></div>
</div>
</body>
</html>
